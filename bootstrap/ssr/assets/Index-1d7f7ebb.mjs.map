{"version":3,"file":"Index-1d7f7ebb.mjs","sources":["../../../resources/js/Pages/Public/Status/Index.vue"],"sourcesContent":["<script setup>\nimport Breadcrumbs from './Breadcrumbs.vue'\nimport MasterLayout from '@/Layouts/MasterLayout.vue'\nimport Form from '@/Pages/Public/Status/Form.vue';\nimport Status from '@/Pages/Public/Status/Status.vue';\nimport Head from \"@/Pages/Public/Components/Head.vue\";\n\nimport {swal} from '@/Includes/swal';\nimport {onMounted, ref} from \"vue\";\n\ndefineOptions({layout: MasterLayout})\n\nconst props = defineProps([\n    'statuses',\n    'categories',\n    'options',\n    'lang',\n    'pages',\n    'eventIdPageView',\n]);\n\nconst state = ref({\n    item: {\n        phone: null,\n        order_id: null,\n    },\n    isLoading: false,\n    statuses: [],\n    order: null\n});\n\nonMounted(async () => {\n    if (route().params.order_id && route().params.phone) {\n        state.value.item.phone = route().params.phone;\n        state.value.item.order_id = route().params.order_id;\n        await checkStatus();\n    }\n})\n\nconst checkStatus = async () => {\n    await axios.post(route('api.v1.orders.status'), state.value.item)\n        .then(({data}) => {\n            if (data.result) {\n                state.value.order = data.result;\n            } else {\n                swal({\n                    icon: 'error',\n                    title: 'Замовлення не знайдено',\n                    text: 'Перевірте введені дані або зверніться за допомогою до менеджера'\n                })\n            }\n        })\n}\n</script>\n\n<template>\n        <Head title=\"Статус замовлення\"/>\n\n        <div v-if=\"!state.isLoading\">\n            <Breadcrumbs :current-url=\"route().current\" :options=\"options\" :lang=\"lang\" title=\"Статус замовлення\"/>\n\n            <div class=\"max-w-xl mx-auto\">\n                <Form :item=\"state.item\"\n                      @submitForm=\"checkStatus\"\n                      v-if=\"!state.order\"\n                />\n\n                <Status :order=\"state.order\"\n                        v-if=\"state.order\"\n                        :statuses=\"state.statuses\"\n                />\n            </div>\n        </div>\n</template>\n"],"names":["__MACROS_defineComponent","MasterLayout"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAUc,MAAA,cAAAA,gBAAA,EAAC,QAAQC,YAAY,CAAA;;;;;;;;;;;;;AAWnC,UAAM,QAAQ,IAAI;AAAA,MACd,MAAM;AAAA,QACF,OAAO;AAAA,QACP,UAAU;AAAA,MACb;AAAA,MACD,WAAW;AAAA,MACX,UAAU,CAAE;AAAA,MACZ,OAAO;AAAA,IACX,CAAC;AAED,cAAU,YAAY;AAClB,UAAI,MAAO,EAAC,OAAO,YAAY,MAAO,EAAC,OAAO,OAAO;AACjD,cAAM,MAAM,KAAK,QAAQ,MAAO,EAAC,OAAO;AACxC,cAAM,MAAM,KAAK,WAAW,MAAO,EAAC,OAAO;AAC3C,cAAM,YAAW;AAAA,MACpB;AAAA,IACL,CAAC;AAED,UAAM,cAAc,YAAY;AAC5B,YAAM,MAAM,KAAK,MAAM,sBAAsB,GAAG,MAAM,MAAM,IAAI,EAC3D,KAAK,CAAC,EAAC,KAAI,MAAM;AACd,YAAI,KAAK,QAAQ;AACb,gBAAM,MAAM,QAAQ,KAAK;AAAA,QACzC,OAAmB;AACH,eAAK;AAAA,YACD,MAAM;AAAA,YACN,OAAO;AAAA,YACP,MAAM;AAAA,UAC1B,CAAiB;AAAA,QACJ;AAAA,MACb,CAAS;AAAA,IACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}