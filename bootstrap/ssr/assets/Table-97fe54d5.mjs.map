{"version":3,"file":"Table-97fe54d5.mjs","sources":["../../../resources/js/Pages/Admin/Content/Products/Table.vue"],"sourcesContent":["<script setup>\nimport Input from '@/Components/Form/Input.vue'\nimport LangTabs from '@/Components/LangTabs.vue'\nimport Table from '@/Components/Table.vue'\nimport XCircle from '@/Components/Icons/XCircle.vue'\n\nimport {inject, ref} from \"vue\";\nimport {useI18n} from 'vue-i18n';\n\ndefineProps(['data', 'canDestroy']);\nconst emits = defineEmits(['onDestroy', 'onEdit', 'onUpdateProductSort'])\n\nconst defaultLang = inject('$defaultLang');\nconst {t} = useI18n();\n\nconst activeLang = ref(defaultLang);\n\nconst headings = [\n    {\n        label: t('id'),\n        key: 'id'\n    },\n    {\n        label: t('preview'),\n        key: 'preview'\n    },\n    {\n        label: t('products.h1'),\n        key: 'h1'\n    },\n    {\n        label: t('published'),\n        key: 'published'\n    },\n    {\n        label: t('products.vendor_code'),\n        key: 'vendor_code'\n    },\n    {\n        label: t('products.price'),\n        key: 'price'\n    },\n    {\n        label: t('products.discount_price'),\n        key: 'discount_price'\n    },\n    {\n        label: t('sort'),\n        key: 'sort'\n    },\n    {\n        label: t('products.views') + \"<hr class='my-1'>\" + t('products.sales'),\n        key: 'stat'\n    },\n    {\n        label: t('products.returns') + \"<hr class='my-1'>\" + t('products.refunds'),\n        key: 'stat2'\n    },\n    {\n        label: '#',\n        key: 'actions'\n    }\n];\n\nconst changeLang = (val) => {\n    activeLang.value = val;\n}\n\nconst updateProductSort = (product_id, sort) => {\n    emits('onUpdateProductSort', product_id, sort)\n}\n</script>\n\n<template>\n    <LangTabs @clickLang=\"changeLang\"/>\n\n    <Table :headings=\"headings\" :isSlotMode=\"true\" :rows=\"data\">\n        <template #id=\"{data}\">\n            <a href=\"javascript:\" @click=\"$emit('onEdit', data.row.id,data.i)\">\n                {{ data.row.id }}\n            </a>\n        </template>\n\n        <template #h1=\"{data}\">\n            {{ data.row.h1[activeLang] }}\n        </template>\n\n        <template #published=\"{data}\">\n            {{ $filters.publishedStatus(data.row.published) }}\n        </template>\n\n        <template #price=\"{data}\">\n            {{ $filters.formatMoney(data.row.price) }}\n        </template>\n\n        <template #discount_price=\"{data}\">\n            {{ $filters.formatMoney(data.row.discount_price) }}\n        </template>\n\n        <template #preview=\"{data}\">\n            <img :src=\"data.row.preview_id ? route('images.55',data.row.preview.src) : null\"\n                 :alt=\"data.row.h1[activeLang]\"\n                 class=\"mx-auto\"\n            >\n        </template>\n\n        <template #stat=\"{data}\">\n            {{ data.row.viewed ? data.row.viewed : '0' }}\n            <hr class=\"my-1\">\n            {{ data.row.total_sales ? data.row.total_sales : '0' }}\n        </template>\n        <template #stat2=\"{data}\">\n            {{ data.row.returns ? data.row.returns : '0' }}\n            <hr class=\"my-1\">\n            {{ data.row.exchange ? data.row.exchange : '0' }}\n        </template>\n\n        <template #sort=\"{data}\">\n            <div class=\"grid grid-cols-2 gap-3 items-center\">\n                <Input v-model=\"data.row.sort\" class=\"px-3 text-center\"/>\n                <a href=\"javascript:\" @click=\"updateProductSort(data.row.id,data.row.sort)\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\n                         class=\"bi bi-save\" viewBox=\"0 0 16 16\">\n                        <path\n                            d=\"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z\"/>\n                    </svg>\n                </a>\n            </div>\n        </template>\n\n        <template #actions=\"{data}\">\n            <a href=\"javascript:\" @click=\"$emit('onDestroy', data.row.id)\" v-if=\"canDestroy\">\n                <XCircle/>\n            </a>\n        </template>\n    </Table>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;AAYA,UAAM,cAAc,OAAO,cAAc;AACzC,UAAM,EAAC,EAAC,IAAI;AAEZ,UAAM,aAAa,IAAI,WAAW;AAElC,UAAM,WAAW;AAAA,MACb;AAAA,QACI,OAAO,EAAE,IAAI;AAAA,QACb,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,SAAS;AAAA,QAClB,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,aAAa;AAAA,QACtB,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,WAAW;AAAA,QACpB,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,sBAAsB;AAAA,QAC/B,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,gBAAgB;AAAA,QACzB,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,yBAAyB;AAAA,QAClC,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,MAAM;AAAA,QACf,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,gBAAgB,IAAI,sBAAsB,EAAE,gBAAgB;AAAA,QACrE,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO,EAAE,kBAAkB,IAAI,sBAAsB,EAAE,kBAAkB;AAAA,QACzE,KAAK;AAAA,MACR;AAAA,MACD;AAAA,QACI,OAAO;AAAA,QACP,KAAK;AAAA,MACR;AAAA,IACL;AAEA,UAAM,aAAa,CAAC,QAAQ;AACxB,iBAAW,QAAQ;AAAA,IACvB;AAEA,UAAM,oBAAoB,CAAC,YAAY,SAAS;AAC5C,YAAM,uBAAuB,YAAY,IAAI;AAAA,IACjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}