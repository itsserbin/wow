{"version":3,"file":"Form-72760ae9.mjs","sources":["../../../resources/js/Components/Accordion/Accordion.vue","../../../resources/js/Components/Accordion/AccordionItem.vue","../../../resources/js/Pages/Admin/Crm/Clients/Form.vue"],"sourcesContent":["<script>\nexport default {\n    props: {},\n    data() {\n        return {\n            Accordion: {\n                count: 0,\n                active: null\n            }\n        };\n    },\n    provide() {\n        return {Accordion: this.Accordion};\n    }\n};\n</script>\n\n<template>\n    <div class=\"rounded-lg\">\n        <slot></slot>\n    </div>\n</template>\n","<script>\nimport gsap from 'gsap'\nimport ArrowUp from '@/Components/Icons/ArrowUp.vue';\nimport ArrowDown from '@/Components/Icons/ArrowDown.vue';\n\nexport default {\n    props: {},\n    inject: [\"Accordion\"],\n    data() {\n        return {\n            index: null\n        };\n    },\n    components: {\n        ArrowUp,\n        ArrowDown\n    },\n    computed: {\n        visible() {\n            return this.index === this.Accordion.active;\n        }\n    },\n    methods: {\n        open() {\n            if (this.visible) {\n                this.Accordion.active = null;\n            } else {\n                this.Accordion.active = this.index;\n            }\n        },\n        beforeEnter(el) {\n            el.style.opacity = 0\n            el.style.height = 0\n        },\n        enter(el, done) {\n            gsap.to(el, {\n                duration: 0.5,\n                opacity: 1,\n                height: el.scrollHeight,\n                delay: el.dataset.index * .15,\n                ease: \"Power3.easeIn\",\n                onComplete: done\n            })\n        },\n        leave(el, done) {\n            gsap.to(el, {\n                duration: 0.5,\n                opacity: 0,\n                height: 0,\n                delay: el.dataset.index * .15,\n                ease: \"Power3.easeOut\",\n                onComplete: done\n            })\n        }\n    },\n    created() {\n        this.index = this.Accordion.count++;\n    }\n};\n</script>\n\n<template>\n    <div class=\"\n                first:rounded-t-lg\n                last:rounded-b-lg\n                border\n                border-gray-200\n                dark:border-gray-800\n                hover:bg-gray-100\n                dark:hover:bg-gray-800\n                transition-all\n            \"\n         :class=\"{\n                    'dark:bg-gray-800' : visible,\n                    'dark:bg-gray-600' : !visible\n                }\"\n    >\n        <button @click=\"open\" type=\"button\"\n                class=\"\n                        flex\n                        items-center\n                        justify-between\n                        w-full\n                        p-5\n                        font-medium\n                        text-left\n                        text-gray-500\n                        dark:text-gray-400\n                    \">\n            <span><slot name=\"accordion-trigger\"></slot></span>\n            <ArrowUp v-if=\"!visible\"/>\n            <ArrowDown v-if=\"visible\"/>\n        </button>\n        <transition\n            name=\"staggered-fade\"\n            tag=\"ul\"\n            :css=\"false\"\n            @before-enter=\"beforeEnter\"\n            @enter=\"enter\"\n            @leave=\"leave\"\n        >\n            <div v-show=\"visible\">\n                <div class=\"\n                            p-5\n                            font-light\n                            border\n                            border-b-0\n                            border-gray-200\n                            dark:border-gray-800\n                            dark:bg-gray-800\n                        \">\n                    <slot name=\"accordion-content\"></slot>\n                </div>\n            </div>\n        </transition>\n    </div>\n\n</template>\n","<script setup>\nimport ItemsTable from '@/Pages/Admin/Crm/Clients/ItemsTable.vue';\nimport Label from '@/Components/Form/Label.vue';\nimport Select from '@/Components/Form/Select.vue';\nimport Input from '@/Components/Form/Input.vue';\nimport Textarea from '@/Components/Form/Textarea.vue';\nimport Accordion from '@/Components/Accordion/Accordion.vue';\nimport AccordionItem from '@/Components/Accordion/AccordionItem.vue';\n\nimport {onMounted, ref} from \"vue\";\n\nconst props = defineProps([\n    'item',\n    'statuses',\n    'subStatuses',\n    'orderStatuses'\n])\n\nconst state = ref({\n    itemsModalAction: '',\n    statuses: [],\n    subStatuses: {\n        experienced: [],\n        return: [],\n    },\n})\n\nonMounted(() => {\n        for (const [key, value] of Object.entries(props.subStatuses.experienced)) {\n            state.value.subStatuses.experienced.push({\n                value: value,\n                key: key,\n            })\n        }\n        for (const [key, value] of Object.entries(props.subStatuses.return)) {\n            state.value.subStatuses.return.push({\n                value: value,\n                key: key,\n            })\n        }\n        for (const [key, value] of Object.entries(props.statuses)) {\n            state.value.statuses.push({\n                value: value,\n                key: key,\n            })\n        }\n    }\n)\n</script>\n\n<template>\n    <form class=\"grid gap-4\">\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('clients.status')\"/>\n                <Select v-model=\"item.status\" :options=\"state.statuses\"/>\n            </div>\n            <div class=\"block\" v-if=\"item.status === 'experienced' || item.status === 'return'\">\n                <Label :value=\"$t('clients.sub_status')\"/>\n                <Select v-model=\"item.subStatuses\"\n                        :options=\"state.subStatuses.experienced\"\n                        v-if=\"item.status === 'experienced'\"\n                />\n                <Select v-model=\"item.subStatuses\"\n                        :options=\"state.subStatuses.return\"\n                        v-if=\"item.status === 'return'\"\n                />\n            </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"grid gap-4\">\n                <div class=\"block\">\n                    <Label :value=\"$t('clients.name')\"/>\n                    <Input v-model=\"item.name\" type=\"text\"\n                           :placeholder=\"$t('clients.enter_name')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('clients.last_name')\"/>\n                    <Input v-model=\"item.last_name\" type=\"text\"\n                           :placeholder=\"$t('clients.enter_last_name')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('clients.middle_name')\"/>\n                    <Input v-model=\"item.middle_name\" type=\"text\"\n                           :placeholder=\"$t('clients.enter_middle_name')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('clients.middle_name')\"/>\n                    <Input v-model=\"item.phone\" type=\"tel\"\n                           :placeholder=\"$t('clients.enter_phone')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('clients.email')\"/>\n                    <Input v-model=\"item.email\" type=\"email\"\n                           :placeholder=\"$t('clients.enter_email')\"\n                    />\n                </div>\n            </div>\n            <div class=\"siv\">\n                <Label :value=\"$t('clients.comment')\"/>\n                <Textarea v-model=\"item.comment\" rows=\"18\"\n                          :placeholder=\"$t('clients.enter_comment')\"\n                />\n            </div>\n        </div>\n\n        <Accordion v-if=\"item.orders.length\">\n            <AccordionItem>\n                <template #accordion-trigger>\n                    {{ $t('orders.page_title') }}\n                </template>\n                <template #accordion-content>\n                    <ItemsTable :data=\"item.orders\" :order-statuses=\"orderStatuses\"/>\n                </template>\n            </AccordionItem>\n        </Accordion>\n\n        <div v-if=\"item.orders.length\" class=\"grid grid-cols-1 md:grid-cols-4 text-center gap-4\">\n            <div class=\"block\">\n                {{ $t('clients.number_of_purchases') }}: {{ item.number_of_purchases }}\n            </div>\n            <div class=\"block\">\n                {{ $t('clients.purchased_goods') }}: {{ item.purchased_goods }}\n            </div>\n            <div class=\"block\">\n                {{ $t('clients.average_check') }}: {{ $filters.formatMoney(item.average_check) }}\n            </div>\n            <div class=\"block\">\n                {{ $t('clients.whole_check') }}: {{ $filters.formatMoney(item.whole_check) }}\n            </div>\n        </div>\n    </form>\n</template>\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","ArrowUp","ArrowDown"],"mappings":";;;;;;;;;;;AACA,MAAKA,cAAU;AAAA,EACX,OAAO,CAAE;AAAA,EACT,OAAO;AACH,WAAO;AAAA,MACH,WAAW;AAAA,QACP,OAAO;AAAA,QACP,QAAQ;AAAA,MACZ;AAAA;EAEP;AAAA,EACD,UAAU;AACN,WAAO,EAAC,WAAW,KAAK,UAAS;AAAA,EACrC;AACJ;;AAIS,QAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,gBAAY,MAAA,CAAA,IAAA;;;;;;;;;;;ACb3B,MAAKF,cAAU;AAAA,EACX,OAAO,CAAE;AAAA,EACT,QAAQ,CAAC,WAAW;AAAA,EACpB,OAAO;AACH,WAAO;AAAA,MACH,OAAO;AAAA;EAEd;AAAA,EACD,YAAY;AAAA,IACR,SAAAG;AAAAA,IACA,WAAAC;AAAAA,EACH;AAAA,EACD,UAAU;AAAA,IACN,UAAU;AACN,aAAO,KAAK,UAAU,KAAK,UAAU;AAAA,IACzC;AAAA,EACH;AAAA,EACD,SAAS;AAAA,IACL,OAAO;AACH,UAAI,KAAK,SAAS;AACd,aAAK,UAAU,SAAS;AAAA,aACrB;AACH,aAAK,UAAU,SAAS,KAAK;AAAA,MACjC;AAAA,IACH;AAAA,IACD,YAAY,IAAI;AACZ,SAAG,MAAM,UAAU;AACnB,SAAG,MAAM,SAAS;AAAA,IACrB;AAAA,IACD,MAAM,IAAI,MAAM;AACZ,WAAK,GAAG,IAAI;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ,GAAG;AAAA,QACX,OAAO,GAAG,QAAQ,QAAQ;AAAA,QAC1B,MAAM;AAAA,QACN,YAAY;AAAA,OACf;AAAA,IACJ;AAAA,IACD,MAAM,IAAI,MAAM;AACZ,WAAK,GAAG,IAAI;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,OAAO,GAAG,QAAQ,QAAQ;AAAA,QAC1B,MAAM;AAAA,QACN,YAAY;AAAA,OACf;AAAA,IACL;AAAA,EACH;AAAA,EACD,UAAU;AACN,SAAK,QAAQ,KAAK,UAAU;AAAA,EAChC;AACJ;;;;;IAIS,QAAM,4IASF;AAAA,0BAC+C,SAAO;AAAA,2BAA4C,SAAO;AAAA;;;;OAkB1F,SAAO,SAAA;;;;;MACN,SAAO,SAAA;;;;;+CAUX,SAAO,UAAA,OAAA,EAAA,SAAA,QAAA,yGAAA;;;;;;;;;;;;;;;;;;;;;;ACnFhC,UAAM,QAAQ,IAAI;AAAA,MACd,kBAAkB;AAAA,MAClB,UAAU,CAAE;AAAA,MACZ,aAAa;AAAA,QACT,aAAa,CAAE;AAAA,QACf,QAAQ,CAAE;AAAA,MACb;AAAA,IACL,CAAC;AAED;AAAA,MAAU,MAAM;AACR,mBAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,MAAM,YAAY,WAAW,GAAG;AACtE,gBAAM,MAAM,YAAY,YAAY,KAAK;AAAA,YACrC;AAAA,YACA;AAAA,UAChB,CAAa;AAAA,QACJ;AACD,mBAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,MAAM,YAAY,MAAM,GAAG;AACjE,gBAAM,MAAM,YAAY,OAAO,KAAK;AAAA,YAChC;AAAA,YACA;AAAA,UAChB,CAAa;AAAA,QACJ;AACD,mBAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,MAAM,QAAQ,GAAG;AACvD,gBAAM,MAAM,SAAS,KAAK;AAAA,YACtB;AAAA,YACA;AAAA,UAChB,CAAa;AAAA,QACJ;AAAA,MACJ;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}