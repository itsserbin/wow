{"version":3,"file":"Index-d82f4388.mjs","sources":["../../../resources/js/Repositories/OptionsRepository.js","../../../resources/js/Pages/Admin/Options/Main/Index.vue"],"sourcesContent":["export default {\n    main() {\n        return {\n            async index() {\n                try {\n                    const response = await axios.get(route('api.options.main.index'));\n                    return response.data;\n                } catch (error) {\n                    throw new Error(error.response.data);\n                }\n            },\n            async update(params) {\n                try {\n                    const response = await  axios.put(route('api.options.main.update'), params);\n                    return response.data;\n                } catch (error) {\n                    throw new Error(error.response.data);\n                }\n            },\n        }\n    },\n    // async fetch(params) {\n    //     try {\n    //         const response = await axios.get(route('api.categories.index', params));\n    //         return response.data;\n    //     } catch (error) {\n    //         throw new Error(error.response.data.message);\n    //     }\n    // },\n    // async update(item) {\n    //     try {\n    //         const response = await axios.put(route('api.categories.update', item.id), item);\n    //         return response.data;\n    //     } catch (error) {\n    //         return error.response.data;\n    //     }\n    // },\n    // async edit(id) {\n    //     try {\n    //         const response = await axios.get(route('api.categories.edit', id));\n    //         return response.data;\n    //     } catch (error) {\n    //         return error.response.data;\n    //     }\n    // },\n}\n","<script setup>\nimport OptionsLayout from '@/Pages/Admin/Options/OptionsLayout.vue';\nimport Form from '@/Pages/Admin/Options/Main/Form.vue';\nimport Loader from '@/Components/Loader.vue';\n\nimport {inject, onMounted, ref} from \"vue\";\nimport OptionsRepository from \"@/Repositories/OptionsRepository\";\nimport {useI18n} from 'vue-i18n';\nimport {swal} from \"@/Includes/swal\";\n\nconst can = inject('$can');\nconst {t} = useI18n();\n\nconst state = ref({\n    isLoading: false,\n    options: {}\n});\n\nonMounted(() => fetch());\n\nconst fetch = async () => {\n    state.value.isLoading = true;\n    const data = await OptionsRepository.main().index();\n    if (data.success) {\n        state.value.options = data.result;\n    }\n    state.value.isLoading = false;\n}\n\nconst onUpdate = async () => {\n    state.value.isLoading = true;\n    const data = await OptionsRepository.main().update(state.value.options);\n    if (data.success) {\n        await swal({\n            title: t('swal.updated'),\n            icon: 'success'\n        });\n    } else {\n        console.log(data);\n        await swal({\n            title: t('swal.error'),\n            icon: 'error',\n        });\n    }\n    state.value.isLoading = false;\n}\n</script>\n\n<template>\n    <OptionsLayout>\n        <Loader v-if=\"state.isLoading\"/>\n        <Form :options=\"state.options\" @submitForm=\"onUpdate\"\n              v-if=\"can('show-main-options') && !state.isLoading\"/>\n    </OptionsLayout>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,MAAe,oBAAA;AAAA,EACX,OAAO;AACH,WAAO;AAAA,MACH,MAAM,QAAQ;AACV,YAAI;AACA,gBAAM,WAAW,MAAM,MAAM,IAAI,MAAM,wBAAwB,CAAC;AAChE,iBAAO,SAAS;AAAA,QACnB,SAAQ,OAAP;AACE,gBAAM,IAAI,MAAM,MAAM,SAAS,IAAI;AAAA,QACtC;AAAA,MACJ;AAAA,MACD,MAAM,OAAO,QAAQ;AACjB,YAAI;AACA,gBAAM,WAAW,MAAO,MAAM,IAAI,MAAM,yBAAyB,GAAG,MAAM;AAC1E,iBAAO,SAAS;AAAA,QACnB,SAAQ,OAAP;AACE,gBAAM,IAAI,MAAM,MAAM,SAAS,IAAI;AAAA,QACtC;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBL;;;;;ACnCA,UAAM,MAAM,OAAO,MAAM;AACzB,UAAM,EAAC,EAAC,IAAI;AAEZ,UAAM,QAAQ,IAAI;AAAA,MACd,WAAW;AAAA,MACX,SAAS,CAAE;AAAA,IACf,CAAC;AAED,cAAU,MAAM,MAAK,CAAE;AAEvB,UAAM,QAAQ,YAAY;AACtB,YAAM,MAAM,YAAY;AACxB,YAAM,OAAO,MAAM,kBAAkB,KAAM,EAAC,MAAK;AACjD,UAAI,KAAK,SAAS;AACd,cAAM,MAAM,UAAU,KAAK;AAAA,MAC9B;AACD,YAAM,MAAM,YAAY;AAAA,IAC5B;AAEA,UAAM,WAAW,YAAY;AACzB,YAAM,MAAM,YAAY;AACxB,YAAM,OAAO,MAAM,kBAAkB,KAAI,EAAG,OAAO,MAAM,MAAM,OAAO;AACtE,UAAI,KAAK,SAAS;AACd,cAAM,KAAK;AAAA,UACP,OAAO,EAAE,cAAc;AAAA,UACvB,MAAM;AAAA,QAClB,CAAS;AAAA,MACT,OAAW;AACH,gBAAQ,IAAI,IAAI;AAChB,cAAM,KAAK;AAAA,UACP,OAAO,EAAE,YAAY;AAAA,UACrB,MAAM;AAAA,QAClB,CAAS;AAAA,MACJ;AACD,YAAM,MAAM,YAAY;AAAA,IAC5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}