{"version":3,"file":"Form-b641e5bd.mjs","sources":["../../../resources/js/Pages/Admin/Crm/Orders/Form.vue"],"sourcesContent":["<script setup>\nimport {computed, onMounted, reactive, ref, inject} from \"vue\";\nimport {useI18n} from 'vue-i18n';\nimport {swal} from \"@/Includes/swal\";\n\nimport Telephone from '@/Components/Icons/Telephone.vue'\nimport Copy from '@/Components/Icons/Copy.vue'\nimport Card from '@/Components/Card.vue'\nimport Select from '@/Components/Form/Select.vue'\nimport Label from '@/Components/Form/Label.vue'\nimport Checkbox from '@/Components/Form/Checkbox.vue'\nimport Textarea from '@/Components/Form/Textarea.vue'\nimport Input from '@/Components/Form/Input.vue'\nimport Button from '@/Components/Button.vue'\nimport ModalAddItemToOrder from '@/Pages/Admin/Crm/Orders/Items/Modal.vue'\nimport ItemsTable from '@/Pages/Admin/Crm/Orders/Items/Table.vue'\nimport ClientOrders from '@/Pages/Admin/Crm/Orders/ClientOrders.vue'\nimport InvoicesTable from '@/Pages/Admin/Crm/Invoices/Table.vue';\nimport InvoiceModal from '@/Pages/Admin/Crm/Invoices/Modal.vue';\n\nconst {t} = useI18n();\n\nconst emits = defineEmits([\n    'submitItemForm',\n    'onEditClient'\n])\n\nconst can = inject('$can');\n\nconst props = defineProps([\n    'order',\n    'statuses',\n    'paymentMethods',\n    'clientStatuses',\n    'invoiceStatuses'\n]);\n\nconst priceForWaybill = computed(() => props.order.total_price - props.order.prepayment_sum);\n\nconst fullName = computed(() => {\n    const {name, last_name, middle_name} = props.order.client;\n    const fullNameParts = [last_name, name, middle_name].filter(Boolean);\n    return fullNameParts.length ? fullNameParts.join(' ') : 'Дані не вказані';\n});\n\nconst invoiceItem = reactive({\n    order_id: props.order.id,\n    sum: null,\n})\n\nconst state = ref({\n    showItemsModal: false,\n    showInvoicesModal: false,\n    itemsModalAction: '',\n    item: {\n        count: 1,\n        size: '',\n        color: '',\n        product_id: null\n    },\n    invoiceItem: {},\n    statuses: [],\n    managers: [],\n    paymentMethods: [],\n})\n\nonMounted(() => {\n    getManagersList();\n\n    for (const [key, value] of Object.entries(props.statuses)) {\n        state.value.statuses.push({\n            key: key,\n            value: value,\n        })\n    }\n\n    for (const [key, value] of Object.entries(props.paymentMethods)) {\n        state.value.paymentMethods.push({\n            key: key,\n            value: value,\n        })\n    }\n})\n\nconst itemsModal = computed(() => state.value.showItemsModal ? ModalAddItemToOrder : null);\nconst invoiceModal = computed(() => state.value.showInvoicesModal ? InvoiceModal : null);\n\nconst parcelReminderValues = reactive([\n    {\n        key: 0,\n        value: 'Ні',\n    },\n    {\n        key: 1,\n        value: 'Так',\n    }\n])\n\nfunction invoiceModalFunction() {\n    state.value.showInvoicesModal = !state.value.showInvoicesModal\n};\n\nconst copyPhone = () => {\n    navigator.clipboard.writeText(props.order.client.phone)\n        .then(() => {\n            swal({\n                icon: 'success',\n                title: t('swal.data_copied'),\n                timer: 1000,\n                showConfirmButton: false\n            })\n        })\n        .catch((error) => {\n            console.error('Виникла помилка під час копіювання тексту:', error);\n        });\n}\n\n\nfunction onDestroyInvoice(id) {\n    if (can('destroy-invoices')) {\n        swal({\n            title: 'Видалити?',\n            icon: 'warning',\n            showCancelButton: true,\n        }).then((result) => {\n            if (result.isConfirmed) {\n                axios.delete(route('api.invoices.destroy', id))\n                    .then(() => {\n                        emits('submitItemForm');\n                        swal({\n                            icon: 'success',\n                            title: 'Destroyed!',\n                        })\n                    })\n                    .catch(errors => {\n                        console.log(errors);\n                        swal({\n                            icon: 'error',\n                            title: 'Error!'\n                        })\n                    })\n            }\n        })\n\n    }\n}\n\nfunction addInvoice() {\n    if (can('create-invoices')) {\n        state.value.invoiceItem = invoiceItem;\n        invoiceModalFunction();\n    }\n}\n\nfunction onAddInvoice() {\n    axios.post(route('api.invoices.create'), state.value.invoiceItem)\n        .then(({data}) => {\n            state.value.invoiceItem = invoiceItem;\n            invoiceModalFunction();\n            navigator.clipboard.writeText(data.result.data.invoice_url);\n            swal({\n                title: 'Успішно!',\n                text: 'Рахунок був успішно створений, посилання на оплату скопійовано в буфер обміну',\n                icon: 'success'\n            });\n            emits('submitItemForm', data.result);\n        })\n        .catch((response) => {\n            console.log(response);\n            swal({\n                title: 'Error!',\n                icon: 'error'\n            })\n        })\n}\n\nfunction sendWaybill() {\n    if (props.order.waybill) {\n        axios.post(route('notify.waybill'), {\n            phone: props.order.client.phone,\n            waybill: props.order.waybill,\n            order_id: props.order.id\n        })\n            .then(({data}) => {\n                if (data.success === true) {\n                    swal({\n                        'icon': 'success',\n                        'title': 'Номер накладной успешно отправлен клиенту',\n                        'text': data.info,\n                    })\n                } else {\n                    swal({\n                        'icon': 'error',\n                        'title': 'Ошибка',\n                        'text': data.info,\n                    })\n                }\n                axios.put(route('api.orders.update', props.order.id), props.order)\n            })\n            .catch((response) => {\n                swal({\n                    'icon': 'error',\n                    'title': 'Ошибка',\n                    'text': 'Обратитесь к администратору',\n                })\n                console.log(response)\n            });\n    }\n}\n\n// function onEditClient() {\n//     window.open(\n//         route('admin.clients.index', {id: props.order.client.id}),\n//         '_blank'\n//     )\n// }\n\nfunction submitItemForm() {\n    if (state.value.itemsModalAction === 'create') {\n        axios.post(route('api.order-items.add', props.order.id), state.value.item)\n            .then(({data}) => {\n                itemsModalFunction();\n                emits('submitItemForm', data.result)\n            })\n            .catch((response) => console.log(response))\n    } else if (state.value.itemsModalAction === 'edit') {\n        axios.put(route('api.order-items.update', state.value.item.id), state.value.item)\n            .then(({data}) => {\n                itemsModalFunction();\n                emits('submitItemForm', data.result)\n            })\n            .catch((response) => console.log(response))\n    }\n\n}\n\nfunction addProductToOrder() {\n    itemsModalFunction();\n    state.value.itemsModalAction = 'create';\n}\n\nfunction itemsModalFunction() {\n    state.value.showItemsModal = !state.value.showItemsModal;\n}\n\nfunction getManagersList() {\n    axios.get(route('api.users.list.managers'))\n        .then(({data}) => {\n            if (data.result.length) {\n                data.result.forEach((item) => {\n                    state.value.managers.push({\n                        key: item.id,\n                        value: item.name\n                    })\n                })\n            }\n        })\n        .catch((response) => console.log(response))\n}\n\nfunction destroyOrderItem(id, i) {\n    swal({\n        title: 'Are you sure?',\n        icon: 'warning',\n        showCancelButton: true,\n    }).then((result) => {\n        if (result.isConfirmed) {\n            axios.delete(route('api.order-items.destroy', {\n                item_id: id,\n                order_id: props.order.id\n            }))\n                .then(() => {\n                    emits('submitItemForm');\n                    swal({\n                        title: 'Success',\n                        icon: 'success',\n                    });\n                })\n                .catch((response) => {\n                    console.log(response);\n                    swal({\n                        title: 'Error',\n                        icon: 'error',\n                    });\n                });\n        }\n    });\n}\n\nfunction editOrderItem(id) {\n    itemsModalFunction();\n    state.value.itemsModalAction = 'edit';\n    axios.get(route('api.order-items.edit', id))\n        .then(({data}) => state.value.item = data.result)\n        .catch((response) => console.log(response))\n}\n\nfunction onSendInvoiceSms() {\n    swal({\n        title: 'Успішно',\n        text: 'Посилання на оплату надіслано клієнту',\n        icon: 'success'\n    });\n    emits('submitItemForm');\n}\n</script>\n\n<template>\n    <form class=\"grid gap-4\">\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('clients.status')\"/>\n                <Input :value=\"clientStatuses[order.client.status]\" type=\"text\" disabled/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('clients.full_name')\"/>\n                <Input :value=\"fullName\"\n                       type=\"text\"\n                       disabled\n                />\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('clients.phone')\"/>\n                <div class=\"flex items-center gap-x-2\">\n                    <a :href=\"'tel:+' + order.client.phone\" class=\"border-lg rounded-lg border p-3\">\n                        <Telephone/>\n                    </a>\n                    <Input v-model=\"order.client.phone\"\n                           type=\"text\"\n                           disabled\n                    />\n                    <a :href=\"'javascript:'\" @click=\"copyPhone\" class=\"border-lg rounded-lg border p-3\">\n                        <Copy/>\n                    </a>\n                </div>\n\n            </div>\n            <div class=\"block\">\n                <Label value=\"&nbsp;\"/>\n                <Button class=\"w-full\" type=\"button\" @click=\"$emit('onEditClient')\">\n                    {{ $t('orders.client_card') }}\n                </Button>\n            </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n\n\n        </div>\n        <ClientOrders v-if=\"order.client.orders.length > 1\"\n                      :data=\"order.client.orders\"\n                      :statuses=\"statuses\"\n        />\n        <hr class=\"h-px my-8 bg-gray-200 border-0 dark:bg-gray-500\">\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('orders.status')\"/>\n                <Select v-model=\"order.status\" :options=\"state.statuses\"/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.manager_id')\"/>\n                <Select v-model=\"order.manager_id\" :options=\"state.managers\"/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.payment_method')\"/>\n                <Select v-model=\"order.payment_method\" :options=\"state.paymentMethods\"/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.parcel_reminder')\"/>\n                <div class=\"block\">\n                    <div class=\"flex gap-x-2 items-center w-full\">\n                        <Checkbox v-model=\"order.parcel_reminder\"/>\n                        <Label :value=\"order.parcel_reminder ? 'Так' : 'Ні'\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <hr class=\"h-px my-8 bg-gray-200 border-0 dark:bg-gray-500\">\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"grid grid-cols-1 gap-4\">\n                <div class=\"block\">\n                    <Label :value=\"$t('orders.city')\"/>\n                    <Input v-model=\"order.city\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_city')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('orders.postal_office')\"/>\n                    <Input v-model=\"order.postal_office\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_postal_office')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('orders.waybill')\"/>\n                    <Input v-model=\"order.waybill\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_waybill')\"\n                    />\n                    <div v-if=\"!order.sms_waybill_status && order.waybill\">\n                        <a\n                            href=\"javascript:\"\n                            @click.prevent=\"sendWaybill(order.client.phone,order.waybill)\"\n                        >{{ $t('orders.send_waybill_for_client') }}</a>\n                    </div>\n                    <div v-if=\"order.sms_waybill_status\">\n                        {{ $t('orders.waybill_sent') }}\n                        (<a href=\"javascript:\"\n                            @click.prevent=\"sendWaybill(order.client.phone,order.waybill)\"\n                    >{{ $t('orders.waybill_resent') }}</a>)\n                    </div>\n                </div>\n\n                <div class=\"grid grid-cols-2 gap-x-2\" v-if=\"order.status === 'return'\">\n                    <div class=\"flex gap-x-2\">\n                        <Checkbox v-model=\"order.refund_other_waybill\" @change=\"test\"/>\n                        <Label :value=\"$t('orders.refund_other_waybill')\"/>\n                    </div>\n                    <Input v-if=\"order.refund_other_waybill\"\n                           v-model=\"order.other_waybill\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_refund_other_waybill')\"\n                    />\n                </div>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.comment')\"/>\n                <Textarea rows=\"12\"\n                          v-model=\"order.comment\"\n                          :placeholder=\"$t('orders.enter_comment')\"\n                />\n            </div>\n        </div>\n        <hr class=\"h-px my-8 bg-gray-200 border-0 dark:bg-gray-500\">\n        <div class=\"grid grid-cols-1 gap-y-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('orders.sale_of_air')\"/>\n                <Input v-model=\"order.sale_of_air_price\"\n                       type=\"number\"\n                       :placeholder=\"$t('orders.enter_sale_of_air_price')\"\n                />\n            </div>\n\n            <div class=\"block\">\n                <Label :value=\"$t('orders.discount')\"/>\n                <Input v-model=\"order.discount_sum\"\n                       type=\"number\"\n                       :placeholder=\"$t('orders.enter_discount_sum')\"\n                />\n            </div>\n\n            <div class=\"block\">\n                <Label value=\"Загальна сума передоплати (грн.)\"/>\n                <Input v-model=\"order.prepayment_sum\" type=\"number\" disabled/>\n            </div>\n        </div>\n\n        <div class=\"block mb-5\">\n            <Button type=\"button\" @click=\"addProductToOrder\">Додати товар</Button>\n            <component :is=\"itemsModal\"\n                       :item=\"state.item\"\n                       size=\"medium\"\n                       @closeModal=\"itemsModalFunction\"\n                       @submitItemForm=\"submitItemForm\"\n            ></component>\n        </div>\n\n        <ItemsTable :data=\"order.items\"\n                    @editOrderItem=\"editOrderItem\"\n                    @destroyOrderItem=\"destroyOrderItem\"\n        />\n\n        <div class=\"grid grid-cols-2 md:grid-cols-4 mt-5\">\n            <Card title=\"Кількість товарів\"\n                  :description=\"order.total_count\"\n                  class=\"text-center\"\n            />\n\n            <Card title=\"Загальна ціна\"\n                  :description=\"$filters.formatMoney(order.total_price)\"\n                  class=\"text-center\"\n            />\n\n            <Card title=\"Ціна на посилку\"\n                  :description=\"$filters.formatMoney(priceForWaybill)\"\n                  class=\"text-center\"\n            />\n\n            <Card title=\"Промо-код\"\n                  :description=\"order.promo_code ? order.promo_code : 'Відсутній'\"\n                  class=\"text-center\"\n            />\n        </div>\n\n        <div class=\"block\" v-if=\"can('show-invoices')\">\n            <Button type=\"button\"\n                    @click=\"addInvoice\"\n                    class=\"my-4\"\n                    v-if=\"can('create-invoices')\"\n            >\n                Додати рахунок\n            </Button>\n            <InvoicesTable :data=\"order.invoices\"\n                           :statuses=\"invoiceStatuses\"\n                           :can-destroy=\"can('destroy-invoices')\"\n                           @onDestroy=\"onDestroyInvoice\"\n                           v-if=\"order.invoices.length\"\n                           @onSendInvoiceSms=\"onSendInvoiceSms\"\n            />\n            <component :is=\"invoiceModal\"\n                       :item=\"state.invoiceItem\"\n                       @closeModal=\"invoiceModalFunction\"\n                       @submitForm=\"onAddInvoice\"\n                       @declineForm=\"invoiceModalFunction\"\n            />\n        </div>\n    </form>\n</template>\n"],"names":["ModalAddItemToOrder","InvoiceModal"],"mappings":"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"}