{"version":3,"file":"Logo-fe5a81e0.mjs","sources":["../../../resources/js/Pages/Admin/Options/Main/Logo.vue"],"sourcesContent":["<script setup>\nimport Input from '@/Components/Form/Input.vue';\nimport Label from '@/Components/Form/Label.vue';\nimport {useI18n} from 'vue-i18n';\nimport {ref} from 'vue';\nimport {swal} from \"@/Includes/swal\";\n\nconst image = ref(null);\nconst {t} = useI18n();\n\ndefineProps(['title']);\n\nconst onFileChange = async (file) => {\n    const formData = new FormData();\n    formData.append('logo', file);\n\n    await axios.post(route('api.images.logo.upload'), formData, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    })\n        .then(({data}) => {\n            image.value = data.result;\n            swal({\n                title: t('swal.logo.upload'),\n                icon: 'success',\n                confirmButtonText: 'Ok'\n            })\n        })\n        .catch(error => {\n            console.log(error);\n            swal({\n                text: t('swal.logo.error'),\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            });\n        });\n}\n\n//Удаление логотипа\nconst destroyImage = async () => {\n    await axios.delete(route('api.images.logo.delete'))\n        .then(() => {\n            image.value = null;\n            swal({\n                title: t('swal.logo.destroy.success'),\n                icon: 'success',\n                confirmButtonText: 'Ok'\n            });\n        })\n        .catch(error => {\n            console.log(error);\n            swal({\n                title: t('swal.logo.destroy.error'),\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            });\n        });\n};\n</script>\n\n<template>\n    <div class=\"mb-4\">\n        <Label :value=\"$t('options.text_label_logo')\"/>\n        <div class=\"mt-2\">\n            <div v-if=\"image\">\n                <picture>\n                    <source :srcset=\"'/storage/' + image + '.webp'\" type=\"image/webp\">\n                    <img :src=\"'/storage/' + image + '.jpeg'\" :alt=\"$t('options.text_label_logo')\">\n                </picture>\n                <button type=\"button\" class=\"text-sm font-medium text-red-500 hover:text-red-700\" @click=\"destroyImage\">\n                    {{ $t('options.text_destroyLabel') }}\n                </button>\n            </div>\n            <div v-else>\n                <Input type=\"file\" @change=\"onFileChange($event.target.files[0])\"/>\n                <p class=\"mt-2 text-sm text-gray-500\">{{ $t('options.instructions') }}</p>\n            </div>\n        </div>\n    </div>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;AAOA,UAAM,QAAQ,IAAI,IAAI;AACtB,UAAM,EAAC,EAAC,IAAI;AAIZ,UAAM,eAAe,OAAO,SAAS;AACjC,YAAM,WAAW,IAAI;AACrB,eAAS,OAAO,QAAQ,IAAI;AAE5B,YAAM,MAAM,KAAK,MAAM,wBAAwB,GAAG,UAAU;AAAA,QACxD,SAAS;AAAA,UACL,gBAAgB;AAAA,QACnB;AAAA,MACT,CAAK,EACI,KAAK,CAAC,EAAC,KAAI,MAAM;AACd,cAAM,QAAQ,KAAK;AACnB,aAAK;AAAA,UACD,OAAO,EAAE,kBAAkB;AAAA,UAC3B,MAAM;AAAA,UACN,mBAAmB;AAAA,QACnC,CAAa;AAAA,MACb,CAAS,EACA,MAAM,WAAS;AACZ,gBAAQ,IAAI,KAAK;AACjB,aAAK;AAAA,UACD,MAAM,EAAE,iBAAiB;AAAA,UACzB,MAAM;AAAA,UACN,mBAAmB;AAAA,QACnC,CAAa;AAAA,MACb,CAAS;AAAA,IACT;;;;;;;;;;;;;;;;;;;;;;;;;;;"}