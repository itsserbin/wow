{"version":3,"file":"Form-9f130297.mjs","sources":["../../../resources/js/Pages/Admin/Options/PromoCodes/Form.vue"],"sourcesContent":["<script setup>\nimport {onMounted, inject, ref} from \"vue\";\n\nimport Select from '@/Components/Form/Select.vue';\nimport Label from '@/Components/Form/Label.vue';\nimport Input from '@/Components/Form/Input.vue';\nimport Datepicker from '@vuepic/vue-datepicker';\n\nconst publishedStatuses = inject('$publishedStatuses')\nconst props = defineProps(['item'])\n\nconst state = ref({\n    discount_type: '',\n    discountTypeOptions: [\n        {\n            key: 'discount_in_hryvnia',\n            value: 'Знижка в гривнях'\n        },\n        {\n            key: 'percent_discount',\n            value: 'Знижка в відсотках'\n        }\n    ]\n});\n\nonMounted(() => {\n    if (props.item.discount_in_hryvnia) {\n        state.value.discount_type = 'discount_in_hryvnia';\n    }\n    if (props.item.percent_discount) {\n        state.value.discount_type = 'percent_discount';\n    }\n})\n\nfunction onChangeDiscountType() {\n    if (state.value.discount_type === 'discount_in_hryvnia') {\n        props.item.percent_discount = null\n    }\n    if (state.value.discount_type === 'percent_discount') {\n        props.item.discount_in_hryvnia = null\n    }\n}\n</script>\n\n<template>\n    <form class=\"grid gap-4\">\n        <div class=\"block\">\n            <Label value=\"Статус публікації\"/>\n            <Select v-model=\"item.published\" :options=\"publishedStatuses\"/>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"block\">\n                <Label value=\"Код\"/>\n                <Input v-model=\"item.code\" type=\"text\"/>\n            </div>\n\n            <div class=\"block\">\n                <Label value=\"Кінцева дата\"/>\n                <Datepicker v-model=\"item.end_date\"\n                            class=\"w-100\"\n                            locale=\"ru\"\n                            placeholder=\"Оберіть дату\"\n                            autoApply\n                            :monthChangeOnScroll=\"false\"\n                            :enableTimePicker=\"false\"\n                ></Datepicker>\n            </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"block\">\n                <Label value=\"Тип знижки\"/>\n                <Select v-model=\"state.discount_type\"\n                        :options=\"state.discountTypeOptions\"\n                        @change=\"onChangeDiscountType\"\n                />\n            </div>\n\n            <div class=\"block\" v-if=\"state.discount_type\">\n                <Label value=\"Сума знижки\"/>\n                <Input v-if=\"state.discount_type === 'discount_in_hryvnia'\"\n                       v-model=\"item.discount_in_hryvnia\"\n                       type=\"number\"\n                />\n                <Input v-if=\"state.discount_type === 'percent_discount'\"\n                       v-model=\"item.percent_discount\"\n                       type=\"number\"\n                />\n            </div>\n\n        </div>\n    </form>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;AAQA,UAAM,oBAAoB,OAAO,oBAAoB;AAGrD,UAAM,QAAQ,IAAI;AAAA,MACd,eAAe;AAAA,MACf,qBAAqB;AAAA,QACjB;AAAA,UACI,KAAK;AAAA,UACL,OAAO;AAAA,QACV;AAAA,QACD;AAAA,UACI,KAAK;AAAA,UACL,OAAO;AAAA,QACV;AAAA,MACJ;AAAA,IACL,CAAC;AAED,cAAU,MAAM;AACZ,UAAI,MAAM,KAAK,qBAAqB;AAChC,cAAM,MAAM,gBAAgB;AAAA,MAC/B;AACD,UAAI,MAAM,KAAK,kBAAkB;AAC7B,cAAM,MAAM,gBAAgB;AAAA,MAC/B;AAAA,IACL,CAAC;AAED,aAAS,uBAAuB;AAC5B,UAAI,MAAM,MAAM,kBAAkB,uBAAuB;AACrD,cAAM,KAAK,mBAAmB;AAAA,MACjC;AACD,UAAI,MAAM,MAAM,kBAAkB,oBAAoB;AAClD,cAAM,KAAK,sBAAsB;AAAA,MACpC;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}