{"version":3,"file":"PromoCode-c9ed4022.mjs","sources":["../../../resources/js/Pages/Public/Cart/PromoCode.vue"],"sourcesContent":["<script setup>\nimport {inject, ref} from \"vue\";\nimport {useStore} from \"vuex\";\nimport Button from '@/Pages/Public/Components/Button.vue'\nimport Input from '@/Pages/Public/Components/Input.vue'\nimport {swal} from '@/Includes/swal';\n\nconst promo_code = ref(null);\n\nconst store = useStore();\n\nfunction activateCode() {\n    axios.post('/api/v1/cart/promo-code/activate', {\n        promo_code: promo_code.value\n    })\n        .then(({data}) => {\n            if (data.result) {\n                swal({\n                    icon: 'success',\n                    title: 'Промо-код активирован',\n                });\n                store.commit('loadCart');\n            } else {\n                swal({\n                    icon: 'error',\n                    title: 'Произошла ошибка :(',\n                    text: 'Возможно, промо-код введен некорректно, или же истек срок действия',\n                });\n            }\n        })\n        .catch((response) => console.log(response));\n}\n\nfunction deactivateCode() {\n    axios.post('/api/v1/cart/promo-code/deactivate')\n        .then(() => {\n            swal({\n                'title': 'Промо-код деактивирован!',\n                'icon': 'success'\n            })\n            store.commit('loadCart');\n        })\n        .catch((response) => console.log(response));\n}\n</script>\n\n<template>\n    <div class=\"\n                items-center\n                border-gray-300\n                flex\n                rounded-[15px]\n                shadow-lg\n                box-border\n                justify-between\n                p-[1rem]\n                mb-3\n                flex-col\n                md:flex-row\n            \"\n    >\n        <label class=\"\n                        text-[#231f20]\n                        flex-row\n                        text-lg\n                        font-subheading\n                        font-[500]\n                        text-center\n                    \"\n        >Промокод</label>\n        <Input type=\"text\"\n               placeholder=\"XXX-XXX-XXX\"\n               v-model=\"promo_code\"\n               v-if=\"!store.state.promo_code\"\n               class=\"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading\"\n        />\n\n        <Input type=\"text\"\n               placeholder=\"XXX-XXX-XXX\"\n               :value=\"store.state.promo_code\"\n               v-if=\"store.state.promo_code\"\n               class=\"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading\"\n        />\n        <Button type=\"button\" v-if=\"store.state.promo_code\" @click=\"deactivateCode\">\n            Деактивувати\n        </Button>\n\n        <Button v-if=\"!store.state.promo_code\" @click=\"activateCode\" type=\"button\">\n            Активувати\n        </Button>\n    </div>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;AAOA,UAAM,aAAa,IAAI,IAAI;AAE3B,UAAM,QAAQ,SAAQ;AAEtB,aAAS,eAAe;AACpB,YAAM,KAAK,oCAAoC;AAAA,QAC3C,YAAY,WAAW;AAAA,MAC/B,CAAK,EACI,KAAK,CAAC,EAAC,KAAI,MAAM;AACd,YAAI,KAAK,QAAQ;AACb,eAAK;AAAA,YACD,MAAM;AAAA,YACN,OAAO;AAAA,UAC3B,CAAiB;AACD,gBAAM,OAAO,UAAU;AAAA,QACvC,OAAmB;AACH,eAAK;AAAA,YACD,MAAM;AAAA,YACN,OAAO;AAAA,YACP,MAAM;AAAA,UAC1B,CAAiB;AAAA,QACJ;AAAA,MACb,CAAS,EACA,MAAM,CAAC,aAAa,QAAQ,IAAI,QAAQ,CAAC;AAAA,IAClD;AAEA,aAAS,iBAAiB;AACtB,YAAM,KAAK,oCAAoC,EAC1C,KAAK,MAAM;AACR,aAAK;AAAA,UACD,SAAS;AAAA,UACT,QAAQ;AAAA,QACxB,CAAa;AACD,cAAM,OAAO,UAAU;AAAA,MACnC,CAAS,EACA,MAAM,CAAC,aAAa,QAAQ,IAAI,QAAQ,CAAC;AAAA,IAClD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}