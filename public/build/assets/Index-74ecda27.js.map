{"version":3,"file":"Index-74ecda27.js","sources":["../../../resources/js/Pages/Public/Home/Index.vue"],"sourcesContent":["<script setup>\nimport Consultation from './../Components/Consultation.vue';\nimport ProductsList from './ProductsList.vue';\nimport MasterLayout from '@/Layouts/MasterLayout.vue'\nimport MainBanners from './../Components/Banners.vue';\nimport Categories from './../Components/Categories.vue';\nimport Head from \"@/Pages/Public/Components/Head.vue\";\n\ndefineOptions({layout: MasterLayout})\n\nimport {defineAsyncComponent, reactive} from \"vue\";\n\nconst Content = defineAsyncComponent(() => import('../Components/Content.vue'));\nconst Advantages = defineAsyncComponent(() => import('../Components/Advantages.vue'));\nconst AllReviewsCarousel = defineAsyncComponent(() => import('../Components/AllReviewsCarousel.vue'));\nconst FaqComponent = defineAsyncComponent(() => import('../Components/FaqComponent.vue'));\nconst Support = defineAsyncComponent(() => import('../Components/Support.vue'));\n\nconst props = defineProps([\n    'lang',\n    'categories',\n    'options',\n    'banners',\n    'bestSellingProducts',\n    'newProducts',\n    'allProducts',\n    'pages',\n    'reviews',\n    'text',\n    'faqs',\n    'advantages',\n]);\n\nconst meta = {\n    title: props.lang === 'ua' ? props.options.meta_title_ua : props.options.meta_title_ru,\n    description: props.lang === 'ua' ? props.options.meta_description_ua : props.options.meta_description_ru,\n};\n\nconst stateNewProducts = reactive({\n    data: props.newProducts.data,\n    isLoadMore: false,\n    isShowLoadMore: props.newProducts.current_page !== props.newProducts.per_page,\n    currentPage: 1,\n    endpoint: '/api/v1/product/new-products?page='\n});\n\nconst stateAllProducts = reactive({\n    data: props.allProducts.data,\n    isLoadMore: false,\n    isShowLoadMore: props.allProducts.current_page !== props.allProducts.per_page,\n    currentPage: 1,\n    endpoint: '/api/v1/product?page='\n});\n\nconst stateBestSellingProducts = reactive({\n    data: props.bestSellingProducts.data,\n    isLoadMore: false,\n    isShowLoadMore: props.bestSellingProducts.current_page !== props.bestSellingProducts.per_page,\n    currentPage: 1,\n    endpoint: '/api/v1/product/best-selling?page='\n});\n\nconst fetch = async (val) => {\n    await axios.get(val.endpoint + (val.currentPage + 1))\n        .then(({data}) => onSuccessFetch(val, data))\n        .catch((response) => console.error(response));\n}\n\nconst onSuccessFetch = (variable, data) => {\n    variable.data = variable.data.concat(data.result.data);\n    variable.total = data.result.total;\n    variable.currentPage = data.result.current_page;\n    variable.isShowLoadMore = (data.result.to !== data.result.total);\n    variable.isLoadMore = false;\n}\n</script>\n\n<template>\n    <Head :title=\"meta.title\" :description=\"meta.description\"/>\n    <div class=\"grid grid-cols-1 gap-4\">\n       <!-- <MainBanners v-if=\"banners.length\" :data=\"banners\" :lang=\"lang\"/> -->\n\n        <Categories v-if=\"categories.length\" :data=\"categories\" :lang=\"lang\"/>\n\n        <ProductsList v-if=\"stateBestSellingProducts.data.length\"\n                      :slider=\"true\"\n                      :lang=\"lang\"\n                      :data=\"stateBestSellingProducts.data\"\n                      :isLoadMore=\"stateBestSellingProducts.isLoadMore\"\n                      :isShowLoadMore=\"stateBestSellingProducts.isShowLoadMore\"\n                      @fetch=\"fetch(stateBestSellingProducts)\"\n                      heading=\"Найпопулярніші\"\n        />\n\n        <ProductsList v-if=\"stateNewProducts.data.length\"\n                      :slider=\"true\"\n                      :lang=\"lang\"\n                      :data=\"stateNewProducts.data\"\n                      :isLoadMore=\"stateNewProducts.isLoadMore\"\n                      :isShowLoadMore=\"stateNewProducts.isShowLoadMore\"\n                      @fetch=\"fetch(stateNewProducts)\"\n                      heading=\"Останні надходження\"\n        />\n\n        <ProductsList v-if=\"stateAllProducts.data.length\"\n                      :slider=\"true\"\n                      :lang=\"lang\"\n                      :data=\"stateAllProducts.data\"\n                      :isLoadMore=\"stateAllProducts.isLoadMore\"\n                      :isShowLoadMore=\"stateAllProducts.isShowLoadMore\"\n                      @fetch=\"fetch(stateAllProducts)\"\n                      heading=\"Усі товари\"\n        />\n\n        <Advantages v-if=\"advantages.length\" :lang=\"lang\" :data=\"advantages\"/>\n\n        <AllReviewsCarousel v-if=\"reviews.length\" :data=\"reviews\"/>\n\n        <Content v-if=\"options.text_home_page_ua || options.text_home_page_ru\"\n                 :data=\"lang === 'ua' ? options.text_home_page_ua : options.text_home_page_ru\"\n        />\n\n        <FaqComponent v-if=\"faqs.length\" :lang=\"lang\" :data=\"faqs\"/>\n\n        <Support/>\n\n        <Consultation v-if=\"options.consultation_status === 'on'\"/>\n    </div>\n</template>\n"],"names":["__default__","__MACROS_defineComponent","MasterLayout","Content","defineAsyncComponent","Advantages","AllReviewsCarousel","__vitePreload","FaqComponent","Support","meta","props","stateNewProducts","reactive","stateAllProducts","stateBestSellingProducts","fetch","val","data","onSuccessFetch","response","variable"],"mappings":"+jCAQcA,EAAAC,EAAA,CAAC,OAAQC,CAAY,CAAA,uMAI7BC,EAAUC,EAAqB,UAAM,OAAO,uBAA2B,EAAA,kBAAA,CAAC,EACxEC,EAAaD,EAAqB,UAAM,OAAO,0BAA8B,EAAA,kBAAA,CAAC,EAC9EE,EAAqBF,EAAqB,IAAKG,EAAA,IAAC,OAAO,kCAAsC,EAAC,kBAAA,CAAA,EAC9FC,EAAeJ,EAAqB,UAAM,OAAO,4BAAgC,EAAA,kBAAA,CAAC,EAClFK,EAAUL,EAAqB,UAAM,OAAO,uBAA2B,EAAA,kBAAA,CAAC,EAiBxEM,EAAO,CACT,MAAOC,EAAM,OAAS,KAAOA,EAAM,QAAQ,cAAgBA,EAAM,QAAQ,cACzE,YAAaA,EAAM,OAAS,KAAOA,EAAM,QAAQ,oBAAsBA,EAAM,QAAQ,mBACzF,EAEMC,EAAmBC,EAAS,CAC9B,KAAMF,EAAM,YAAY,KACxB,WAAY,GACZ,eAAgBA,EAAM,YAAY,eAAiBA,EAAM,YAAY,SACrE,YAAa,EACb,SAAU,oCACd,CAAC,EAEKG,EAAmBD,EAAS,CAC9B,KAAMF,EAAM,YAAY,KACxB,WAAY,GACZ,eAAgBA,EAAM,YAAY,eAAiBA,EAAM,YAAY,SACrE,YAAa,EACb,SAAU,uBACd,CAAC,EAEKI,EAA2BF,EAAS,CACtC,KAAMF,EAAM,oBAAoB,KAChC,WAAY,GACZ,eAAgBA,EAAM,oBAAoB,eAAiBA,EAAM,oBAAoB,SACrF,YAAa,EACb,SAAU,oCACd,CAAC,EAEKK,EAAQ,MAAOC,GAAQ,CACzB,MAAM,MAAM,IAAIA,EAAI,UAAYA,EAAI,YAAc,EAAE,EAC/C,KAAK,CAAC,CAAC,KAAAC,CAAI,IAAMC,EAAeF,EAAKC,CAAI,CAAC,EAC1C,MAAOE,GAAa,QAAQ,MAAMA,CAAQ,CAAC,CACpD,EAEMD,EAAiB,CAACE,EAAUH,IAAS,CACvCG,EAAS,KAAOA,EAAS,KAAK,OAAOH,EAAK,OAAO,IAAI,EACrDG,EAAS,MAAQH,EAAK,OAAO,MAC7BG,EAAS,YAAcH,EAAK,OAAO,aACnCG,EAAS,eAAkBH,EAAK,OAAO,KAAOA,EAAK,OAAO,MAC1DG,EAAS,WAAa,EAC1B"}