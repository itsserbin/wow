{"version":3,"file":"PromoCode-71d17e87.js","sources":["../../../resources/js/Pages/Public/Cart/PromoCode.vue"],"sourcesContent":["<script setup>\nimport {inject, ref} from \"vue\";\nimport {useStore} from \"vuex\";\nimport Button from '@/Pages/Public/Components/Button.vue'\nimport Input from '@/Pages/Public/Components/Input.vue'\nimport {swal} from '@/Includes/swal';\n\nconst promo_code = ref(null);\n\nconst store = useStore();\n\nfunction activateCode() {\n    axios.post('/api/v1/cart/promo-code/activate', {\n        promo_code: promo_code.value\n    })\n        .then(({data}) => {\n            if (data.result) {\n                swal({\n                    icon: 'success',\n                    title: 'Промо-код активирован',\n                });\n                store.commit('loadCart');\n            } else {\n                swal({\n                    icon: 'error',\n                    title: 'Произошла ошибка :(',\n                    text: 'Возможно, промо-код введен некорректно, или же истек срок действия',\n                });\n            }\n        })\n        .catch((response) => console.log(response));\n}\n\nfunction deactivateCode() {\n    axios.post('/api/v1/cart/promo-code/deactivate')\n        .then(() => {\n            swal({\n                'title': 'Промо-код деактивирован!',\n                'icon': 'success'\n            })\n            store.commit('loadCart');\n        })\n        .catch((response) => console.log(response));\n}\n</script>\n\n<template>\n    <div class=\"\n                items-center\n                border-gray-300\n                flex\n                rounded-[15px]\n                shadow-lg\n                box-border\n                justify-between\n                p-[1rem]\n                mb-3\n                flex-col\n                md:flex-row\n            \"\n    >\n        <label class=\"\n                        text-[#231f20]\n                        flex-row\n                        text-lg\n                        font-subheading\n                        font-[500]\n                        text-center\n                    \"\n        >Промокод</label>\n        <Input type=\"text\"\n               placeholder=\"XXX-XXX-XXX\"\n               v-model=\"promo_code\"\n               v-if=\"!store.state.promo_code\"\n               class=\"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading\"\n        />\n\n        <Input type=\"text\"\n               placeholder=\"XXX-XXX-XXX\"\n               :value=\"store.state.promo_code\"\n               v-if=\"store.state.promo_code\"\n               class=\"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading\"\n        />\n        <Button type=\"button\" v-if=\"store.state.promo_code\" @click=\"deactivateCode\">\n            Деактивувати\n        </Button>\n\n        <Button v-if=\"!store.state.promo_code\" @click=\"activateCode\" type=\"button\">\n            Активувати\n        </Button>\n    </div>\n</template>\n"],"names":["promo_code","ref","store","useStore","activateCode","data","swal","response","deactivateCode"],"mappings":"qeAOA,MAAMA,EAAaC,EAAI,IAAI,EAErBC,EAAQC,EAAQ,EAEtB,SAASC,GAAe,CACpB,MAAM,KAAK,mCAAoC,CAC3C,WAAYJ,EAAW,KAC/B,CAAK,EACI,KAAK,CAAC,CAAC,KAAAK,CAAI,IAAM,CACVA,EAAK,QACLC,EAAK,CACD,KAAM,UACN,MAAO,uBAC3B,CAAiB,EACDJ,EAAM,OAAO,UAAU,GAEvBI,EAAK,CACD,KAAM,QACN,MAAO,sBACP,KAAM,oEAC1B,CAAiB,CAEjB,CAAS,EACA,MAAOC,GAAa,QAAQ,IAAIA,CAAQ,CAAC,CAClD,CAEA,SAASC,GAAiB,CACtB,MAAM,KAAK,oCAAoC,EAC1C,KAAK,IAAM,CACRF,EAAK,CACD,MAAS,2BACT,KAAQ,SACxB,CAAa,EACDJ,EAAM,OAAO,UAAU,CACnC,CAAS,EACA,MAAOK,GAAa,QAAQ,IAAIA,CAAQ,CAAC,CAClD"}