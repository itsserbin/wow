import f from"./Chart-65148ee7.js";import x from"./Indicators-8bbed678.js";import D from"./Table-89574e4b.js";import{s as b,e as k,_ as V}from"./Datepicker-8b42859b.js";import{r as n,o as y,f as B,s,v as m,D as p,p as o,k as N,i as h,g as $,x as w,F as C,z as L,j as c}from"./app-b3873e05.js";import"./index-722ef7d5.js";import"./app-000aacd7.js";import"./vue-i18n.esm-bundler-338e6b70.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Logo-c9c7bdff.js";const M={class:"grid grid-cols-1 gap-4"},O={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},I={__name:"Dashboard",setup(F){const e=n({date:[],page:1}),a=n({table:null,indicators2:null,chart:null,indicators:null}),i=n({statistics:[]});y(()=>{e.value.date[0]=b(new Date),e.value.date[1]=k(new Date),d(),axios.get(route("api.dashboard")).then(({data:t})=>i.value.statistics=t.countOrders).catch(t=>console.log(t))});const r=B(()=>{const t={};return e.value.date.length===2&&(t.date_start=e.value.date[0].toLocaleDateString(),t.date_end=e.value.date[1].toLocaleDateString()),t.page=e.value.page,t});function d(){axios.get(route("api.statistics.orders.index",r.value)).then(({data:t})=>a.value.table=t.result.data).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",r.value)).then(({data:t})=>a.value.chart=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators",r.value)).then(({data:t})=>a.value.indicators=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators2",r.value)).then(({data:t})=>a.value.indicators2=t.result).catch(t=>console.log(t))}return(t,u)=>{const v=p("card-component"),_=p("auth-layout");return o(),s(_,{title:"Dashboard"},{header:m(()=>[N(" Dashboard ")]),default:m(()=>[h("div",M,[h("div",O,[(o(!0),$(C,null,w(i.value.statistics,(l,g)=>(o(),s(v,{class:"text-center",title:g,description:l||"0"},null,8,["title","description"]))),256))]),L(V,{modelValue:e.value.date,"onUpdate:modelValue":[u[0]||(u[0]=l=>e.value.date=l),d]},null,8,["modelValue"]),a.value.chart?(o(),s(f,{key:0,chartData:a.value.chart},null,8,["chartData"])):c("",!0),a.value.indicators?(o(),s(x,{key:1,data:a.value.indicators},null,8,["data"])):c("",!0),a.value.table?(o(),s(D,{key:2,data:a.value.table},null,8,["data"])):c("",!0)])]),_:1})}}};export{I as default};
