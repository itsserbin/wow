{"version":3,"file":"Form-db93da5e.js","sources":["../../../resources/js/Pages/Admin/Options/Banners/Form.vue"],"sourcesContent":["<script setup>\nimport {inject, ref, onMounted} from \"vue\";\nimport UploadBannersInput from './UploadBannersInput.vue';\nimport Input from '@/Components/Form/Input.vue';\nimport Label from '@/Components/Form/Label.vue';\nimport Select from '@/Components/Form/Select.vue';\nimport LangTabs from '@/Components/LangTabs.vue';\nimport Multiselect from '@/Components/Multiselect/Multiselect.vue';\n\nconst props = defineProps(['item'])\n\nconst publishedStatuses = inject('$publishedStatuses');\nconst defaultLang = inject('$defaultLang');\nconst emits = defineEmits(['onUploadImage']);\nconst state = ref({\n    categories: [],\n    activeLang: defaultLang\n});\n\nonMounted(() => {\n    axios.get(route('api.categories.list'))\n        .then(({data}) => state.value.categories = data.result)\n        .catch((response) => console.log(response))\n})\n\nfunction h1AndCodeAndId({title, id}) {\n    if (title && id) {\n        return `${state.value.activeLang === 'ua' ? title.ua : (state.value.activeLang === 'ru' ? title.ru : '-')} -${id}`;\n    } else {\n        return `${id}`;\n    }\n}\n\nfunction changeLang(val) {\n    state.value.activeLang = val;\n}\n\nfunction uploadImageMobileUa(file) {\n    uploadImage(file, 'mobile', 'ua')\n}\n\nfunction uploadImageMobileRu(file) {\n    uploadImage(file, 'mobile', 'ru')\n}\n\nfunction uploadImageTableUa(file) {\n    uploadImage(file, 'table', 'ua')\n}\n\nfunction uploadImageTableRu(file) {\n    uploadImage(file, 'table', 'ru')\n}\n\n\nfunction uploadImageDesktopUa(file) {\n    uploadImage(file, 'desktop', 'ua')\n}\n\nfunction uploadImageDesktopRu(file) {\n    uploadImage(file, 'desktop', 'ru')\n}\n\nfunction uploadImage(image, device, lang) {\n    emits('onUploadImage', image, device, lang)\n}\n\nfunction destroyImage(device, lang) {\n    if (device === 'mobile') {\n        if (lang === 'ru') {\n            props.item.image_mobile.ru = null;\n        }\n        if (lang === 'ua') {\n            props.item.image_mobile.ua = null;\n        }\n    }\n    if (device === 'table') {\n        if (lang === 'ru') {\n            props.item.image_table.ru = null;\n        }\n        if (lang === 'ua') {\n            props.item.image_table.ua = null;\n        }\n    }\n    if (device === 'desktop') {\n        if (lang === 'ru') {\n            props.item.image_desktop.ru = null;\n        }\n        if (lang === 'ua') {\n            props.item.image_desktop.ua = null;\n        }\n    }\n}\n</script>\n\n<template>\n    <form>\n        <div class=\"grid gap-4\">\n            <div class=\"block\">\n                <Label value=\"Статус публікації\"/>\n                <Select v-model=\"item.published\" :options=\"publishedStatuses\"/>\n            </div>\n\n            <div class=\"block\">\n                <Label value=\"Категорії\"/>\n                <Multiselect\n                    :options=\"state.categories\"\n                    v-model=\"item.categories\"\n                    :custom-label=\"h1AndCodeAndId\"\n                    placeholder=\"Оберіть категорії\"\n                    track-by=\"id\"\n                    :close-on-select=\"true\"\n                    :searchable=\"true\"\n                    :multiple=\"true\"\n                />\n            </div>\n\n            <LangTabs @clickLang=\"changeLang\"/>\n\n            <div class=\"block\">\n                <Label value=\"Назва\"/>\n                <Input v-model=\"item.title[state.activeLang]\" type=\"text\"/>\n            </div>\n\n            <div class=\"block\">\n                <Label value=\"Посилання\"/>\n                <Input v-model=\"item.link[state.activeLang]\" type=\"text\"/>\n            </div>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n                <div class=\"block\">\n                    <UploadBannersInput label=\"Зображення для мобільних\"\n                                        @upload=\"uploadImageMobileUa\"\n                                        v-if=\"state.activeLang === 'ua'\"\n                                        :image=\"item.image_mobile.ua ? route('images.banners.mobile',{filename:item.image_mobile.ua + '.jpeg'}) : null\"\n                                        @onDestroyImage=\"destroyImage('mobile','ua')\"\n                    />\n                    <UploadBannersInput label=\"Зображення для мобільних\"\n                                        @upload=\"uploadImageMobileRu\"\n                                        v-if=\"state.activeLang === 'ru'\"\n                                        :image=\"item.image_mobile.ru ? route('images.banners.mobile',{filename:item.image_mobile.ru + '.jpeg'}) : null\"\n                                        @onDestroyImage=\"destroyImage('mobile','ru')\"\n                    />\n                </div>\n\n                <div class=\"block\">\n                    <UploadBannersInput @upload=\"uploadImageTableRu\"\n                                        :image=\"item.image_table.ru ? route('images.banners.mobile',{filename:item.image_table.ru + '.jpeg'}) : null\"\n                                        @onDestroyImage=\"destroyImage('table','ru')\"\n                                        v-if=\"state.activeLang === 'ru'\"\n                    />\n\n                    <UploadBannersInput label=\"Зображення для планшетів\"\n                                        @upload=\"uploadImageTableUa\"\n                                        :image=\"item.image_table.ua ? route('images.banners.mobile',{filename:item.image_table.ua + '.jpeg'}) : null\"\n                                        @onDestroyImage=\"destroyImage('table','ua')\"\n                                        v-if=\"state.activeLang === 'ua'\"\n                    />\n                </div>\n            </div>\n            <div class=\"block\">\n                <UploadBannersInput label=\"Зображення для компʼютерів\"\n                                    @upload=\"uploadImageDesktopRu\"\n                                    :image=\"item.image_desktop.ru ? route('images.banners.mobile',{filename:item.image_desktop.ru + '.jpeg'}) : null\"\n                                    @onDestroyImage=\"destroyImage('desktop','ru')\"\n                                    v-if=\"state.activeLang === 'ru'\"\n                />\n\n                <UploadBannersInput label=\"Зображення для компʼютерів\"\n                                    @upload=\"uploadImageDesktopUa\"\n                                    :image=\"item.image_desktop.ua ? route('images.banners.mobile',{filename:item.image_desktop.ua + '.jpeg'}) : null\"\n                                    @onDestroyImage=\"destroyImage('desktop','ua')\"\n                                    v-if=\"state.activeLang === 'ua'\"\n                />\n            </div>\n        </div>\n    </form>\n</template>\n"],"names":["publishedStatuses","inject","defaultLang","state","ref","onMounted","data","response","h1AndCodeAndId","title","id","changeLang","val","uploadImageMobileUa","file","uploadImage","uploadImageMobileRu","uploadImageTableUa","uploadImageTableRu","uploadImageDesktopUa","uploadImageDesktopRu","image","device","lang","emits","destroyImage","props"],"mappings":"wuBAWMA,EAAoBC,EAAO,oBAAoB,EAC/CC,EAAcD,EAAO,cAAc,EAEnCE,EAAQC,EAAI,CACd,WAAY,CAAE,EACd,WAAYF,CAChB,CAAC,EAEDG,EAAU,IAAM,CACZ,MAAM,IAAI,MAAM,qBAAqB,CAAC,EACjC,KAAK,CAAC,CAAC,KAAAC,CAAI,IAAMH,EAAM,MAAM,WAAaG,EAAK,MAAM,EACrD,MAAOC,GAAa,QAAQ,IAAIA,CAAQ,CAAC,CAClD,CAAC,EAED,SAASC,EAAe,CAAC,MAAAC,EAAO,GAAAC,CAAE,EAAG,CACjC,OAAID,GAASC,EACF,GAAGP,EAAM,MAAM,aAAe,KAAOM,EAAM,GAAMN,EAAM,MAAM,aAAe,KAAOM,EAAM,GAAK,QAASC,IAEvG,GAAGA,GAElB,CAEA,SAASC,EAAWC,EAAK,CACrBT,EAAM,MAAM,WAAaS,CAC7B,CAEA,SAASC,EAAoBC,EAAM,CAC/BC,EAAYD,EAAM,SAAU,IAAI,CACpC,CAEA,SAASE,EAAoBF,EAAM,CAC/BC,EAAYD,EAAM,SAAU,IAAI,CACpC,CAEA,SAASG,EAAmBH,EAAM,CAC9BC,EAAYD,EAAM,QAAS,IAAI,CACnC,CAEA,SAASI,EAAmBJ,EAAM,CAC9BC,EAAYD,EAAM,QAAS,IAAI,CACnC,CAGA,SAASK,EAAqBL,EAAM,CAChCC,EAAYD,EAAM,UAAW,IAAI,CACrC,CAEA,SAASM,EAAqBN,EAAM,CAChCC,EAAYD,EAAM,UAAW,IAAI,CACrC,CAEA,SAASC,EAAYM,EAAOC,EAAQC,EAAM,CACtCC,EAAM,gBAAiBH,EAAOC,EAAQC,CAAI,CAC9C,CAEA,SAASE,EAAaH,EAAQC,EAAM,CAC5BD,IAAW,WACPC,IAAS,OACTG,EAAM,KAAK,aAAa,GAAK,MAE7BH,IAAS,OACTG,EAAM,KAAK,aAAa,GAAK,OAGjCJ,IAAW,UACPC,IAAS,OACTG,EAAM,KAAK,YAAY,GAAK,MAE5BH,IAAS,OACTG,EAAM,KAAK,YAAY,GAAK,OAGhCJ,IAAW,YACPC,IAAS,OACTG,EAAM,KAAK,cAAc,GAAK,MAE9BH,IAAS,OACTG,EAAM,KAAK,cAAc,GAAK,MAG1C"}