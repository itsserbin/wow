import{r as k,g as y,i as o,z as n,v as a,s as R,j as V,D as d,al as C,p,k as r,l as s,A as w,P as N}from"./app-0cccff29.js";import{s as x}from"./swal-02b4eb44.js";const S={class:"text-center"},M={class:"grid gap-4"},B={class:"block"},D={class:"block"},E={class:"block"},z={__name:"ReviewForm",props:{id:Number,textGiveReview:{type:String,default:"Залишити відгук"},textEnterName:{type:String,default:"Ваше імʼя"},textEnterReview:{type:String,default:"Ваш відгук"},textName:{type:String,default:"Імʼя"},textPhone:{type:String,default:"Телефон"},textComment:{type:String,default:"Відгук"}},setup(t){const f=t,e=k({showReviewModal:!1,review:{published:0,product_id:null,phone:null,name:null,comment:null},errors:[],isLoading:!1});function u(){e.value.showReviewModal=!e.value.showReviewModal}function h(){e.value.isLoading=!0,e.value.review.product_id=f.id,axios.post("/api/v1/reviews/create",e.value.review).then(()=>{e.value.review={phone:null,name:null,comment:null},e.value.isLoading=!1,e.value.errors=[],u(),x({icon:"success",title:"Ваш коментар надіслано!",text:"Він буде опублікований після перевірки на спам :)"})}).catch(({response:c})=>{e.value.errors=c.data,e.value.isLoading=!1,console.log(c),x({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"})})}return(c,l)=>{const b=d("button-component"),m=d("label-component"),v=d("input-component"),_=d("modal"),g=C("maska");return p(),y("div",null,[o("div",null,[o("div",S,[n(b,{type:"button",onClick:u},{default:a(()=>[r(s(t.textGiveReview),1)]),_:1})]),e.value.showReviewModal?(p(),R(_,{key:0,onClickCancel:u,onCloseModal:u,onSubmitForm:h,"submit-button-text":"Відправити","cancel-button-text":"Відмінити",size:"medium"},{heading:a(()=>[r(s(t.textGiveReview),1)]),content:a(()=>[o("div",M,[o("div",B,[n(m,{required:!0},{default:a(()=>[r(s(t.textName),1)]),_:1}),n(v,{type:"text",modelValue:e.value.review.name,"onUpdate:modelValue":l[0]||(l[0]=i=>e.value.review.name=i),placeholder:t.textEnterName},null,8,["modelValue","placeholder"])]),o("div",D,[n(m,{required:!0},{default:a(()=>[r(s(t.textPhone),1)]),_:1}),w(n(v,{type:"tel",modelValue:e.value.review.phone,"onUpdate:modelValue":l[1]||(l[1]=i=>e.value.review.phone=i),placeholder:"+38 (0",class:"phone"},null,8,["modelValue"]),[[g,"+38 (0##) ###-##-##"]])]),o("div",E,[n(m,{required:!0},{default:a(()=>[r(s(t.textComment),1)]),_:1}),w(o("textarea",{placeholder:"Введіть ваш коментар","onUpdate:modelValue":l[2]||(l[2]=i=>e.value.review.comment=i),rows:"4",class:"border-[0.5px] rounded-[10px] box-border font-[350] h-[100] mt-[0.75rem] p-[1rem] resize-none w-[100%] outline-none border-red-600 focus:border-red-600 focus:ring-red-600"},null,512),[[N,e.value.review.comment]])])])]),_:1})):V("",!0)])])}}};export{z as default};
