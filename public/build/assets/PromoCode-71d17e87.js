import{r as _,a2 as X,p as o,q as y,t as a,D as r,C as c,x as d,v,A as m}from"./app-f55448cf.js";import i from"./Button-60b98f54.js";import p from"./Input-98d67925.js";import{s as l}from"./swal-01ed9a07.js";const h={class:"items-center border-gray-300 flex rounded-[15px] shadow-lg box-border justify-between p-[1rem] mb-3 flex-col md:flex-row"},C=v("label",{class:"text-[#231f20] flex-row text-lg font-subheading font-[500] text-center"},"Промокод",-1),B={__name:"PromoCode",setup(b){const s=_(null),e=X();function u(){axios.post("/api/v1/cart/promo-code/activate",{promo_code:s.value}).then(({data:t})=>{t.result?(l({icon:"success",title:"Промо-код активирован"}),e.commit("loadCart")):l({icon:"error",title:"Произошла ошибка :(",text:"Возможно, промо-код введен некорректно, или же истек срок действия"})}).catch(t=>console.log(t))}function f(){axios.post("/api/v1/cart/promo-code/deactivate").then(()=>{l({title:"Промо-код деактивирован!",icon:"success"}),e.commit("loadCart")}).catch(t=>console.log(t))}return(t,n)=>(o(),y("div",h,[C,a(e).state.promo_code?c("",!0):(o(),r(p,{key:0,type:"text",placeholder:"XXX-XXX-XXX",modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=x=>s.value=x),class:"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading"},null,8,["modelValue"])),a(e).state.promo_code?(o(),r(p,{key:1,type:"text",placeholder:"XXX-XXX-XXX",value:a(e).state.promo_code,class:"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading"},null,8,["value"])):c("",!0),a(e).state.promo_code?(o(),r(i,{key:2,type:"button",onClick:f},{default:d(()=>[m(" Деактивувати ")]),_:1})):c("",!0),a(e).state.promo_code?c("",!0):(o(),r(i,{key:3,onClick:u,type:"button"},{default:d(()=>[m(" Активувати ")]),_:1}))]))}};export{B as default};
