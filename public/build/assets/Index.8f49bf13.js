import _ from"./StatisticLayout.743033c9.js";import g from"./LastParams.37ac77dc.js";import v from"./Chart.1c61592c.js";import c from"./Chart.010cce05.js";import{A as u,G as m,B as f,V as l,S as d,R as o,K as p,M as e,_ as i,Y as x}from"./moment.fb372146.js";import"./index.e5d1eed6.js";import"./app.8040b151.js";const y=x(" \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 "),k={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},D={class:"block"},B=e("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u0412\u0438\u0442\u0440\u0430\u0442\u0438",-1),V=e("hr",{class:"my-1"},null,-1),N={class:"div"},$=e("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u041F\u0440\u0438\u0431\u0443\u0442\u043E\u043A",-1),L=e("hr",{class:"my-1"},null,-1),C={class:"div"},M=e("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u0417\u0430\u044F\u0432\u043A\u0438",-1),S=e("hr",{class:"my-1"},null,-1),b={class:"div"},w=e("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u041C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433",-1),A=e("hr",{class:"my-1"},null,-1),z={__name:"Index",setup(G){const s=u({date:[],filter:null,last:"one-month",page:1}),a=u({costs:null,profits:null,orders:null,marketing:null});m(()=>n());const r=f(()=>{const t={};return s.value.filter&&(t.filter=s.value.filter),s.value.date.length===2&&(t.date_start=s.value.date[0],t.date_end=s.value.date[1]),s.value.last&&(t.last=s.value.last),t.page=s.value.page,t});function h(t){t?s.value.last=t:s.value={date:[],filter:null,last:null,page:1},n()}function n(){a.value.isLoading=!0,axios.get(route("api.statistics.costs.chart",r.value)).then(({data:t})=>a.value.costs=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.profits.chart",r.value)).then(({data:t})=>a.value.profits=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",r.value)).then(({data:t})=>a.value.orders=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.marketing.chart",r.value)).then(({data:t})=>a.value.marketing=t.result).catch(t=>console.log(t))}return(t,I)=>(o(),l(_,{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"},{header:d(()=>[y]),default:d(()=>[p(g,{"active-item":s.value.last,onSortByLast:h},null,8,["active-item"]),e("div",k,[e("div",D,[B,V,a.value.costs?(o(),l(v,{key:0,chartData:a.value.costs},null,8,["chartData"])):i("",!0)]),e("div",N,[$,L,a.value.profits?(o(),l(c,{key:0,chartData:a.value.profits},null,8,["chartData"])):i("",!0)]),e("div",C,[M,S,a.value.orders?(o(),l(c,{key:0,chartData:a.value.orders},null,8,["chartData"])):i("",!0)]),e("div",b,[w,A,a.value.marketing?(o(),l(c,{key:0,chartData:a.value.marketing},null,8,["chartData"])):i("",!0)])])]),_:1}))}};export{z as default};
