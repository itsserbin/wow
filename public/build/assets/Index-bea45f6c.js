import d from"./OptionsLayout-0cc375cb.js";import f from"./Form-a14c2ac5.js";import{L as w}from"./app-351aedfb.js";import{u as _}from"./vue-i18n.esm-bundler-7516fc44.js";import{r as v,o as y,s as e,v as g,y as c,p as n,j as p,u as x}from"./app-0cccff29.js";import"./index.esm-87d59e5b.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Logo-857fc5bc.js";import"./Logo-9c0e90bb.js";const u={main(){return{async index(){try{return(await axios.get(route("api.options.main.index"))).data}catch(a){throw new Error(a.response.data)}},async update(a){try{return(await axios.put(route("api.options.main.update"),a)).data}catch(s){throw new Error(s.response.data)}}}}},M={__name:"Index",setup(a){const s=c("$can"),r=c("$swal"),{t:i}=_(),o=v({isLoading:!1,options:{}});y(()=>l());const l=async()=>{o.value.isLoading=!0;const t=await u.main().index();t.success&&(o.value.options=t.result),o.value.isLoading=!1},m=async()=>{o.value.isLoading=!0;const t=await u.main().update(o.value.options);t.success?r({title:i("swal.updated"),icon:"success"}):(console.log(t),r({title:i("swal.error"),icon:"error"})),o.value.isLoading=!1};return(t,L)=>(n(),e(d,null,{default:g(()=>[o.value.isLoading?(n(),e(w,{key:0})):p("",!0),x(s)("show-main-options")&&!o.value.isLoading?(n(),e(f,{key:1,options:o.value.options,onSubmitForm:m},null,8,["options"])):p("",!0)]),_:1}))}};export{M as default};
