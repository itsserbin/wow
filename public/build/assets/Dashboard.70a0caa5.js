import B from"./Chart.accfd0cb.js";import D from"./LastParams.439b145e.js";import V from"./Indicators.a5cbceb3.js";import $ from"./Table.cd199c9e.js";import C from"./Table2.72751e56.js";import{y as u,G as L,z as N,a0 as o,W as _,$ as r,S as l,M as d,L as S,Y as w,F,K as m,Z as n,X as M}from"./___vite-browser-external_commonjs-proxy.bd54111c.js";import"./index.c69f3a70.js";import"./app.6f988b92.js";const O=M(" Dashboard "),P={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},T={class:"block"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={__name:"Dashboard",setup(A){const a=u({date:[],filter:null,last:"one-month",page:1}),e=u({table:null,indicators2:null,chart:null,indicators:null}),p=u({statistics:[]});L(()=>{c(),axios.get(route("api.dashboard")).then(({data:t})=>p.value.statistics=t.countOrders).catch(t=>console.log(t))});const s=N(()=>{const t={};return a.value.filter&&(t.filter=a.value.filter),a.value.date.length===2&&(t.date_start=a.value.date[0],t.date_end=a.value.date[1]),a.value.last&&a.value.last!=="range"&&(t.last=a.value.last),t.page=a.value.page,t});function h(t){t?a.value.last=t:a.value={date:[],filter:null,last:null,page:1},c()}function f(){a.value.last="range",c()}function c(){axios.get(route("api.statistics.orders.index",s.value)).then(({data:t})=>e.value.table=t.result.data).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",s.value)).then(({data:t})=>e.value.chart=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators",s.value)).then(({data:t})=>e.value.indicators=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators2",s.value)).then(({data:t})=>e.value.indicators2=t.result).catch(t=>console.log(t))}return(t,v)=>{const g=r("card-component"),b=r("label-component"),k=r("Datepicker"),x=r("auth-layout");return l(),o(x,{title:"Dashboard"},{header:_(()=>[O]),default:_(()=>[d("div",P,[(l(!0),S(F,null,w(p.value.statistics,(i,y)=>(l(),o(g,{class:"text-center",title:y,description:i},null,8,["title","description"]))),256))]),d("div",T,[m(b,{value:"\u0424\u0456\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0430\u0442\u0456"}),m(k,{modelValue:a.value.date,"onUpdate:modelValue":[v[0]||(v[0]=i=>a.value.date=i),f],class:"w-100",locale:"ru",placeholder:"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0434\u0430\u0442\u0443",autoApply:"",monthChangeOnScroll:!1,enableTimePicker:!1,range:"",utc:""},null,8,["modelValue"])]),m(D,{"active-item":a.value.last,onSortByLast:h},null,8,["active-item"]),e.value.chart?(l(),o(B,{key:0,chartData:e.value.chart},null,8,["chartData"])):n("",!0),e.value.indicators?(l(),o(V,{key:1,data:e.value.indicators},null,8,["data"])):n("",!0),d("div",z,[e.value.table?(l(),o($,{key:0,data:e.value.table},null,8,["data"])):n("",!0),e.value.table?(l(),o(C,{key:1,data:e.value.table},null,8,["data"])):n("",!0)])]),_:1})}}};export{Z as default};
