import{r as v,g as r,i as e,l as a,j as n,z as _,v as f,F as m,x,s as I,u as T,H as B,p as c,k as g,A as k,B as y,J as V}from"./app-0cccff29.js";import M from"./BuyIn1ClickModal-dac3f7dc.js";import{u as z}from"./app-3a7d5ccb.js";import b from"./Button-8049268b.js";import{s as C}from"./swal-02b4eb44.js";import{e as U}from"./eventTracking-9927e521.js";import"./maska-224de96c.js";import"./Modal-8eb2a9c1.js";import"./Loader-65f89e68.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input-bbfcab06.js";import"./InputError-04edaa88.js";import"./Label-defb1fd3.js";import"./vue-i18n.esm-bundler-7516fc44.js";const j={class:"pt-[5%]"},N=e("hr",{class:"mb-4"},null,-1),P={class:"grid grid-cols-1 md:grid-cols-2 font-subheading"},S={class:"mb-4 mb-md-0 flex items-center justify-evenly flex-col"},D={key:0,class:"text-center"},E={class:"text-lg font-medium text-[#A5A5A5] line-through"},F={class:"font-bold text-[#ff0000] text-4xl"},H={key:1,class:"text-center"},$={class:"text-lg font-bold font-medium text-[#A5A5A5] text-[2.5rem]"},q={class:"grid gap-4"},G=e("hr",{class:"mt-4"},null,-1),J={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5 font-subheading"},L={key:0},K=e("div",{class:"w-full mb-2"},"Доступні розміри",-1),O={class:"flex pb-[20px]"},Q={class:"mx-1"},R=["value","id","onUpdate:modelValue"],W=["for"],X={key:1},Y=e("div",{class:"w-100 mb-2"},"Доступні кольори",-1),Z={class:"flex"},ee=["id","value","onUpdate:modelValue"],te=["for"],fe={__name:"AddToCart",props:["product","eventIdAddToCard","eventIdPurchaseIn1Click"],setup(o){const t=o,A=z(),p=B(),d=v({count:1,size:[],color:[],item_id:t.product.id,src:typeof window<"u"?window.location.href:null,event_id:t.eventIdAddToCard}),s=v({product:{id:null,discount_price:null,price:null,h1:null,sizes:[],colors:[]},isActiveBuyIn1ClickModal:!1,isAddToCart:!1});function h(){s.value.isActiveBuyIn1ClickModal=!s.value.isActiveBuyIn1ClickModal}function w(){s.value.isAddToCart||axios.post(route("api.v1.cart.add",d.value)).then(()=>{s.value.isAddToCart=!0;try{U("AddToCart",{value:t.product.discount_price?t.product.discount_price:t.product.price,currency:"UAH",content_type:"product",content_ids:[d.value.item_id],content_name:t.product.h1},d.value.event_id),A.trackEvent({event:"add_product_to_cart",ecommerce:{items:[{item_name:t.product.h1,item_id:d.value.item_id,price:t.product.discount_price?t.product.discount_price:t.product.price,quantity:1}]}})}catch(l){console.log(l)}p.commit("loadCart"),C({icon:"success",title:"Товар додано до вашого кошика!",text:"Ви можете оформити замовлення або продовжити покупки :)",showCancelButton:!0,confirmButtonText:"Оформити замовлення",cancelButtonText:"Продовжити покупки"}).then(l=>{l.isConfirmed&&typeof window<"u"&&(window.location.href=route("checkout"))})}).catch(()=>{C({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"})})}return(l,oe)=>(c(),r(m,null,[e("div",j,[N,e("div",P,[e("div",S,[o.product.discount_price?(c(),r("div",D,[e("div",E,a(o.product.price)+" грн. ",1),e("div",F,a(o.product.discount_price)+" грн.",1)])):n("",!0),o.product.discount_price?n("",!0):(c(),r("div",H,[e("div",$,a(o.product.price)+" грн. ",1)]))]),e("div",q,[_(b,{onClick:w,type:"button"},{default:f(()=>[g(" До кошика ")]),_:1}),_(b,{onClick:h,type:"button"},{default:f(()=>[g(" Купити в 1 клік ")]),_:1})])]),G]),e("div",J,[o.product.sizes.length?(c(),r("div",L,[K,e("ul",O,[(c(!0),r(m,null,x(o.product.sizes,i=>(c(),r("li",Q,[k(e("input",{type:"checkbox",value:i.title,id:i.title,class:"hidden peer","onUpdate:modelValue":u=>d.value.size=u},null,8,R),[[y,d.value.size]]),e("label",{for:i.title,class:"inline-flex justify-center items-center mx-auto text-gray-500 bg-white rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50 w-[40px] h-[40px]"},a(i.title),9,W)]))),256))])])):n("",!0),o.product.colors.length?(c(),r("div",X,[Y,e("div",Z,[(c(!0),r(m,null,x(o.product.colors,i=>(c(),r("div",null,[k(e("input",{type:"checkbox",id:i.name,value:i.name,class:"hidden peer","onUpdate:modelValue":u=>d.value.color=u},null,8,ee),[[y,d.value.color]]),e("label",{for:i.name,style:V("background-color:"+i.hex),class:"inline-flex justify-center items-center mx-auto text-black-500 rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-black peer-checked:text-gray-600 hover:bg-black w-[40px] h-[40px]"},null,12,te)]))),256))])])):n("",!0)]),s.value.isActiveBuyIn1ClickModal?(c(),I(M,{key:0,onCloseModal:h,item:d.value,product:o.product,cart:T(p).state.list,eventIdPurchaseIn1Click:t.eventIdPurchaseIn1Click,eventIdAddToCard:t.eventIdAddToCard,isAddToCart:s.value.isAddToCart},null,8,["item","product","cart","eventIdPurchaseIn1Click","eventIdAddToCard","isAddToCart"])):n("",!0)],64))}};export{fe as default};
