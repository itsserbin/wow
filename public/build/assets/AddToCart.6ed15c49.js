import{p as _,g as r,i as e,t as a,j as n,x as v,w as f,F as m,s as x,m as B,u as V,E as M,Z as z,o as c,y as g,z as b,G as P,k as y,a9 as U}from"./vendor.1f6af4a6.js";import j from"./BuyIn1ClickModal.053d21a0.js";import C from"./Button.678af94f.js";import{s as k}from"./swal.1147426a.js";import"./__commonjsHelpers__.488ed5c2.js";import"./maska.esm.2315e0de.js";import"./Modal.2a74feaf.js";import"./Loader.39470ae5.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Input.0cfa13d3.js";import"./InputError.37578239.js";import"./Label.81064beb.js";import"./vue.m.8e70aa70.js";const N={class:"pt-[5%]"},E=e("hr",{class:"mb-4"},null,-1),S={class:"grid grid-cols-1 md:grid-cols-2 font-subheading"},$={class:"mb-4 mb-md-0 flex items-center justify-evenly flex-col"},q={key:0,class:"text-center"},D={class:"text-lg font-medium text-[#A5A5A5] line-through"},F={class:"font-bold text-[#ff0000] text-4xl"},G={key:1,class:"text-center"},H={class:"text-lg font-bold font-medium text-[#A5A5A5] text-[2.5rem]"},L={class:"grid gap-4"},Z=y(" \u0414\u043E \u043A\u043E\u0448\u0438\u043A\u0430 "),J=y(" \u041A\u0443\u043F\u0438\u0442\u0438 \u0432 1 \u043A\u043B\u0456\u043A "),K=e("hr",{class:"mt-4"},null,-1),O={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5 font-subheading"},Q={key:0},R=e("div",{class:"w-full mb-2"},"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438",-1),W={class:"flex pb-[20px]"},X={class:"mx-1"},Y=["value","id","onUpdate:modelValue"],ee=["for"],te={key:1},oe=e("div",{class:"w-100 mb-2"},"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u043A\u043E\u043B\u044C\u043E\u0440\u0438",-1),ce={class:"flex"},de=["id","value","onUpdate:modelValue"],se=["for"],be={__name:"AddToCart",props:["product","eventIdAddToCard","eventIdPurchaseIn1Click"],setup(o){const t=o,A=U(),p=M(),{appContext:I}=z(),{$fbq:T}=I.config.globalProperties,d=_({count:1,size:[],color:[],item_id:t.product.id,src:route(route().current(),route().params),event_id:t.eventIdAddToCard}),i=_({product:{id:null,discount_price:null,price:null,h1:null,sizes:[],colors:[]},isActiveBuyIn1ClickModal:!1,isAddToCart:!1});function h(){i.value.isActiveBuyIn1ClickModal=!i.value.isActiveBuyIn1ClickModal}function w(){i.value.isAddToCart||axios.post(route("api.v1.cart.add",d.value)).then(()=>{i.value.isAddToCart=!0;try{T("AddToCart",{value:t.product.discount_price?t.product.discount_price:t.product.price,currency:"UAH",content_type:"product",content_ids:[d.value.item_id],content_name:t.product.h1},d.value.event_id),A.trackEvent({event:"add_product_to_cart",ecommerce:{items:[{item_name:t.product.h1,item_id:d.value.item_id,price:t.product.discount_price?t.product.discount_price:t.product.price,quantity:1}]}})}catch(l){console.log(l)}p.commit("loadCart"),k({icon:"success",title:"\u0422\u043E\u0432\u0430\u0440 \u0434\u043E\u0434\u0430\u043D\u043E \u0434\u043E \u0432\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u0448\u0438\u043A\u0430!",text:"\u0412\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u0430\u0431\u043E \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438 :)",showCancelButton:!0,confirmButtonText:"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F",cancelButtonText:"\u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"}).then(l=>{l.isConfirmed&&(window.location.href=route("checkout"))})}).catch(()=>{k({icon:"error",title:"\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430",text:"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0456\u0441\u0442\u044C \u0434\u0430\u043D\u043D\u0438\u0445"})})}return(l,re)=>(c(),r(m,null,[e("div",N,[E,e("div",S,[e("div",$,[o.product.discount_price?(c(),r("div",q,[e("div",D,a(o.product.price)+" \u0433\u0440\u043D. ",1),e("div",F,a(o.product.discount_price)+" \u0433\u0440\u043D.",1)])):n("",!0),o.product.discount_price?n("",!0):(c(),r("div",G,[e("div",H,a(o.product.price)+" \u0433\u0440\u043D. ",1)]))]),e("div",L,[v(C,{onClick:w,type:"button"},{default:f(()=>[Z]),_:1}),v(C,{onClick:h,type:"button"},{default:f(()=>[J]),_:1})])]),K]),e("div",O,[o.product.sizes.length?(c(),r("div",Q,[R,e("ul",W,[(c(!0),r(m,null,x(o.product.sizes,s=>(c(),r("li",X,[g(e("input",{type:"checkbox",value:s.title,id:s.title,class:"hidden peer","onUpdate:modelValue":u=>d.value.size=u},null,8,Y),[[b,d.value.size]]),e("label",{for:s.title,class:"inline-flex justify-center items-center mx-auto text-gray-500 bg-white rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50 w-[40px] h-[40px]"},a(s.title),9,ee)]))),256))])])):n("",!0),o.product.colors.length?(c(),r("div",te,[oe,e("div",ce,[(c(!0),r(m,null,x(o.product.colors,s=>(c(),r("div",null,[g(e("input",{type:"checkbox",id:s.name,value:s.name,class:"hidden peer","onUpdate:modelValue":u=>d.value.color=u},null,8,de),[[b,d.value.color]]),e("label",{for:s.name,style:P("background-color:"+s.hex),class:"inline-flex justify-center items-center mx-auto text-black-500 rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-black peer-checked:text-gray-600 hover:bg-black w-[40px] h-[40px]"},null,12,se)]))),256))])])):n("",!0)]),i.value.isActiveBuyIn1ClickModal?(c(),B(j,{key:0,onCloseModal:h,item:d.value,product:o.product,cart:V(p).state.list,eventIdPurchaseIn1Click:t.eventIdPurchaseIn1Click,eventIdAddToCard:t.eventIdAddToCard,isAddToCart:i.value.isAddToCart},null,8,["item","product","cart","eventIdPurchaseIn1Click","eventIdAddToCard","isAddToCart"])):n("",!0)],64))}};export{be as default};
