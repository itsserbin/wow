import _ from"./Chart-d8491e4a.js";import v from"./Indicators-59b8df60.js";import g from"./Table-888cebf3.js";import{s as f,e as x,_ as D}from"./Datepicker-47ab19ec.js";import{_ as w}from"./AuthenticatedLayout-53775af0.js";import{_ as b}from"./Card-36606ffb.js";import{r as i,o as V,j as k,p as s,D as o,x as m,A as $,v as p,q as y,K as B,F as N,l as C,C as c}from"./app-6d1ec759.js";import"./Table-d4015883.js";import"./vue-datepicker-609e4dad.js";import"./index.esm-09a1b1ab.js";import"./Logo-7b0b10d2.js";import"./vue-i18n.esm-bundler-39f45a4f.js";const L={class:"grid grid-cols-1 gap-4"},M={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},H={__name:"Dashboard",setup(O){const e=i({date:[],page:1}),t=i({table:null,indicators2:null,chart:null,indicators:null}),n=i({statistics:[]});V(async()=>{e.value.date[0]=f(new Date),e.value.date[1]=x(new Date),await d(),await axios.get(route("api.dashboard")).then(({data:a})=>n.value.statistics=a.countOrders).catch(a=>console.log(a))});const r=k(()=>{const a={};return e.value.date.length===2&&(a.date_start=e.value.date[0].toLocaleDateString(),a.date_end=e.value.date[1].toLocaleDateString()),a.page=e.value.page,a}),d=async()=>{await axios.get(route("api.statistics.orders.index",r.value)).then(({data:a})=>t.value.table=a.result.data).catch(a=>console.log(a)),await axios.get(route("api.statistics.orders.chart",r.value)).then(({data:a})=>t.value.chart=a.result).catch(a=>console.log(a)),await axios.get(route("api.statistics.orders.indicators",r.value)).then(({data:a})=>t.value.indicators=a.result).catch(a=>console.log(a)),await axios.get(route("api.statistics.orders.indicators2",r.value)).then(({data:a})=>t.value.indicators2=a.result).catch(a=>console.log(a))};return(a,u)=>(s(),o(w,{title:"Dashboard"},{header:m(()=>[$(" Dashboard ")]),default:m(()=>[p("div",L,[p("div",M,[(s(!0),y(N,null,B(n.value.statistics,(l,h)=>(s(),o(b,{class:"text-center",title:h,description:l||"0"},null,8,["title","description"]))),256))]),C(D,{modelValue:e.value.date,"onUpdate:modelValue":[u[0]||(u[0]=l=>e.value.date=l),d]},null,8,["modelValue"]),t.value.chart?(s(),o(_,{key:0,chartData:t.value.chart},null,8,["chartData"])):c("",!0),t.value.indicators?(s(),o(v,{key:1,data:t.value.indicators},null,8,["data"])):c("",!0),t.value.table?(s(),o(g,{key:2,data:t.value.table},null,8,["data"])):c("",!0)])]),_:1}))}};export{H as default};
