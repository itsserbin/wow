import{s as r}from"./swal-950be8b9.js";import{r as h,s as c,v as x,j as u,D as a,al as f,p as s,i as n,A as g,z as w,g as k,x as b,F as C}from"./app-443dd386.js";const L=n("div",{class:"text-[24px] text-[#000] font-bold mb-5 text-center"},"Потрібна консультація?",-1),V=n("div",{class:"text-[20px] text-[#000] mb-5 text-center"}," Залиште свій номер телефону, і наш консультант вам зателефонує ",-1),y={class:"block"},N={__name:"Consultation",setup(B){const e=h({show:!1,isShow:!0,isLoading:!1,item:{name:null,phone:null,comment:null},errors:[]});setTimeout(()=>{e.value.isShow&&t()},6e4);function t(){e.value.show=!e.value.show}async function m(){e.value.isLoading=!0,await axios.post(route("api.v1.callback.create"),e.value.item).then(()=>{r({icon:"success",title:"Ваш запит надіслано!",text:"Наш оператор зателефонує Вам протягом 5 хвилин"}),e.value.item={phone:null},e.value.isLoading=!1,t()}).catch(({response:l})=>{r({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"}),e.value.errors=l.data,e.value.isLoading=!1})}return(l,i)=>{const d=a("input-component"),p=a("input-error"),v=a("modal"),_=f("maska");return e.value.show?(s(),c(v,{key:0,onCloseModal:t,size:"medium","submit-button-text":"Відправити",onSubmitForm:m,onClickCancel:t,"is-loading":e.value.isLoading},{content:x(()=>[L,V,n("div",y,[g(w(d,{placeholder:"+380",modelValue:e.value.item.phone,"onUpdate:modelValue":i[0]||(i[0]=o=>e.value.item.phone=o),type:"tel"},null,8,["modelValue"]),[[_,"+38 (0##) ###-##-##"]]),e.value.errors.phone?(s(!0),k(C,{key:0},b(e.value.errors.phone,o=>(s(),c(p,{message:o},null,8,["message"]))),256)):u("",!0)])]),_:1},8,["is-loading"])):u("",!0)}}};export{N as default};
