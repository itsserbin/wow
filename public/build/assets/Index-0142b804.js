import{L as V}from"./Loader-8bf33617.js";import{_ as x}from"./Card-ec829b36.js";import{_ as k}from"./Paginate-b71b7269.js";import $ from"./Table-2195467d.js";import D from"./StatisticLayout-99ba8621.js";import{s as P,e as w,_ as y}from"./Datepicker-5f10a97a.js";import{i as B,r as u,j as l,o as M,p as s,D as i,x as c,A as N,C as m,t as C,q as p,l as d,v as g,F as j,K as F}from"./app-f55448cf.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Table-6800669f.js";import"./AuthenticatedLayout-ecf8db9d.js";import"./index.esm-f21e1dfa.js";import"./Logo-edac3a30.js";import"./vue-i18n.esm-bundler-d070be13.js";import"./SidebarItem-eda03439.js";import"./vue-datepicker-3843f364.js";const O={key:1,class:"grid grid-cols-1 gap-4"},S={class:"grid grid-cols-2 md:grid-cols-4"},U={class:"text-center"},Z={__name:"Index",setup(b){const f=B("$can"),a=u({data:[],indicators:[],chart:null,isLoading:!0}),e=u({date:[],currentPage:1}),v=l(()=>{if(e.value.date.length===2)return{date_start:e.value.date[0].toLocaleDateString(),date_end:e.value.date[1].toLocaleDateString()}}),_=l(()=>e.value.last),h=l(()=>({...v.value,last:_.value,page:e.value.currentPage}));M(()=>{e.value.date[0]=P(new Date),e.value.date[1]=w(new Date),n()});const n=async()=>{a.value.isLoading=!0,axios.get(route("api.statistics.refunds.index",h.value)).then(({data:t})=>{a.value.data=t.result,a.value.isLoading=!1}).catch(t=>{console.log(t),a.value.isLoading=!1})};return(t,r)=>(s(),i(D,{title:"Повернення"},{header:c(()=>[N(" Повернення ")]),default:c(()=>[a.value.isLoading?(s(),i(V,{key:0})):m("",!0),!a.value.isLoading&&C(f)("show-bookkeeping-refunds")?(s(),p("div",O,[d(y,{modelValue:e.value.date,"onUpdate:modelValue":[r[0]||(r[0]=o=>e.value.date=o),n]},null,8,["modelValue"]),g("div",S,[(s(!0),p(j,null,F(a.value.indicatord,(o,L)=>(s(),i(x,{class:"text-center",title:L,description:t.$filters.formatMoney(o)},null,8,["title","description"]))),256))]),d($,{data:a.value.data.data},null,8,["data"]),g("div",U,[d(k,{pagination:a.value.data,"click-handler":n,modelValue:e.value.currentPage,"onUpdate:modelValue":r[1]||(r[1]=o=>e.value.currentPage=o)},null,8,["pagination","modelValue"])])])):m("",!0)]),_:1}))}};export{Z as default};
