import{i as f,_ as k}from"./load.0b5421db.js";import V from"./Support.fd4a4d81.js";import x from"./Consultation.af9da5dc.js";import b from"./Content.4293c373.js";import L from"./Banners.560d6362.js";import M from"./Products.fa44dfe9.js";import $ from"./Sort.155385cb.js";import F from"./Filter.b7caca32.js";import{P as C}from"./ProductsRepository.3b7ddd33.js";import I from"./Button.678af94f.js";import j from"./Breadcrumbs.45beb7af.js";import{p,f as N,q as B,m as r,w as v,Z as q,o as i,x as d,i as s,j as l,n as z,u as O,k as R}from"./vendor.1f6af4a6.js";import"./Header.6ebc2146.js";import"./vue.m.8e70aa70.js";import"./CartIcon.fe083e6a.js";import"./__commonjsHelpers__.488ed5c2.js";import"./Langs.d546e1f4.js";import"./Logo.c7a5de92.js";import"./HeaderCategories.3cfee59b.js";import"./create-element-if-not-defined.26147364.js";import"./pagination.44308c03.js";import"./lazy.2bfe2e68.js";import"./autoplay.88899761.js";import"./swiper-slide.3df0c6ab.js";import"./Footer.cbd5536b.js";import"./FixedBanner.b61bbed6.js";import"./ScrollToTop.ee29a78a.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Loader.39470ae5.js";import"./ProductCards.6f31e563.js";import"./ProductCard.679ec37d.js";import"./navigation.b481f07e.js";import"./swal.1147426a.js";import"./Input.0cfa13d3.js";import"./Accordion.23b8a919.js";import"./AccordionItem.8590e527.js";import"./index.02b5b7d6.js";import"./Breadcrumbs.3bb13552.js";const T={class:"grid grid-cols-1 gap-4"},U={class:"flex justify-between md:justify-end items-center"},Z={class:"block md:hidden mr-2"},A=R("\u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438"),D={class:"grid grid-cols-12 gap-4"},E={class:"products col-span-12 md:col-span-9"},Ft={__name:"Index",props:["banners","lang","title","characteristics","text","consultation","products","categories","category","options","pages","eventIdPageView"],setup(t){const g=t,{appContext:h}=q(),{$fbq:w}=h.config.globalProperties,e=p({products:[],isLoadingMore:!1,isShowLoadMore:!0,isShowFilter:!1}),o=p({currentPage:1,sort:null,filter:null}),y=N(()=>{const{currentPage:a,sort:n,filter:m}=o.value;return{page:a,sort:n,filter:m,slug:route().params.slug}});B(async()=>{e.value.products=g.products.data,f.value=!1;try{w("PageView",{},g.eventIdPageView)}catch(a){console.error(a)}});const P=async()=>{o.value.currentPage=0,e.value.products=[],await c()},S=async a=>{o.value.filter=a,o.value.currentPage=0,e.value.products=[],e.value.isShowFilter&&u(),await c()},c=async()=>{o.value.currentPage+=1;try{const a=await C.v1().category(y.value);a.success&&(o.value.currentPage=a.result.current_page,e.value.products=e.value.products.concat(a.result.data),e.value.isShowLoadMore=a.result.to!==a.result.total)}catch(a){console.error(a),e.value.isLoading=!1}},u=()=>{e.value.isShowFilter=!e.value.isShowFilter};return(a,n)=>(i(),r(k,{categories:t.categories,options:t.options,lang:t.lang,pages:t.pages,eventIdPageView:t.eventIdPageView},{default:v(()=>[d(j,{options:t.options,lang:t.lang,title:t.category.title[t.lang]},null,8,["options","lang","title"]),s("div",T,[t.banners.length?(i(),r(L,{key:0,lang:t.lang,data:t.banners},null,8,["lang","data"])):l("",!0),s("div",U,[s("div",Z,[d(I,{type:"button",onClick:u},{default:v(()=>[A]),_:1})]),d($,{modelValue:o.value.sort,"onUpdate:modelValue":n[0]||(n[0]=m=>o.value.sort=m),onSort:P},null,8,["modelValue"])]),s("div",D,[s("div",{class:z([{"!block fixed h-full w-full z-50 overflow-y-scroll top-0 right-0":e.value.isShowFilter},"filter hidden md:col-span-3 md:block"])},[Object.keys(t.characteristics).length?(i(),r(F,{key:0,characteristics:t.characteristics,lang:t.lang,onFetch:S,onClose:u,isShow:e.value.isShowFilter},null,8,["characteristics","lang","isShow"])):l("",!0)],2),s("div",E,[e.value.products.length?(i(),r(M,{key:0,lang:t.lang,title:t.title,data:e.value.products,isLoadingMore:e.value.isLoadingMore,isShowLoadMore:e.value.isShowLoadMore,onFetch:c},null,8,["lang","title","data","isLoadingMore","isShowLoadMore"])):l("",!0)])]),t.text?(i(),r(b,{key:1,data:t.text},null,8,["data"])):l("",!0),t.consultation?(i(),r(x,{key:2})):l("",!0),O(f)?l("",!0):(i(),r(V,{key:3}))])]),_:1},8,["categories","options","lang","pages","eventIdPageView"]))}};export{Ft as default};
