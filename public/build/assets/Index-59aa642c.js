import l from"./OptionsLayout-64f65633.js";import d from"./Form-20fcee1a.js";import{L as f}from"./Loader-ccf6e4ba.js";import{N as w,ae as _,k as x,o as y,l as e,s as n,y as g,t as i,x as v}from"./index-a01126e2.js";import{s as p}from"./swal-03cac797.js";import"./AuthenticatedLayout-704e8f94.js";import"./index.esm-02fff71f.js";import"./Logo-83ffc10f.js";import"./SidebarItem-446a46b0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Label-20131f4c.js";import"./Input-39294dfa.js";import"./Textarea-cb91500a.js";import"./Button-dd1aed97.js";import"./Logo-dda4a5dd.js";import"./Editor-fb472374.js";const c={main(){return{async index(){try{return(await axios.get(route("api.options.main.index"))).data}catch(a){throw new Error(a.response.data)}},async update(a){try{return(await axios.put(route("api.options.main.update"),a)).data}catch(s){throw new Error(s.response.data)}}}}},V={__name:"Index",setup(a){const s=w("$can"),{t:r}=_(),o=x({isLoading:!1,options:{}});y(()=>u());const u=async()=>{o.value.isLoading=!0;const t=await c.main().index();t.success&&(o.value.options=t.result),o.value.isLoading=!1},m=async()=>{o.value.isLoading=!0;const t=await c.main().update(o.value.options);t.success?await p({title:r("swal.updated"),icon:"success"}):(console.log(t),await p({title:r("swal.error"),icon:"error"})),o.value.isLoading=!1};return(t,L)=>(e(),n(l,null,{default:g(()=>[o.value.isLoading?(e(),n(f,{key:0})):i("",!0),v(s)("show-main-options")&&!o.value.isLoading?(e(),n(d,{key:1,options:o.value.options,onSubmitForm:m},null,8,["options"])):i("",!0)]),_:1}))}};export{V as default};
