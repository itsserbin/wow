{"version":3,"file":"effect-coverflow-da92c820.js","sources":["../../../node_modules/swiper/shared/effect-init.js","../../../node_modules/swiper/shared/effect-target.js","../../../node_modules/swiper/shared/create-shadow.js","../../../node_modules/swiper/modules/effect-coverflow/effect-coverflow.js"],"sourcesContent":["export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}"],"names":["effectInit","params","effect","swiper","on","setTranslate","setTransition","overwriteParams","perspective","recreateShadows","getEffectParams","overwriteParamsResult","_s","duration","slideEl","requireUpdateOnVirtual","effectTarget","effectParams","$slideEl","createShadow","side","shadowClass","$shadowContainer","$shadowEl","$","EffectCoverflow","extendParams","swiperWidth","swiperHeight","slides","slidesSizesGrid","isHorizontal","transform","center","rotate","translate","i","length","slideSize","slideOffset","centerOffset","offsetMultiplier","rotateY","rotateX","translateZ","stretch","translateY","translateX","scale","slideTransform","$shadowBeforeEl","$shadowAfterEl","transformEl"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}