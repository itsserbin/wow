import{$ as H}from"./swiper-slide-5d66ba81.js";function I(e){const{effect:i,swiper:t,on:l,setTranslate:c,setTransition:r,overwriteParams:d,perspective:h,recreateShadows:w,getEffectParams:s}=e;l("beforeInit",()=>{if(t.params.effect!==i)return;t.classNames.push(`${t.params.containerModifierClass}${i}`),h&&h()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=d?d():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),l("setTranslate",()=>{t.params.effect===i&&c()}),l("setTransition",(f,m)=>{t.params.effect===i&&r(m)}),l("transitionEnd",()=>{if(t.params.effect===i&&w){if(!s||!s().slideShadows)return;t.slides.each(f=>{t.$(f).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),w()}});let a;l("virtualUpdate",()=>{t.params.effect===i&&(t.slides.length||(a=!0),requestAnimationFrame(()=>{a&&t.slides&&t.slides.length&&(c(),a=!1)}))})}function X(e,i){return e.transformEl?i.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):i}function z(e,i,t){const l=`swiper-slide-shadow${t?`-${t}`:""}`,c=e.transformEl?i.find(e.transformEl):i;let r=c.children(`.${l}`);return r.length||(r=H(`<div class="swiper-slide-shadow${t?`-${t}`:""}"></div>`),c.append(r)),r}function A({swiper:e,extendParams:i,on:t}){i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),I({effect:"coverflow",swiper:e,on:t,setTranslate:()=>{const{width:r,height:d,slides:h,slidesSizesGrid:w}=e,s=e.params.coverflowEffect,a=e.isHorizontal(),f=e.translate,m=a?-f+r/2:-f+d/2,O=a?s.rotate:-s.rotate,C=s.depth;for(let u=0,P=h.length;u<P;u+=1){const n=h.eq(u),b=w[u],k=n[0].swiperSlideOffset,x=(m-k-b/2)/b,o=typeof s.modifier=="function"?s.modifier(x):x*s.modifier;let E=a?O*o:0,v=a?0:O*o,M=-C*Math.abs(o),p=s.stretch;typeof p=="string"&&p.indexOf("%")!==-1&&(p=parseFloat(s.stretch)/100*b);let T=a?0:p*o,y=a?p*o:0,S=1-(1-s.scale)*Math.abs(o);Math.abs(y)<.001&&(y=0),Math.abs(T)<.001&&(T=0),Math.abs(M)<.001&&(M=0),Math.abs(E)<.001&&(E=0),Math.abs(v)<.001&&(v=0),Math.abs(S)<.001&&(S=0);const q=`translate3d(${y}px,${T}px,${M}px)  rotateX(${v}deg) rotateY(${E}deg) scale(${S})`;if(X(s,n).transform(q),n[0].style.zIndex=-Math.abs(Math.round(o))+1,s.slideShadows){let g=a?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),$=a?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");g.length===0&&(g=z(s,n,a?"left":"top")),$.length===0&&($=z(s,n,a?"right":"bottom")),g.length&&(g[0].style.opacity=o>0?o:0),$.length&&($[0].style.opacity=-o>0?-o:0)}}},setTransition:r=>{const{transformEl:d}=e.params.coverflowEffect;(d?e.slides.find(d):e.slides).transition(r).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(r)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}export{A as E};
