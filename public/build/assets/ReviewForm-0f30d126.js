import{g as y,m as k,p as o,E as l,B as a,A as R,q as V,K as d,af as C,y as p,s as r,v as s,G as w,$ as N}from"./index-bc3c132c.js";import{s as x}from"./swal-846883b6.js";const S={class:"text-center"},M={class:"grid gap-4"},B={class:"block"},E={class:"block"},q={class:"block"},D={__name:"ReviewForm",props:{id:Number,textGiveReview:{type:String,default:"Залишити відгук"},textEnterName:{type:String,default:"Ваше імʼя"},textEnterReview:{type:String,default:"Ваш відгук"},textName:{type:String,default:"Імʼя"},textPhone:{type:String,default:"Телефон"},textComment:{type:String,default:"Відгук"}},setup(t){const f=t,e=y({showReviewModal:!1,review:{published:0,product_id:null,phone:null,name:null,comment:null},errors:[],isLoading:!1});function u(){e.value.showReviewModal=!e.value.showReviewModal}function h(){e.value.isLoading=!0,e.value.review.product_id=f.id,axios.post("/api/v1/reviews/create",e.value.review).then(()=>{e.value.review={phone:null,name:null,comment:null},e.value.isLoading=!1,e.value.errors=[],u(),x({icon:"success",title:"Ваш коментар надіслано!",text:"Він буде опублікований після перевірки на спам :)"})}).catch(({response:c})=>{e.value.errors=c.data,e.value.isLoading=!1,console.log(c),x({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"})})}return(c,n)=>{const b=d("button-component"),m=d("label-component"),v=d("input-component"),_=d("modal"),g=C("maska");return p(),k("div",null,[o("div",null,[o("div",S,[l(b,{type:"button",onClick:u},{default:a(()=>[r(s(t.textGiveReview),1)]),_:1})]),e.value.showReviewModal?(p(),R(_,{key:0,onClickCancel:u,onCloseModal:u,onSubmitForm:h,"submit-button-text":"Відправити","cancel-button-text":"Відмінити",size:"medium"},{heading:a(()=>[r(s(t.textGiveReview),1)]),content:a(()=>[o("div",M,[o("div",B,[l(m,{required:!0},{default:a(()=>[r(s(t.textName),1)]),_:1}),l(v,{type:"text",modelValue:e.value.review.name,"onUpdate:modelValue":n[0]||(n[0]=i=>e.value.review.name=i),placeholder:t.textEnterName},null,8,["modelValue","placeholder"])]),o("div",E,[l(m,{required:!0},{default:a(()=>[r(s(t.textPhone),1)]),_:1}),w(l(v,{type:"tel",modelValue:e.value.review.phone,"onUpdate:modelValue":n[1]||(n[1]=i=>e.value.review.phone=i),placeholder:"+38 (0",class:"phone"},null,8,["modelValue"]),[[g,"+38 (0##) ###-##-##"]])]),o("div",q,[l(m,{required:!0},{default:a(()=>[r(s(t.textComment),1)]),_:1}),w(o("textarea",{placeholder:"Введіть ваш коментар","onUpdate:modelValue":n[2]||(n[2]=i=>e.value.review.comment=i),rows:"4",class:"border-[0.5px] rounded-[10px] box-border font-[350] h-[100] mt-[0.75rem] p-[1rem] resize-none w-[100%] outline-none border-red-600 focus:border-red-600 focus:ring-red-600"},null,512),[[N,e.value.review.comment]])])])]),_:1})):V("",!0)])])}}};export{D as default};
