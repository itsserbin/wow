import f from"./Timer-1113a61a.js";import v from"./ProductCard-de490208.js";import{_ as h}from"./MasterLayout-708fe47e.js";import x from"./Head-949a494b.js";import{s as d}from"./swal-01ed9a07.js";import{m as _,r as u,o as k,p as r,q as l,l as p,v as t,B as o,C as y,F as g,K as S,D as T}from"./app-f55448cf.js";import"./Header-6bd9643f.js";import"./CartIcon-2fcb85d4.js";import"./Langs-a0e0f8ed.js";import"./Logo-edac3a30.js";import"./HeaderCategories-f7d5d684.js";import"./swiper-slide-34ecd3e2.js";import"./pagination-6ae33427.js";import"./lazy-eaa7cd7a.js";import"./autoplay-2a374956.js";import"./Footer-57c415cb.js";import"./FixedBanner-43435fe8.js";import"./ScrollToTop-e8556863.js";const I={class:"grid gap-4 grid-cols-1"},O={class:"grid grid-cols-1 gap-4"},P={class:"font-bold text-black text-center text-2xl font-heading"},b={class:"text-center text-xl font-subheading"},w={key:0,class:"text-center text-xl font-subheading"},D={key:0,class:"grid gap-4 mt-5"},B={class:"font-bold text-black text-center text-2xl font-subheading"},L={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},M={key:1,class:"order-page__text my-5"},V=_({layout:h}),Y=Object.assign(V,{__name:"Index",props:{categories:Array,options:Object,pages:Array,lang:String,eventIdPageView:String,textThanksPageTitle:{type:String,default:"Дякую за ваше замовлення :)"},textThanksPageDescription:{type:String,default:"Найближчим часом з вами зв`яжеться оператор для підтвердження замовлення."},textThanksPageOrderId:{type:String,default:"Номер вашого замовлення:"},textThanksPageSpecials:{type:String,default:"Спеціальні пропозиції. Встигни додати до замовлення"},textThanksPageSpecialsEnds:{type:String,default:"Час дії пропозиції минув. Сподіваємось, Вас зацікавлять наші акції наступного разу. Починаємо готувати посилку і незабаром відправимо Ваше замовлення"}},setup(s){const n=u({hours:"",mins:"",secs:""}),e=u({orderId:null,isLoading:!0,products:[],activeSpecialOffer:!1});k(async()=>{e.value.orderId=route().params.id,await axios.get(route("api.v1.orders.special",e.value.orderId)).then(({data:i})=>{i.result?setInterval(function(){let a=new Date(i.result.end_time).getTime()-new Date().getTime();a>=0?(n.value.hours=("0"+Math.floor(a%(1e3*60*60*24)/(1e3*60*60))).slice(-2),n.value.mins=("0"+Math.floor(a%(1e3*60*60)/(1e3*60))).slice(-2),n.value.secs=("0"+Math.floor(a%(1e3*60)/1e3)).slice(-2),e.value.activeSpecialOffer=!0,e.value.products=i.result.products,e.value.isLoading=!1):(e.value.activeSpecialOffer=!1,e.value.isLoading=!1)},1e3):(e.value.isLoading=!1,e.value.activeSpecialOffer=!1)})});const m=async(i,a)=>{await axios.post("/api/v1/order/add-item/"+e.value.orderId,{id:i,price:a}).then(async()=>await d({icon:"success",title:"Додано!",text:"Товар успішно додано до вашого замовлення"})).catch(async c=>{console.error(c),await d({icon:"error",title:"Виникла помилка",text:"Зверніться до адміністратора"})})};return(i,a)=>(r(),l(g,null,[p(x,{title:"Дякуємо за покупку!"}),t("section",I,[t("div",O,[t("h1",P,o(s.textThanksPageTitle),1),t("div",b,[t("p",null,o(s.textThanksPageDescription),1)]),e.value.orderId?(r(),l("div",w,o(s.textThanksPageOrderId)+" "+o(e.value.orderId),1)):y("",!0)]),e.value.activeSpecialOffer?(r(),l("div",D,[t("div",B,o(s.textThanksPageSpecials),1),p(f,{timer:n.value},null,8,["timer"]),t("div",L,[(r(!0),l(g,null,S(e.value.products,c=>(r(),T(v,{product:c,onAddItemToOrder:m,lang:s.lang},null,8,["product","lang"]))),256))])])):(r(),l("div",M,[t("p",null,o(s.textThanksPageSpecialsEnds),1)]))])],64))}});export{Y as default};
