{"version":3,"file":"vue-i18n.esm-bundler-39f45a4f.js","sources":["../../../node_modules/laravel-vite-plugin/inertia-helpers/index.js","../../../node_modules/nprogress/nprogress.js","../../../node_modules/@inertiajs/progress/dist/index.js","../../../node_modules/@intlify/shared/dist/shared.esm-bundler.js","../../../node_modules/@intlify/message-compiler/dist/message-compiler.esm-bundler.js","../../../node_modules/@intlify/devtools-if/dist/devtools-if.esm-bundler.js","../../../node_modules/@intlify/core-base/dist/core-base.esm-bundler.js","../../../node_modules/vue-i18n/dist/vue-i18n.esm-bundler.js"],"sourcesContent":["export async function resolvePageComponent(path, pages) {\n    const page = pages[path];\n    if (typeof page === 'undefined') {\n        throw new Error(`Page not found: ${path}`);\n    }\n    return typeof page === 'function' ? page() : page;\n}\n","/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\n;(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.NProgress = factory();\n  }\n\n})(this, function() {\n  var NProgress = {};\n\n  NProgress.version = '0.2.0';\n\n  var Settings = NProgress.settings = {\n    minimum: 0.08,\n    easing: 'ease',\n    positionUsing: '',\n    speed: 200,\n    trickle: true,\n    trickleRate: 0.02,\n    trickleSpeed: 800,\n    showSpinner: true,\n    barSelector: '[role=\"bar\"]',\n    spinnerSelector: '[role=\"spinner\"]',\n    parent: 'body',\n    template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n  };\n\n  /**\n   * Updates configuration.\n   *\n   *     NProgress.configure({\n   *       minimum: 0.1\n   *     });\n   */\n  NProgress.configure = function(options) {\n    var key, value;\n    for (key in options) {\n      value = options[key];\n      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n    }\n\n    return this;\n  };\n\n  /**\n   * Last number.\n   */\n\n  NProgress.status = null;\n\n  /**\n   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n   *\n   *     NProgress.set(0.4);\n   *     NProgress.set(1.0);\n   */\n\n  NProgress.set = function(n) {\n    var started = NProgress.isStarted();\n\n    n = clamp(n, Settings.minimum, 1);\n    NProgress.status = (n === 1 ? null : n);\n\n    var progress = NProgress.render(!started),\n        bar      = progress.querySelector(Settings.barSelector),\n        speed    = Settings.speed,\n        ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n    queue(function(next) {\n      // Set positionUsing if it hasn't already been set\n      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n      // Add transition\n      css(bar, barPositionCSS(n, speed, ease));\n\n      if (n === 1) {\n        // Fade out\n        css(progress, { \n          transition: 'none', \n          opacity: 1 \n        });\n        progress.offsetWidth; /* Repaint */\n\n        setTimeout(function() {\n          css(progress, { \n            transition: 'all ' + speed + 'ms linear', \n            opacity: 0 \n          });\n          setTimeout(function() {\n            NProgress.remove();\n            next();\n          }, speed);\n        }, speed);\n      } else {\n        setTimeout(next, speed);\n      }\n    });\n\n    return this;\n  };\n\n  NProgress.isStarted = function() {\n    return typeof NProgress.status === 'number';\n  };\n\n  /**\n   * Shows the progress bar.\n   * This is the same as setting the status to 0%, except that it doesn't go backwards.\n   *\n   *     NProgress.start();\n   *\n   */\n  NProgress.start = function() {\n    if (!NProgress.status) NProgress.set(0);\n\n    var work = function() {\n      setTimeout(function() {\n        if (!NProgress.status) return;\n        NProgress.trickle();\n        work();\n      }, Settings.trickleSpeed);\n    };\n\n    if (Settings.trickle) work();\n\n    return this;\n  };\n\n  /**\n   * Hides the progress bar.\n   * This is the *sort of* the same as setting the status to 100%, with the\n   * difference being `done()` makes some placebo effect of some realistic motion.\n   *\n   *     NProgress.done();\n   *\n   * If `true` is passed, it will show the progress bar even if its hidden.\n   *\n   *     NProgress.done(true);\n   */\n\n  NProgress.done = function(force) {\n    if (!force && !NProgress.status) return this;\n\n    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n  };\n\n  /**\n   * Increments by a random amount.\n   */\n\n  NProgress.inc = function(amount) {\n    var n = NProgress.status;\n\n    if (!n) {\n      return NProgress.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);\n      }\n\n      n = clamp(n + amount, 0, 0.994);\n      return NProgress.set(n);\n    }\n  };\n\n  NProgress.trickle = function() {\n    return NProgress.inc(Math.random() * Settings.trickleRate);\n  };\n\n  /**\n   * Waits for all supplied jQuery promises and\n   * increases the progress as the promises resolve.\n   *\n   * @param $promise jQUery Promise\n   */\n  (function() {\n    var initial = 0, current = 0;\n\n    NProgress.promise = function($promise) {\n      if (!$promise || $promise.state() === \"resolved\") {\n        return this;\n      }\n\n      if (current === 0) {\n        NProgress.start();\n      }\n\n      initial++;\n      current++;\n\n      $promise.always(function() {\n        current--;\n        if (current === 0) {\n            initial = 0;\n            NProgress.done();\n        } else {\n            NProgress.set((initial - current) / initial);\n        }\n      });\n\n      return this;\n    };\n\n  })();\n\n  /**\n   * (Internal) renders the progress bar markup based on the `template`\n   * setting.\n   */\n\n  NProgress.render = function(fromStart) {\n    if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n    addClass(document.documentElement, 'nprogress-busy');\n    \n    var progress = document.createElement('div');\n    progress.id = 'nprogress';\n    progress.innerHTML = Settings.template;\n\n    var bar      = progress.querySelector(Settings.barSelector),\n        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent   = document.querySelector(Settings.parent),\n        spinner;\n    \n    css(bar, {\n      transition: 'all 0 linear',\n      transform: 'translate3d(' + perc + '%,0,0)'\n    });\n\n    if (!Settings.showSpinner) {\n      spinner = progress.querySelector(Settings.spinnerSelector);\n      spinner && removeElement(spinner);\n    }\n\n    if (parent != document.body) {\n      addClass(parent, 'nprogress-custom-parent');\n    }\n\n    parent.appendChild(progress);\n    return progress;\n  };\n\n  /**\n   * Removes the element. Opposite of render().\n   */\n\n  NProgress.remove = function() {\n    removeClass(document.documentElement, 'nprogress-busy');\n    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent');\n    var progress = document.getElementById('nprogress');\n    progress && removeElement(progress);\n  };\n\n  /**\n   * Checks if the progress bar is rendered.\n   */\n\n  NProgress.isRendered = function() {\n    return !!document.getElementById('nprogress');\n  };\n\n  /**\n   * Determine which positioning CSS rule to use.\n   */\n\n  NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n    var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n                       ('MozTransform' in bodyStyle) ? 'Moz' :\n                       ('msTransform' in bodyStyle) ? 'ms' :\n                       ('OTransform' in bodyStyle) ? 'O' : '';\n\n    if (vendorPrefix + 'Perspective' in bodyStyle) {\n      // Modern browsers with 3D support, e.g. Webkit, IE10\n      return 'translate3d';\n    } else if (vendorPrefix + 'Transform' in bodyStyle) {\n      // Browsers without 3D support, e.g. IE9\n      return 'translate';\n    } else {\n      // Browsers without translate() support, e.g. IE7-8\n      return 'margin';\n    }\n  };\n\n  /**\n   * Helpers\n   */\n\n  function clamp(n, min, max) {\n    if (n < min) return min;\n    if (n > max) return max;\n    return n;\n  }\n\n  /**\n   * (Internal) converts a percentage (`0..1`) to a bar translateX\n   * percentage (`-100%..0%`).\n   */\n\n  function toBarPerc(n) {\n    return (-1 + n) * 100;\n  }\n\n\n  /**\n   * (Internal) returns the correct CSS for changing the bar's\n   * position given an n percentage, and speed and ease from Settings\n   */\n\n  function barPositionCSS(n, speed, ease) {\n    var barCSS;\n\n    if (Settings.positionUsing === 'translate3d') {\n      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n    } else if (Settings.positionUsing === 'translate') {\n      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n    } else {\n      barCSS = { 'margin-left': toBarPerc(n)+'%' };\n    }\n\n    barCSS.transition = 'all '+speed+'ms '+ease;\n\n    return barCSS;\n  }\n\n  /**\n   * (Internal) Queues a function to be executed.\n   */\n\n  var queue = (function() {\n    var pending = [];\n    \n    function next() {\n      var fn = pending.shift();\n      if (fn) {\n        fn(next);\n      }\n    }\n\n    return function(fn) {\n      pending.push(fn);\n      if (pending.length == 1) next();\n    };\n  })();\n\n  /**\n   * (Internal) Applies css properties to an element, similar to the jQuery \n   * css method.\n   *\n   * While this helper does assist with vendor prefixed property names, it \n   * does not perform any manipulation of values prior to setting styles.\n   */\n\n  var css = (function() {\n    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n    function camelCase(string) {\n      return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n        return letter.toUpperCase();\n      });\n    }\n\n    function getVendorProp(name) {\n      var style = document.body.style;\n      if (name in style) return name;\n\n      var i = cssPrefixes.length,\n          capName = name.charAt(0).toUpperCase() + name.slice(1),\n          vendorName;\n      while (i--) {\n        vendorName = cssPrefixes[i] + capName;\n        if (vendorName in style) return vendorName;\n      }\n\n      return name;\n    }\n\n    function getStyleProp(name) {\n      name = camelCase(name);\n      return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n      prop = getStyleProp(prop);\n      element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n      var args = arguments,\n          prop, \n          value;\n\n      if (args.length == 2) {\n        for (prop in properties) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n      } else {\n        applyCss(element, args[1], args[2]);\n      }\n    }\n  })();\n\n  /**\n   * (Internal) Determines if an element or space separated list of class names contains a class name.\n   */\n\n  function hasClass(element, name) {\n    var list = typeof element == 'string' ? element : classList(element);\n    return list.indexOf(' ' + name + ' ') >= 0;\n  }\n\n  /**\n   * (Internal) Adds a class to an element.\n   */\n\n  function addClass(element, name) {\n    var oldList = classList(element),\n        newList = oldList + name;\n\n    if (hasClass(oldList, name)) return; \n\n    // Trim the opening space.\n    element.className = newList.substring(1);\n  }\n\n  /**\n   * (Internal) Removes a class from an element.\n   */\n\n  function removeClass(element, name) {\n    var oldList = classList(element),\n        newList;\n\n    if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n    newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n    element.className = newList.substring(1, newList.length - 1);\n  }\n\n  /**\n   * (Internal) Gets a space separated list of the class names on the element. \n   * The list is wrapped with a single space on each end to facilitate finding \n   * matches within the list.\n   */\n\n  function classList(element) {\n    return (' ' + (element.className || '') + ' ').replace(/\\s+/gi, ' ');\n  }\n\n  /**\n   * (Internal) Removes an element from the DOM.\n   */\n\n  function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n  }\n\n  return NProgress;\n});\n\n","var n,e=(n=require(\"nprogress\"))&&\"object\"==typeof n&&\"default\"in n?n.default:n,t=null;function r(n){document.addEventListener(\"inertia:start\",o.bind(null,n)),document.addEventListener(\"inertia:progress\",i),document.addEventListener(\"inertia:finish\",s)}function o(n){t=setTimeout(function(){return e.start()},n)}function i(n){e.isStarted()&&n.detail.progress.percentage&&e.set(Math.max(e.status,n.detail.progress.percentage/100*.9))}function s(n){clearTimeout(t),e.isStarted()&&(n.detail.visit.completed?e.done():n.detail.visit.interrupted?e.set(0):n.detail.visit.cancelled&&(e.done(),e.remove()))}exports.InertiaProgress={init:function(n){var t=void 0===n?{}:n,o=t.delay,i=t.color,s=void 0===i?\"#29d\":i,a=t.includeCSS,p=void 0===a||a,d=t.showSpinner,l=void 0!==d&&d;r(void 0===o?250:o),e.configure({showSpinner:l}),p&&function(n){var e=document.createElement(\"style\");e.type=\"text/css\",e.textContent=\"\\n    #nprogress {\\n      pointer-events: none;\\n    }\\n\\n    #nprogress .bar {\\n      background: \"+n+\";\\n\\n      position: fixed;\\n      z-index: 1031;\\n      top: 0;\\n      left: 0;\\n\\n      width: 100%;\\n      height: 2px;\\n    }\\n\\n    #nprogress .peg {\\n      display: block;\\n      position: absolute;\\n      right: 0px;\\n      width: 100px;\\n      height: 100%;\\n      box-shadow: 0 0 10px \"+n+\", 0 0 5px \"+n+\";\\n      opacity: 1.0;\\n\\n      -webkit-transform: rotate(3deg) translate(0px, -4px);\\n          -ms-transform: rotate(3deg) translate(0px, -4px);\\n              transform: rotate(3deg) translate(0px, -4px);\\n    }\\n\\n    #nprogress .spinner {\\n      display: block;\\n      position: fixed;\\n      z-index: 1031;\\n      top: 15px;\\n      right: 15px;\\n    }\\n\\n    #nprogress .spinner-icon {\\n      width: 18px;\\n      height: 18px;\\n      box-sizing: border-box;\\n\\n      border: solid 2px transparent;\\n      border-top-color: \"+n+\";\\n      border-left-color: \"+n+\";\\n      border-radius: 50%;\\n\\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\\n              animation: nprogress-spinner 400ms linear infinite;\\n    }\\n\\n    .nprogress-custom-parent {\\n      overflow: hidden;\\n      position: relative;\\n    }\\n\\n    .nprogress-custom-parent #nprogress .spinner,\\n    .nprogress-custom-parent #nprogress .bar {\\n      position: absolute;\\n    }\\n\\n    @-webkit-keyframes nprogress-spinner {\\n      0%   { -webkit-transform: rotate(0deg); }\\n      100% { -webkit-transform: rotate(360deg); }\\n    }\\n    @keyframes nprogress-spinner {\\n      0%   { transform: rotate(0deg); }\\n      100% { transform: rotate(360deg); }\\n    }\\n  \",document.head.appendChild(e)}(s)}};\n//# sourceMappingURL=index.js.map\n","/*!\n  * shared v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n/**\r\n * Original Utilities\r\n * written by kazuya kawaguchi\r\n */\r\nconst inBrowser = typeof window !== 'undefined';\r\nlet mark;\r\nlet measure;\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    const perf = inBrowser && window.performance;\r\n    if (perf &&\r\n        perf.mark &&\r\n        perf.measure &&\r\n        perf.clearMarks &&\r\n        perf.clearMeasures) {\r\n        mark = (tag) => perf.mark(tag);\r\n        measure = (name, startTag, endTag) => {\r\n            perf.measure(name, startTag, endTag);\r\n            perf.clearMarks(startTag);\r\n            perf.clearMarks(endTag);\r\n        };\r\n    }\r\n}\r\nconst RE_ARGS = /\\{([0-9a-zA-Z]+)\\}/g;\r\n/* eslint-disable */\r\nfunction format(message, ...args) {\r\n    if (args.length === 1 && isObject(args[0])) {\r\n        args = args[0];\r\n    }\r\n    if (!args || !args.hasOwnProperty) {\r\n        args = {};\r\n    }\r\n    return message.replace(RE_ARGS, (match, identifier) => {\r\n        return args.hasOwnProperty(identifier) ? args[identifier] : '';\r\n    });\r\n}\r\nconst hasSymbol = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\r\nconst makeSymbol = (name) => hasSymbol ? Symbol(name) : name;\r\nconst generateFormatCacheKey = (locale, key, source) => friendlyJSONstringify({ l: locale, k: key, s: source });\r\nconst friendlyJSONstringify = (json) => JSON.stringify(json)\r\n    .replace(/\\u2028/g, '\\\\u2028')\r\n    .replace(/\\u2029/g, '\\\\u2029')\r\n    .replace(/\\u0027/g, '\\\\u0027');\r\nconst isNumber = (val) => typeof val === 'number' && isFinite(val);\r\nconst isDate = (val) => toTypeString(val) === '[object Date]';\r\nconst isRegExp = (val) => toTypeString(val) === '[object RegExp]';\r\nconst isEmptyObject = (val) => isPlainObject(val) && Object.keys(val).length === 0;\r\nfunction warn(msg, err) {\r\n    if (typeof console !== 'undefined') {\r\n        console.warn(`[intlify] ` + msg);\r\n        /* istanbul ignore if */\r\n        if (err) {\r\n            console.warn(err.stack);\r\n        }\r\n    }\r\n}\r\nconst assign = Object.assign;\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    // prettier-ignore\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\r\nfunction escapeHtml(rawText) {\r\n    return rawText\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&apos;');\r\n}\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nfunction hasOwn(obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n}\r\n/* eslint-enable */\r\n/**\r\n * Useful Utilities By Evan you\r\n * Modified by kazuya kawaguchi\r\n * MIT License\r\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/index.ts\r\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/codeframe.ts\r\n */\r\nconst isArray = Array.isArray;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isBoolean = (val) => typeof val === 'boolean';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => // eslint-disable-line\r\n val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\n// for converting list and named values to displayed strings.\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isArray(val) || (isPlainObject(val) && val.toString === objectToString)\r\n            ? JSON.stringify(val, null, 2)\r\n            : String(val);\r\n};\r\nconst RANGE = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    const lines = source.split(/\\r?\\n/);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - RANGE; j <= i + RANGE || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(3 - String(line).length)}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - lineLength) + 1;\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * Event emitter, forked from the below:\r\n * - original repository url: https://github.com/developit/mitt\r\n * - code url: https://github.com/developit/mitt/blob/master/src/index.ts\r\n * - author: Jason Miller (https://github.com/developit)\r\n * - license: MIT\r\n */\r\n/**\r\n * Create a event emitter\r\n *\r\n * @returns An event emitter\r\n */\r\nfunction createEmitter() {\r\n    const events = new Map();\r\n    const emitter = {\r\n        events,\r\n        on(event, handler) {\r\n            const handlers = events.get(event);\r\n            const added = handlers && handlers.push(handler);\r\n            if (!added) {\r\n                events.set(event, [handler]);\r\n            }\r\n        },\r\n        off(event, handler) {\r\n            const handlers = events.get(event);\r\n            if (handlers) {\r\n                handlers.splice(handlers.indexOf(handler) >>> 0, 1);\r\n            }\r\n        },\r\n        emit(event, payload) {\r\n            (events.get(event) || [])\r\n                .slice()\r\n                .map(handler => handler(payload));\r\n            (events.get('*') || [])\r\n                .slice()\r\n                .map(handler => handler(event, payload));\r\n        }\r\n    };\r\n    return emitter;\r\n}\n\nexport { assign, createEmitter, escapeHtml, format, friendlyJSONstringify, generateCodeFrame, generateFormatCacheKey, getGlobalThis, hasOwn, inBrowser, isArray, isBoolean, isDate, isEmptyObject, isFunction, isNumber, isObject, isPlainObject, isPromise, isRegExp, isString, isSymbol, makeSymbol, mark, measure, objectToString, toDisplayString, toTypeString, warn };\n","/*!\n  * message-compiler v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { format, assign, isString } from '@intlify/shared';\n\nconst CompileErrorCodes = {\r\n    // tokenizer error codes\r\n    EXPECTED_TOKEN: 1,\r\n    INVALID_TOKEN_IN_PLACEHOLDER: 2,\r\n    UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER: 3,\r\n    UNKNOWN_ESCAPE_SEQUENCE: 4,\r\n    INVALID_UNICODE_ESCAPE_SEQUENCE: 5,\r\n    UNBALANCED_CLOSING_BRACE: 6,\r\n    UNTERMINATED_CLOSING_BRACE: 7,\r\n    EMPTY_PLACEHOLDER: 8,\r\n    NOT_ALLOW_NEST_PLACEHOLDER: 9,\r\n    INVALID_LINKED_FORMAT: 10,\r\n    // parser error codes\r\n    MUST_HAVE_MESSAGES_IN_PLURAL: 11,\r\n    UNEXPECTED_EMPTY_LINKED_MODIFIER: 12,\r\n    UNEXPECTED_EMPTY_LINKED_KEY: 13,\r\n    UNEXPECTED_LEXICAL_ANALYSIS: 14,\r\n    // Special value for higher-order compilers to pick up the last code\r\n    // to avoid collision of error codes. This should always be kept as the last\r\n    // item.\r\n    __EXTEND_POINT__: 15\r\n};\r\n/** @internal */\r\nconst errorMessages = {\r\n    // tokenizer error messages\r\n    [CompileErrorCodes.EXPECTED_TOKEN]: `Expected token: '{0}'`,\r\n    [CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]: `Invalid token in placeholder: '{0}'`,\r\n    [CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]: `Unterminated single quote in placeholder`,\r\n    [CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]: `Unknown escape sequence: \\\\{0}`,\r\n    [CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]: `Invalid unicode escape sequence: {0}`,\r\n    [CompileErrorCodes.UNBALANCED_CLOSING_BRACE]: `Unbalanced closing brace`,\r\n    [CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]: `Unterminated closing brace`,\r\n    [CompileErrorCodes.EMPTY_PLACEHOLDER]: `Empty placeholder`,\r\n    [CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]: `Not allowed nest placeholder`,\r\n    [CompileErrorCodes.INVALID_LINKED_FORMAT]: `Invalid linked format`,\r\n    // parser error messages\r\n    [CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]: `Plural must have messages`,\r\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]: `Unexpected empty linked modifier`,\r\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]: `Unexpected empty linked key`,\r\n    [CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]: `Unexpected lexical analysis in token: '{0}'`\r\n};\r\nfunction createCompileError(code, loc, options = {}) {\r\n    const { domain, messages, args } = options;\r\n    const msg = (process.env.NODE_ENV !== 'production')\r\n        ? format((messages || errorMessages)[code] || '', ...(args || []))\r\n        : code;\r\n    const error = new SyntaxError(String(msg));\r\n    error.code = code;\r\n    if (loc) {\r\n        error.location = loc;\r\n    }\r\n    error.domain = domain;\r\n    return error;\r\n}\r\n/** @internal */\r\nfunction defaultOnError(error) {\r\n    throw error;\r\n}\n\nconst LocationStub = {\r\n    start: { line: 1, column: 1, offset: 0 },\r\n    end: { line: 1, column: 1, offset: 0 }\r\n};\r\nfunction createPosition(line, column, offset) {\r\n    return { line, column, offset };\r\n}\r\nfunction createLocation(start, end, source) {\r\n    const loc = { start, end };\r\n    if (source != null) {\r\n        loc.source = source;\r\n    }\r\n    return loc;\r\n}\n\nconst CHAR_SP = ' ';\r\nconst CHAR_CR = '\\r';\r\nconst CHAR_LF = '\\n';\r\nconst CHAR_LS = String.fromCharCode(0x2028);\r\nconst CHAR_PS = String.fromCharCode(0x2029);\r\nfunction createScanner(str) {\r\n    const _buf = str;\r\n    let _index = 0;\r\n    let _line = 1;\r\n    let _column = 1;\r\n    let _peekOffset = 0;\r\n    const isCRLF = (index) => _buf[index] === CHAR_CR && _buf[index + 1] === CHAR_LF;\r\n    const isLF = (index) => _buf[index] === CHAR_LF;\r\n    const isPS = (index) => _buf[index] === CHAR_PS;\r\n    const isLS = (index) => _buf[index] === CHAR_LS;\r\n    const isLineEnd = (index) => isCRLF(index) || isLF(index) || isPS(index) || isLS(index);\r\n    const index = () => _index;\r\n    const line = () => _line;\r\n    const column = () => _column;\r\n    const peekOffset = () => _peekOffset;\r\n    const charAt = (offset) => isCRLF(offset) || isPS(offset) || isLS(offset) ? CHAR_LF : _buf[offset];\r\n    const currentChar = () => charAt(_index);\r\n    const currentPeek = () => charAt(_index + _peekOffset);\r\n    function next() {\r\n        _peekOffset = 0;\r\n        if (isLineEnd(_index)) {\r\n            _line++;\r\n            _column = 0;\r\n        }\r\n        if (isCRLF(_index)) {\r\n            _index++;\r\n        }\r\n        _index++;\r\n        _column++;\r\n        return _buf[_index];\r\n    }\r\n    function peek() {\r\n        if (isCRLF(_index + _peekOffset)) {\r\n            _peekOffset++;\r\n        }\r\n        _peekOffset++;\r\n        return _buf[_index + _peekOffset];\r\n    }\r\n    function reset() {\r\n        _index = 0;\r\n        _line = 1;\r\n        _column = 1;\r\n        _peekOffset = 0;\r\n    }\r\n    function resetPeek(offset = 0) {\r\n        _peekOffset = offset;\r\n    }\r\n    function skipToPeek() {\r\n        const target = _index + _peekOffset;\r\n        // eslint-disable-next-line no-unmodified-loop-condition\r\n        while (target !== _index) {\r\n            next();\r\n        }\r\n        _peekOffset = 0;\r\n    }\r\n    return {\r\n        index,\r\n        line,\r\n        column,\r\n        peekOffset,\r\n        charAt,\r\n        currentChar,\r\n        currentPeek,\r\n        next,\r\n        peek,\r\n        reset,\r\n        resetPeek,\r\n        skipToPeek\r\n    };\r\n}\n\nconst EOF = undefined;\r\nconst LITERAL_DELIMITER = \"'\";\r\nconst ERROR_DOMAIN$1 = 'tokenizer';\r\nfunction createTokenizer(source, options = {}) {\r\n    const location = options.location !== false;\r\n    const _scnr = createScanner(source);\r\n    const currentOffset = () => _scnr.index();\r\n    const currentPosition = () => createPosition(_scnr.line(), _scnr.column(), _scnr.index());\r\n    const _initLoc = currentPosition();\r\n    const _initOffset = currentOffset();\r\n    const _context = {\r\n        currentType: 14 /* EOF */,\r\n        offset: _initOffset,\r\n        startLoc: _initLoc,\r\n        endLoc: _initLoc,\r\n        lastType: 14 /* EOF */,\r\n        lastOffset: _initOffset,\r\n        lastStartLoc: _initLoc,\r\n        lastEndLoc: _initLoc,\r\n        braceNest: 0,\r\n        inLinked: false,\r\n        text: ''\r\n    };\r\n    const context = () => _context;\r\n    const { onError } = options;\r\n    function emitError(code, pos, offset, ...args) {\r\n        const ctx = context();\r\n        pos.column += offset;\r\n        pos.offset += offset;\r\n        if (onError) {\r\n            const loc = createLocation(ctx.startLoc, pos);\r\n            const err = createCompileError(code, loc, {\r\n                domain: ERROR_DOMAIN$1,\r\n                args\r\n            });\r\n            onError(err);\r\n        }\r\n    }\r\n    function getToken(context, type, value) {\r\n        context.endLoc = currentPosition();\r\n        context.currentType = type;\r\n        const token = { type };\r\n        if (location) {\r\n            token.loc = createLocation(context.startLoc, context.endLoc);\r\n        }\r\n        if (value != null) {\r\n            token.value = value;\r\n        }\r\n        return token;\r\n    }\r\n    const getEndToken = (context) => getToken(context, 14 /* EOF */);\r\n    function eat(scnr, ch) {\r\n        if (scnr.currentChar() === ch) {\r\n            scnr.next();\r\n            return ch;\r\n        }\r\n        else {\r\n            emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);\r\n            return '';\r\n        }\r\n    }\r\n    function peekSpaces(scnr) {\r\n        let buf = '';\r\n        while (scnr.currentPeek() === CHAR_SP || scnr.currentPeek() === CHAR_LF) {\r\n            buf += scnr.currentPeek();\r\n            scnr.peek();\r\n        }\r\n        return buf;\r\n    }\r\n    function skipSpaces(scnr) {\r\n        const buf = peekSpaces(scnr);\r\n        scnr.skipToPeek();\r\n        return buf;\r\n    }\r\n    function isIdentifierStart(ch) {\r\n        if (ch === EOF) {\r\n            return false;\r\n        }\r\n        const cc = ch.charCodeAt(0);\r\n        return ((cc >= 97 && cc <= 122) || // a-z\r\n            (cc >= 65 && cc <= 90) || // A-Z\r\n            cc === 95 // _\r\n        );\r\n    }\r\n    function isNumberStart(ch) {\r\n        if (ch === EOF) {\r\n            return false;\r\n        }\r\n        const cc = ch.charCodeAt(0);\r\n        return cc >= 48 && cc <= 57; // 0-9\r\n    }\r\n    function isNamedIdentifierStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 2 /* BraceLeft */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = isIdentifierStart(scnr.currentPeek());\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isListIdentifierStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 2 /* BraceLeft */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ch = scnr.currentPeek() === '-' ? scnr.peek() : scnr.currentPeek();\r\n        const ret = isNumberStart(ch);\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLiteralStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 2 /* BraceLeft */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === LITERAL_DELIMITER;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedDotStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 8 /* LinkedAlias */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \".\" /* LinkedDot */;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedModifierStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 9 /* LinkedDot */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = isIdentifierStart(scnr.currentPeek());\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedDelimiterStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (!(currentType === 8 /* LinkedAlias */ ||\r\n            currentType === 12 /* LinkedModifier */)) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \":\" /* LinkedDelimiter */;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedReferStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 10 /* LinkedDelimiter */) {\r\n            return false;\r\n        }\r\n        const fn = () => {\r\n            const ch = scnr.currentPeek();\r\n            if (ch === \"{\" /* BraceLeft */) {\r\n                return isIdentifierStart(scnr.peek());\r\n            }\r\n            else if (ch === \"@\" /* LinkedAlias */ ||\r\n                ch === \"%\" /* Modulo */ ||\r\n                ch === \"|\" /* Pipe */ ||\r\n                ch === \":\" /* LinkedDelimiter */ ||\r\n                ch === \".\" /* LinkedDot */ ||\r\n                ch === CHAR_SP ||\r\n                !ch) {\r\n                return false;\r\n            }\r\n            else if (ch === CHAR_LF) {\r\n                scnr.peek();\r\n                return fn();\r\n            }\r\n            else {\r\n                // other characters\r\n                return isIdentifierStart(ch);\r\n            }\r\n        };\r\n        const ret = fn();\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isPluralStart(scnr) {\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \"|\" /* Pipe */;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function detectModuloStart(scnr) {\r\n        const spaces = peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \"%\" /* Modulo */ &&\r\n            scnr.peek() === \"{\" /* BraceLeft */;\r\n        scnr.resetPeek();\r\n        return {\r\n            isModulo: ret,\r\n            hasSpace: spaces.length > 0\r\n        };\r\n    }\r\n    function isTextStart(scnr, reset = true) {\r\n        const fn = (hasSpace = false, prev = '', detectModulo = false) => {\r\n            const ch = scnr.currentPeek();\r\n            if (ch === \"{\" /* BraceLeft */) {\r\n                return prev === \"%\" /* Modulo */ ? false : hasSpace;\r\n            }\r\n            else if (ch === \"@\" /* LinkedAlias */ || !ch) {\r\n                return prev === \"%\" /* Modulo */ ? true : hasSpace;\r\n            }\r\n            else if (ch === \"%\" /* Modulo */) {\r\n                scnr.peek();\r\n                return fn(hasSpace, \"%\" /* Modulo */, true);\r\n            }\r\n            else if (ch === \"|\" /* Pipe */) {\r\n                return prev === \"%\" /* Modulo */ || detectModulo\r\n                    ? true\r\n                    : !(prev === CHAR_SP || prev === CHAR_LF);\r\n            }\r\n            else if (ch === CHAR_SP) {\r\n                scnr.peek();\r\n                return fn(true, CHAR_SP, detectModulo);\r\n            }\r\n            else if (ch === CHAR_LF) {\r\n                scnr.peek();\r\n                return fn(true, CHAR_LF, detectModulo);\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        };\r\n        const ret = fn();\r\n        reset && scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function takeChar(scnr, fn) {\r\n        const ch = scnr.currentChar();\r\n        if (ch === EOF) {\r\n            return EOF;\r\n        }\r\n        if (fn(ch)) {\r\n            scnr.next();\r\n            return ch;\r\n        }\r\n        return null;\r\n    }\r\n    function takeIdentifierChar(scnr) {\r\n        const closure = (ch) => {\r\n            const cc = ch.charCodeAt(0);\r\n            return ((cc >= 97 && cc <= 122) || // a-z\r\n                (cc >= 65 && cc <= 90) || // A-Z\r\n                (cc >= 48 && cc <= 57) || // 0-9\r\n                cc === 95 || // _\r\n                cc === 36 // $\r\n            );\r\n        };\r\n        return takeChar(scnr, closure);\r\n    }\r\n    function takeDigit(scnr) {\r\n        const closure = (ch) => {\r\n            const cc = ch.charCodeAt(0);\r\n            return cc >= 48 && cc <= 57; // 0-9\r\n        };\r\n        return takeChar(scnr, closure);\r\n    }\r\n    function takeHexDigit(scnr) {\r\n        const closure = (ch) => {\r\n            const cc = ch.charCodeAt(0);\r\n            return ((cc >= 48 && cc <= 57) || // 0-9\r\n                (cc >= 65 && cc <= 70) || // A-F\r\n                (cc >= 97 && cc <= 102)); // a-f\r\n        };\r\n        return takeChar(scnr, closure);\r\n    }\r\n    function getDigits(scnr) {\r\n        let ch = '';\r\n        let num = '';\r\n        while ((ch = takeDigit(scnr))) {\r\n            num += ch;\r\n        }\r\n        return num;\r\n    }\r\n    function readModulo(scnr) {\r\n        skipSpaces(scnr);\r\n        const ch = scnr.currentChar();\r\n        if (ch !== \"%\" /* Modulo */) {\r\n            emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);\r\n        }\r\n        scnr.next();\r\n        return \"%\" /* Modulo */;\r\n    }\r\n    function readText(scnr) {\r\n        let buf = '';\r\n        while (true) {\r\n            const ch = scnr.currentChar();\r\n            if (ch === \"{\" /* BraceLeft */ ||\r\n                ch === \"}\" /* BraceRight */ ||\r\n                ch === \"@\" /* LinkedAlias */ ||\r\n                ch === \"|\" /* Pipe */ ||\r\n                !ch) {\r\n                break;\r\n            }\r\n            else if (ch === \"%\" /* Modulo */) {\r\n                if (isTextStart(scnr)) {\r\n                    buf += ch;\r\n                    scnr.next();\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            else if (ch === CHAR_SP || ch === CHAR_LF) {\r\n                if (isTextStart(scnr)) {\r\n                    buf += ch;\r\n                    scnr.next();\r\n                }\r\n                else if (isPluralStart(scnr)) {\r\n                    break;\r\n                }\r\n                else {\r\n                    buf += ch;\r\n                    scnr.next();\r\n                }\r\n            }\r\n            else {\r\n                buf += ch;\r\n                scnr.next();\r\n            }\r\n        }\r\n        return buf;\r\n    }\r\n    function readNamedIdentifier(scnr) {\r\n        skipSpaces(scnr);\r\n        let ch = '';\r\n        let name = '';\r\n        while ((ch = takeIdentifierChar(scnr))) {\r\n            name += ch;\r\n        }\r\n        if (scnr.currentChar() === EOF) {\r\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n        }\r\n        return name;\r\n    }\r\n    function readListIdentifier(scnr) {\r\n        skipSpaces(scnr);\r\n        let value = '';\r\n        if (scnr.currentChar() === '-') {\r\n            scnr.next();\r\n            value += `-${getDigits(scnr)}`;\r\n        }\r\n        else {\r\n            value += getDigits(scnr);\r\n        }\r\n        if (scnr.currentChar() === EOF) {\r\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n        }\r\n        return value;\r\n    }\r\n    function readLiteral(scnr) {\r\n        skipSpaces(scnr);\r\n        eat(scnr, `\\'`);\r\n        let ch = '';\r\n        let literal = '';\r\n        const fn = (x) => x !== LITERAL_DELIMITER && x !== CHAR_LF;\r\n        while ((ch = takeChar(scnr, fn))) {\r\n            if (ch === '\\\\') {\r\n                literal += readEscapeSequence(scnr);\r\n            }\r\n            else {\r\n                literal += ch;\r\n            }\r\n        }\r\n        const current = scnr.currentChar();\r\n        if (current === CHAR_LF || current === EOF) {\r\n            emitError(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER, currentPosition(), 0);\r\n            // TODO: Is it correct really?\r\n            if (current === CHAR_LF) {\r\n                scnr.next();\r\n                eat(scnr, `\\'`);\r\n            }\r\n            return literal;\r\n        }\r\n        eat(scnr, `\\'`);\r\n        return literal;\r\n    }\r\n    function readEscapeSequence(scnr) {\r\n        const ch = scnr.currentChar();\r\n        switch (ch) {\r\n            case '\\\\':\r\n            case `\\'`:\r\n                scnr.next();\r\n                return `\\\\${ch}`;\r\n            case 'u':\r\n                return readUnicodeEscapeSequence(scnr, ch, 4);\r\n            case 'U':\r\n                return readUnicodeEscapeSequence(scnr, ch, 6);\r\n            default:\r\n                emitError(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE, currentPosition(), 0, ch);\r\n                return '';\r\n        }\r\n    }\r\n    function readUnicodeEscapeSequence(scnr, unicode, digits) {\r\n        eat(scnr, unicode);\r\n        let sequence = '';\r\n        for (let i = 0; i < digits; i++) {\r\n            const ch = takeHexDigit(scnr);\r\n            if (!ch) {\r\n                emitError(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE, currentPosition(), 0, `\\\\${unicode}${sequence}${scnr.currentChar()}`);\r\n                break;\r\n            }\r\n            sequence += ch;\r\n        }\r\n        return `\\\\${unicode}${sequence}`;\r\n    }\r\n    function readInvalidIdentifier(scnr) {\r\n        skipSpaces(scnr);\r\n        let ch = '';\r\n        let identifiers = '';\r\n        const closure = (ch) => ch !== \"{\" /* BraceLeft */ &&\r\n            ch !== \"}\" /* BraceRight */ &&\r\n            ch !== CHAR_SP &&\r\n            ch !== CHAR_LF;\r\n        while ((ch = takeChar(scnr, closure))) {\r\n            identifiers += ch;\r\n        }\r\n        return identifiers;\r\n    }\r\n    function readLinkedModifier(scnr) {\r\n        let ch = '';\r\n        let name = '';\r\n        while ((ch = takeIdentifierChar(scnr))) {\r\n            name += ch;\r\n        }\r\n        return name;\r\n    }\r\n    function readLinkedRefer(scnr) {\r\n        const fn = (detect = false, buf) => {\r\n            const ch = scnr.currentChar();\r\n            if (ch === \"{\" /* BraceLeft */ ||\r\n                ch === \"%\" /* Modulo */ ||\r\n                ch === \"@\" /* LinkedAlias */ ||\r\n                ch === \"|\" /* Pipe */ ||\r\n                !ch) {\r\n                return buf;\r\n            }\r\n            else if (ch === CHAR_SP) {\r\n                return buf;\r\n            }\r\n            else if (ch === CHAR_LF) {\r\n                buf += ch;\r\n                scnr.next();\r\n                return fn(detect, buf);\r\n            }\r\n            else {\r\n                buf += ch;\r\n                scnr.next();\r\n                return fn(true, buf);\r\n            }\r\n        };\r\n        return fn(false, '');\r\n    }\r\n    function readPlural(scnr) {\r\n        skipSpaces(scnr);\r\n        const plural = eat(scnr, \"|\" /* Pipe */);\r\n        skipSpaces(scnr);\r\n        return plural;\r\n    }\r\n    // TODO: We need refactoring of token parsing ...\r\n    function readTokenInPlaceholder(scnr, context) {\r\n        let token = null;\r\n        const ch = scnr.currentChar();\r\n        switch (ch) {\r\n            case \"{\" /* BraceLeft */:\r\n                if (context.braceNest >= 1) {\r\n                    emitError(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER, currentPosition(), 0);\r\n                }\r\n                scnr.next();\r\n                token = getToken(context, 2 /* BraceLeft */, \"{\" /* BraceLeft */);\r\n                skipSpaces(scnr);\r\n                context.braceNest++;\r\n                return token;\r\n            case \"}\" /* BraceRight */:\r\n                if (context.braceNest > 0 &&\r\n                    context.currentType === 2 /* BraceLeft */) {\r\n                    emitError(CompileErrorCodes.EMPTY_PLACEHOLDER, currentPosition(), 0);\r\n                }\r\n                scnr.next();\r\n                token = getToken(context, 3 /* BraceRight */, \"}\" /* BraceRight */);\r\n                context.braceNest--;\r\n                context.braceNest > 0 && skipSpaces(scnr);\r\n                if (context.inLinked && context.braceNest === 0) {\r\n                    context.inLinked = false;\r\n                }\r\n                return token;\r\n            case \"@\" /* LinkedAlias */:\r\n                if (context.braceNest > 0) {\r\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n                }\r\n                token = readTokenInLinked(scnr, context) || getEndToken(context);\r\n                context.braceNest = 0;\r\n                return token;\r\n            default:\r\n                let validNamedIdentifier = true;\r\n                let validListIdentifier = true;\r\n                let validLiteral = true;\r\n                if (isPluralStart(scnr)) {\r\n                    if (context.braceNest > 0) {\r\n                        emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n                    }\r\n                    token = getToken(context, 1 /* Pipe */, readPlural(scnr));\r\n                    // reset\r\n                    context.braceNest = 0;\r\n                    context.inLinked = false;\r\n                    return token;\r\n                }\r\n                if (context.braceNest > 0 &&\r\n                    (context.currentType === 5 /* Named */ ||\r\n                        context.currentType === 6 /* List */ ||\r\n                        context.currentType === 7 /* Literal */)) {\r\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n                    context.braceNest = 0;\r\n                    return readToken(scnr, context);\r\n                }\r\n                if ((validNamedIdentifier = isNamedIdentifierStart(scnr, context))) {\r\n                    token = getToken(context, 5 /* Named */, readNamedIdentifier(scnr));\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                if ((validListIdentifier = isListIdentifierStart(scnr, context))) {\r\n                    token = getToken(context, 6 /* List */, readListIdentifier(scnr));\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                if ((validLiteral = isLiteralStart(scnr, context))) {\r\n                    token = getToken(context, 7 /* Literal */, readLiteral(scnr));\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                if (!validNamedIdentifier && !validListIdentifier && !validLiteral) {\r\n                    // TODO: we should be re-designed invalid cases, when we will extend message syntax near the future ...\r\n                    token = getToken(context, 13 /* InvalidPlace */, readInvalidIdentifier(scnr));\r\n                    emitError(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER, currentPosition(), 0, token.value);\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                break;\r\n        }\r\n        return token;\r\n    }\r\n    // TODO: We need refactoring of token parsing ...\r\n    function readTokenInLinked(scnr, context) {\r\n        const { currentType } = context;\r\n        let token = null;\r\n        const ch = scnr.currentChar();\r\n        if ((currentType === 8 /* LinkedAlias */ ||\r\n            currentType === 9 /* LinkedDot */ ||\r\n            currentType === 12 /* LinkedModifier */ ||\r\n            currentType === 10 /* LinkedDelimiter */) &&\r\n            (ch === CHAR_LF || ch === CHAR_SP)) {\r\n            emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\r\n        }\r\n        switch (ch) {\r\n            case \"@\" /* LinkedAlias */:\r\n                scnr.next();\r\n                token = getToken(context, 8 /* LinkedAlias */, \"@\" /* LinkedAlias */);\r\n                context.inLinked = true;\r\n                return token;\r\n            case \".\" /* LinkedDot */:\r\n                skipSpaces(scnr);\r\n                scnr.next();\r\n                return getToken(context, 9 /* LinkedDot */, \".\" /* LinkedDot */);\r\n            case \":\" /* LinkedDelimiter */:\r\n                skipSpaces(scnr);\r\n                scnr.next();\r\n                return getToken(context, 10 /* LinkedDelimiter */, \":\" /* LinkedDelimiter */);\r\n            default:\r\n                if (isPluralStart(scnr)) {\r\n                    token = getToken(context, 1 /* Pipe */, readPlural(scnr));\r\n                    // reset\r\n                    context.braceNest = 0;\r\n                    context.inLinked = false;\r\n                    return token;\r\n                }\r\n                if (isLinkedDotStart(scnr, context) ||\r\n                    isLinkedDelimiterStart(scnr, context)) {\r\n                    skipSpaces(scnr);\r\n                    return readTokenInLinked(scnr, context);\r\n                }\r\n                if (isLinkedModifierStart(scnr, context)) {\r\n                    skipSpaces(scnr);\r\n                    return getToken(context, 12 /* LinkedModifier */, readLinkedModifier(scnr));\r\n                }\r\n                if (isLinkedReferStart(scnr, context)) {\r\n                    skipSpaces(scnr);\r\n                    if (ch === \"{\" /* BraceLeft */) {\r\n                        // scan the placeholder\r\n                        return readTokenInPlaceholder(scnr, context) || token;\r\n                    }\r\n                    else {\r\n                        return getToken(context, 11 /* LinkedKey */, readLinkedRefer(scnr));\r\n                    }\r\n                }\r\n                if (currentType === 8 /* LinkedAlias */) {\r\n                    emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\r\n                }\r\n                context.braceNest = 0;\r\n                context.inLinked = false;\r\n                return readToken(scnr, context);\r\n        }\r\n    }\r\n    // TODO: We need refactoring of token parsing ...\r\n    function readToken(scnr, context) {\r\n        let token = { type: 14 /* EOF */ };\r\n        if (context.braceNest > 0) {\r\n            return readTokenInPlaceholder(scnr, context) || getEndToken(context);\r\n        }\r\n        if (context.inLinked) {\r\n            return readTokenInLinked(scnr, context) || getEndToken(context);\r\n        }\r\n        const ch = scnr.currentChar();\r\n        switch (ch) {\r\n            case \"{\" /* BraceLeft */:\r\n                return readTokenInPlaceholder(scnr, context) || getEndToken(context);\r\n            case \"}\" /* BraceRight */:\r\n                emitError(CompileErrorCodes.UNBALANCED_CLOSING_BRACE, currentPosition(), 0);\r\n                scnr.next();\r\n                return getToken(context, 3 /* BraceRight */, \"}\" /* BraceRight */);\r\n            case \"@\" /* LinkedAlias */:\r\n                return readTokenInLinked(scnr, context) || getEndToken(context);\r\n            default:\r\n                if (isPluralStart(scnr)) {\r\n                    token = getToken(context, 1 /* Pipe */, readPlural(scnr));\r\n                    // reset\r\n                    context.braceNest = 0;\r\n                    context.inLinked = false;\r\n                    return token;\r\n                }\r\n                const { isModulo, hasSpace } = detectModuloStart(scnr);\r\n                if (isModulo) {\r\n                    return hasSpace\r\n                        ? getToken(context, 0 /* Text */, readText(scnr))\r\n                        : getToken(context, 4 /* Modulo */, readModulo(scnr));\r\n                }\r\n                if (isTextStart(scnr)) {\r\n                    return getToken(context, 0 /* Text */, readText(scnr));\r\n                }\r\n                break;\r\n        }\r\n        return token;\r\n    }\r\n    function nextToken() {\r\n        const { currentType, offset, startLoc, endLoc } = _context;\r\n        _context.lastType = currentType;\r\n        _context.lastOffset = offset;\r\n        _context.lastStartLoc = startLoc;\r\n        _context.lastEndLoc = endLoc;\r\n        _context.offset = currentOffset();\r\n        _context.startLoc = currentPosition();\r\n        if (_scnr.currentChar() === EOF) {\r\n            return getToken(_context, 14 /* EOF */);\r\n        }\r\n        return readToken(_scnr, _context);\r\n    }\r\n    return {\r\n        nextToken,\r\n        currentOffset,\r\n        currentPosition,\r\n        context\r\n    };\r\n}\n\nconst ERROR_DOMAIN = 'parser';\r\n// Backslash backslash, backslash quote, uHHHH, UHHHHHH.\r\nconst KNOWN_ESCAPES = /(?:\\\\\\\\|\\\\'|\\\\u([0-9a-fA-F]{4})|\\\\U([0-9a-fA-F]{6}))/g;\r\nfunction fromEscapeSequence(match, codePoint4, codePoint6) {\r\n    switch (match) {\r\n        case `\\\\\\\\`:\r\n            return `\\\\`;\r\n        case `\\\\\\'`:\r\n            return `\\'`;\r\n        default: {\r\n            const codePoint = parseInt(codePoint4 || codePoint6, 16);\r\n            if (codePoint <= 0xd7ff || codePoint >= 0xe000) {\r\n                return String.fromCodePoint(codePoint);\r\n            }\r\n            // invalid ...\r\n            // Replace them with U+FFFD REPLACEMENT CHARACTER.\r\n            return '';\r\n        }\r\n    }\r\n}\r\nfunction createParser(options = {}) {\r\n    const location = options.location !== false;\r\n    const { onError } = options;\r\n    function emitError(tokenzer, code, start, offset, ...args) {\r\n        const end = tokenzer.currentPosition();\r\n        end.offset += offset;\r\n        end.column += offset;\r\n        if (onError) {\r\n            const loc = createLocation(start, end);\r\n            const err = createCompileError(code, loc, {\r\n                domain: ERROR_DOMAIN,\r\n                args\r\n            });\r\n            onError(err);\r\n        }\r\n    }\r\n    function startNode(type, offset, loc) {\r\n        const node = {\r\n            type,\r\n            start: offset,\r\n            end: offset\r\n        };\r\n        if (location) {\r\n            node.loc = { start: loc, end: loc };\r\n        }\r\n        return node;\r\n    }\r\n    function endNode(node, offset, pos, type) {\r\n        node.end = offset;\r\n        if (type) {\r\n            node.type = type;\r\n        }\r\n        if (location && node.loc) {\r\n            node.loc.end = pos;\r\n        }\r\n    }\r\n    function parseText(tokenizer, value) {\r\n        const context = tokenizer.context();\r\n        const node = startNode(3 /* Text */, context.offset, context.startLoc);\r\n        node.value = value;\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseList(tokenizer, index) {\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\r\n        const node = startNode(5 /* List */, offset, loc);\r\n        node.index = parseInt(index, 10);\r\n        tokenizer.nextToken(); // skip brach right\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseNamed(tokenizer, key) {\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\r\n        const node = startNode(4 /* Named */, offset, loc);\r\n        node.key = key;\r\n        tokenizer.nextToken(); // skip brach right\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseLiteral(tokenizer, value) {\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\r\n        const node = startNode(9 /* Literal */, offset, loc);\r\n        node.value = value.replace(KNOWN_ESCAPES, fromEscapeSequence);\r\n        tokenizer.nextToken(); // skip brach right\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseLinkedModifier(tokenizer) {\r\n        const token = tokenizer.nextToken();\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get linked dot loc\r\n        const node = startNode(8 /* LinkedModifier */, offset, loc);\r\n        if (token.type !== 12 /* LinkedModifier */) {\r\n            // empty modifier\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER, context.lastStartLoc, 0);\r\n            node.value = '';\r\n            endNode(node, offset, loc);\r\n            return {\r\n                nextConsumeToken: token,\r\n                node\r\n            };\r\n        }\r\n        // check token\r\n        if (token.value == null) {\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n        }\r\n        node.value = token.value || '';\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return {\r\n            node\r\n        };\r\n    }\r\n    function parseLinkedKey(tokenizer, value) {\r\n        const context = tokenizer.context();\r\n        const node = startNode(7 /* LinkedKey */, context.offset, context.startLoc);\r\n        node.value = value;\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseLinked(tokenizer) {\r\n        const context = tokenizer.context();\r\n        const linkedNode = startNode(6 /* Linked */, context.offset, context.startLoc);\r\n        let token = tokenizer.nextToken();\r\n        if (token.type === 9 /* LinkedDot */) {\r\n            const parsed = parseLinkedModifier(tokenizer);\r\n            linkedNode.modifier = parsed.node;\r\n            token = parsed.nextConsumeToken || tokenizer.nextToken();\r\n        }\r\n        // asset check token\r\n        if (token.type !== 10 /* LinkedDelimiter */) {\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n        }\r\n        token = tokenizer.nextToken();\r\n        // skip brace left\r\n        if (token.type === 2 /* BraceLeft */) {\r\n            token = tokenizer.nextToken();\r\n        }\r\n        switch (token.type) {\r\n            case 11 /* LinkedKey */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseLinkedKey(tokenizer, token.value || '');\r\n                break;\r\n            case 5 /* Named */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseNamed(tokenizer, token.value || '');\r\n                break;\r\n            case 6 /* List */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseList(tokenizer, token.value || '');\r\n                break;\r\n            case 7 /* Literal */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseLiteral(tokenizer, token.value || '');\r\n                break;\r\n            default:\r\n                // empty key\r\n                emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY, context.lastStartLoc, 0);\r\n                const nextContext = tokenizer.context();\r\n                const emptyLinkedKeyNode = startNode(7 /* LinkedKey */, nextContext.offset, nextContext.startLoc);\r\n                emptyLinkedKeyNode.value = '';\r\n                endNode(emptyLinkedKeyNode, nextContext.offset, nextContext.startLoc);\r\n                linkedNode.key = emptyLinkedKeyNode;\r\n                endNode(linkedNode, nextContext.offset, nextContext.startLoc);\r\n                return {\r\n                    nextConsumeToken: token,\r\n                    node: linkedNode\r\n                };\r\n        }\r\n        endNode(linkedNode, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return {\r\n            node: linkedNode\r\n        };\r\n    }\r\n    function parseMessage(tokenizer) {\r\n        const context = tokenizer.context();\r\n        const startOffset = context.currentType === 1 /* Pipe */\r\n            ? tokenizer.currentOffset()\r\n            : context.offset;\r\n        const startLoc = context.currentType === 1 /* Pipe */\r\n            ? context.endLoc\r\n            : context.startLoc;\r\n        const node = startNode(2 /* Message */, startOffset, startLoc);\r\n        node.items = [];\r\n        let nextToken = null;\r\n        do {\r\n            const token = nextToken || tokenizer.nextToken();\r\n            nextToken = null;\r\n            switch (token.type) {\r\n                case 0 /* Text */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseText(tokenizer, token.value || ''));\r\n                    break;\r\n                case 6 /* List */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseList(tokenizer, token.value || ''));\r\n                    break;\r\n                case 5 /* Named */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseNamed(tokenizer, token.value || ''));\r\n                    break;\r\n                case 7 /* Literal */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseLiteral(tokenizer, token.value || ''));\r\n                    break;\r\n                case 8 /* LinkedAlias */:\r\n                    const parsed = parseLinked(tokenizer);\r\n                    node.items.push(parsed.node);\r\n                    nextToken = parsed.nextConsumeToken || null;\r\n                    break;\r\n            }\r\n        } while (context.currentType !== 14 /* EOF */ &&\r\n            context.currentType !== 1 /* Pipe */);\r\n        // adjust message node loc\r\n        const endOffset = context.currentType === 1 /* Pipe */\r\n            ? context.lastOffset\r\n            : tokenizer.currentOffset();\r\n        const endLoc = context.currentType === 1 /* Pipe */\r\n            ? context.lastEndLoc\r\n            : tokenizer.currentPosition();\r\n        endNode(node, endOffset, endLoc);\r\n        return node;\r\n    }\r\n    function parsePlural(tokenizer, offset, loc, msgNode) {\r\n        const context = tokenizer.context();\r\n        let hasEmptyMessage = msgNode.items.length === 0;\r\n        const node = startNode(1 /* Plural */, offset, loc);\r\n        node.cases = [];\r\n        node.cases.push(msgNode);\r\n        do {\r\n            const msg = parseMessage(tokenizer);\r\n            if (!hasEmptyMessage) {\r\n                hasEmptyMessage = msg.items.length === 0;\r\n            }\r\n            node.cases.push(msg);\r\n        } while (context.currentType !== 14 /* EOF */);\r\n        if (hasEmptyMessage) {\r\n            emitError(tokenizer, CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL, loc, 0);\r\n        }\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseResource(tokenizer) {\r\n        const context = tokenizer.context();\r\n        const { offset, startLoc } = context;\r\n        const msgNode = parseMessage(tokenizer);\r\n        if (context.currentType === 14 /* EOF */) {\r\n            return msgNode;\r\n        }\r\n        else {\r\n            return parsePlural(tokenizer, offset, startLoc, msgNode);\r\n        }\r\n    }\r\n    function parse(source) {\r\n        const tokenizer = createTokenizer(source, assign({}, options));\r\n        const context = tokenizer.context();\r\n        const node = startNode(0 /* Resource */, context.offset, context.startLoc);\r\n        if (location && node.loc) {\r\n            node.loc.source = source;\r\n        }\r\n        node.body = parseResource(tokenizer);\r\n        // assert whether achieved to EOF\r\n        if (context.currentType !== 14 /* EOF */) {\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, source[context.offset] || '');\r\n        }\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    return { parse };\r\n}\r\nfunction getTokenCaption(token) {\r\n    if (token.type === 14 /* EOF */) {\r\n        return 'EOF';\r\n    }\r\n    const name = (token.value || '').replace(/\\r?\\n/gu, '\\\\n');\r\n    return name.length > 10 ? name.slice(0, 9) + '' : name;\r\n}\n\nfunction createTransformer(ast, options = {} // eslint-disable-line\r\n) {\r\n    const _context = {\r\n        ast,\r\n        helpers: new Set()\r\n    };\r\n    const context = () => _context;\r\n    const helper = (name) => {\r\n        _context.helpers.add(name);\r\n        return name;\r\n    };\r\n    return { context, helper };\r\n}\r\nfunction traverseNodes(nodes, transformer) {\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        traverseNode(nodes[i], transformer);\r\n    }\r\n}\r\nfunction traverseNode(node, transformer) {\r\n    // TODO: if we need pre-hook of transform, should be implemented to here\r\n    switch (node.type) {\r\n        case 1 /* Plural */:\r\n            traverseNodes(node.cases, transformer);\r\n            transformer.helper(\"plural\" /* PLURAL */);\r\n            break;\r\n        case 2 /* Message */:\r\n            traverseNodes(node.items, transformer);\r\n            break;\r\n        case 6 /* Linked */:\r\n            const linked = node;\r\n            traverseNode(linked.key, transformer);\r\n            transformer.helper(\"linked\" /* LINKED */);\r\n            transformer.helper(\"type\" /* TYPE */);\r\n            break;\r\n        case 5 /* List */:\r\n            transformer.helper(\"interpolate\" /* INTERPOLATE */);\r\n            transformer.helper(\"list\" /* LIST */);\r\n            break;\r\n        case 4 /* Named */:\r\n            transformer.helper(\"interpolate\" /* INTERPOLATE */);\r\n            transformer.helper(\"named\" /* NAMED */);\r\n            break;\r\n    }\r\n    // TODO: if we need post-hook of transform, should be implemented to here\r\n}\r\n// transform AST\r\nfunction transform(ast, options = {} // eslint-disable-line\r\n) {\r\n    const transformer = createTransformer(ast);\r\n    transformer.helper(\"normalize\" /* NORMALIZE */);\r\n    // traverse\r\n    ast.body && traverseNode(ast.body, transformer);\r\n    // set meta information\r\n    const context = transformer.context();\r\n    ast.helpers = Array.from(context.helpers);\r\n}\n\nfunction createCodeGenerator(ast, options) {\r\n    const { sourceMap, filename, breakLineCode, needIndent: _needIndent } = options;\r\n    const _context = {\r\n        source: ast.loc.source,\r\n        filename,\r\n        code: '',\r\n        column: 1,\r\n        line: 1,\r\n        offset: 0,\r\n        map: undefined,\r\n        breakLineCode,\r\n        needIndent: _needIndent,\r\n        indentLevel: 0\r\n    };\r\n    const context = () => _context;\r\n    function push(code, node) {\r\n        _context.code += code;\r\n    }\r\n    function _newline(n, withBreakLine = true) {\r\n        const _breakLineCode = withBreakLine ? breakLineCode : '';\r\n        push(_needIndent ? _breakLineCode + `  `.repeat(n) : _breakLineCode);\r\n    }\r\n    function indent(withNewLine = true) {\r\n        const level = ++_context.indentLevel;\r\n        withNewLine && _newline(level);\r\n    }\r\n    function deindent(withNewLine = true) {\r\n        const level = --_context.indentLevel;\r\n        withNewLine && _newline(level);\r\n    }\r\n    function newline() {\r\n        _newline(_context.indentLevel);\r\n    }\r\n    const helper = (key) => `_${key}`;\r\n    const needIndent = () => _context.needIndent;\r\n    return {\r\n        context,\r\n        push,\r\n        indent,\r\n        deindent,\r\n        newline,\r\n        helper,\r\n        needIndent\r\n    };\r\n}\r\nfunction generateLinkedNode(generator, node) {\r\n    const { helper } = generator;\r\n    generator.push(`${helper(\"linked\" /* LINKED */)}(`);\r\n    generateNode(generator, node.key);\r\n    if (node.modifier) {\r\n        generator.push(`, `);\r\n        generateNode(generator, node.modifier);\r\n        generator.push(`, _type`);\r\n    }\r\n    else {\r\n        generator.push(`, undefined, _type`);\r\n    }\r\n    generator.push(`)`);\r\n}\r\nfunction generateMessageNode(generator, node) {\r\n    const { helper, needIndent } = generator;\r\n    generator.push(`${helper(\"normalize\" /* NORMALIZE */)}([`);\r\n    generator.indent(needIndent());\r\n    const length = node.items.length;\r\n    for (let i = 0; i < length; i++) {\r\n        generateNode(generator, node.items[i]);\r\n        if (i === length - 1) {\r\n            break;\r\n        }\r\n        generator.push(', ');\r\n    }\r\n    generator.deindent(needIndent());\r\n    generator.push('])');\r\n}\r\nfunction generatePluralNode(generator, node) {\r\n    const { helper, needIndent } = generator;\r\n    if (node.cases.length > 1) {\r\n        generator.push(`${helper(\"plural\" /* PLURAL */)}([`);\r\n        generator.indent(needIndent());\r\n        const length = node.cases.length;\r\n        for (let i = 0; i < length; i++) {\r\n            generateNode(generator, node.cases[i]);\r\n            if (i === length - 1) {\r\n                break;\r\n            }\r\n            generator.push(', ');\r\n        }\r\n        generator.deindent(needIndent());\r\n        generator.push(`])`);\r\n    }\r\n}\r\nfunction generateResource(generator, node) {\r\n    if (node.body) {\r\n        generateNode(generator, node.body);\r\n    }\r\n    else {\r\n        generator.push('null');\r\n    }\r\n}\r\nfunction generateNode(generator, node) {\r\n    const { helper } = generator;\r\n    switch (node.type) {\r\n        case 0 /* Resource */:\r\n            generateResource(generator, node);\r\n            break;\r\n        case 1 /* Plural */:\r\n            generatePluralNode(generator, node);\r\n            break;\r\n        case 2 /* Message */:\r\n            generateMessageNode(generator, node);\r\n            break;\r\n        case 6 /* Linked */:\r\n            generateLinkedNode(generator, node);\r\n            break;\r\n        case 8 /* LinkedModifier */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        case 7 /* LinkedKey */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        case 5 /* List */:\r\n            generator.push(`${helper(\"interpolate\" /* INTERPOLATE */)}(${helper(\"list\" /* LIST */)}(${node.index}))`, node);\r\n            break;\r\n        case 4 /* Named */:\r\n            generator.push(`${helper(\"interpolate\" /* INTERPOLATE */)}(${helper(\"named\" /* NAMED */)}(${JSON.stringify(node.key)}))`, node);\r\n            break;\r\n        case 9 /* Literal */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        case 3 /* Text */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        default:\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                throw new Error(`unhandled codegen node type: ${node.type}`);\r\n            }\r\n    }\r\n}\r\n// generate code from AST\r\nconst generate = (ast, options = {} // eslint-disable-line\r\n) => {\r\n    const mode = isString(options.mode) ? options.mode : 'normal';\r\n    const filename = isString(options.filename)\r\n        ? options.filename\r\n        : 'message.intl';\r\n    const sourceMap = !!options.sourceMap;\r\n    // prettier-ignore\r\n    const breakLineCode = options.breakLineCode != null\r\n        ? options.breakLineCode\r\n        : mode === 'arrow'\r\n            ? ';'\r\n            : '\\n';\r\n    const needIndent = options.needIndent ? options.needIndent : mode !== 'arrow';\r\n    const helpers = ast.helpers || [];\r\n    const generator = createCodeGenerator(ast, {\r\n        mode,\r\n        filename,\r\n        sourceMap,\r\n        breakLineCode,\r\n        needIndent\r\n    });\r\n    generator.push(mode === 'normal' ? `function __msg__ (ctx) {` : `(ctx) => {`);\r\n    generator.indent(needIndent);\r\n    if (helpers.length > 0) {\r\n        generator.push(`const { ${helpers.map(s => `${s}: _${s}`).join(', ')} } = ctx`);\r\n        generator.newline();\r\n    }\r\n    generator.push(`return `);\r\n    generateNode(generator, ast);\r\n    generator.deindent(needIndent);\r\n    generator.push(`}`);\r\n    const { code, map } = generator.context();\r\n    return {\r\n        ast,\r\n        code,\r\n        map: map ? map.toJSON() : undefined // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    };\r\n};\n\nfunction baseCompile(source, options = {}) {\r\n    const assignedOptions = assign({}, options);\r\n    // parse source codes\r\n    const parser = createParser(assignedOptions);\r\n    const ast = parser.parse(source);\r\n    // transform ASTs\r\n    transform(ast, assignedOptions);\r\n    // generate javascript codes\r\n    return generate(ast, assignedOptions);\r\n}\n\nexport { CompileErrorCodes, ERROR_DOMAIN, LocationStub, baseCompile, createCompileError, createLocation, createParser, createPosition, defaultOnError, errorMessages };\n","/*!\n  * devtools-if v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nconst IntlifyDevToolsHooks =  {\r\n    I18nInit: 'i18n:init',\r\n    FunctionTranslate: 'function:translate'\r\n};\n\nexport { IntlifyDevToolsHooks };\n","/*!\n  * core-base v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { isObject, isString, isFunction, isNumber, isPlainObject, toDisplayString, isArray, format, isBoolean, assign, isRegExp, warn, escapeHtml, inBrowser, mark, measure, isEmptyObject, generateCodeFrame, generateFormatCacheKey, isDate, getGlobalThis } from '@intlify/shared';\nimport { defaultOnError, baseCompile, CompileErrorCodes, createCompileError } from '@intlify/message-compiler';\nexport { CompileErrorCodes, createCompileError } from '@intlify/message-compiler';\nimport { IntlifyDevToolsHooks } from '@intlify/devtools-if';\n\nconst pathStateMachine =  [];\r\npathStateMachine[0 /* BEFORE_PATH */] = {\r\n    [\"w\" /* WORKSPACE */]: [0 /* BEFORE_PATH */],\r\n    [\"i\" /* IDENT */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"[\" /* LEFT_BRACKET */]: [4 /* IN_SUB_PATH */],\r\n    [\"o\" /* END_OF_FAIL */]: [7 /* AFTER_PATH */]\r\n};\r\npathStateMachine[1 /* IN_PATH */] = {\r\n    [\"w\" /* WORKSPACE */]: [1 /* IN_PATH */],\r\n    [\".\" /* DOT */]: [2 /* BEFORE_IDENT */],\r\n    [\"[\" /* LEFT_BRACKET */]: [4 /* IN_SUB_PATH */],\r\n    [\"o\" /* END_OF_FAIL */]: [7 /* AFTER_PATH */]\r\n};\r\npathStateMachine[2 /* BEFORE_IDENT */] = {\r\n    [\"w\" /* WORKSPACE */]: [2 /* BEFORE_IDENT */],\r\n    [\"i\" /* IDENT */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"0\" /* ZERO */]: [3 /* IN_IDENT */, 0 /* APPEND */]\r\n};\r\npathStateMachine[3 /* IN_IDENT */] = {\r\n    [\"i\" /* IDENT */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"0\" /* ZERO */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"w\" /* WORKSPACE */]: [1 /* IN_PATH */, 1 /* PUSH */],\r\n    [\".\" /* DOT */]: [2 /* BEFORE_IDENT */, 1 /* PUSH */],\r\n    [\"[\" /* LEFT_BRACKET */]: [4 /* IN_SUB_PATH */, 1 /* PUSH */],\r\n    [\"o\" /* END_OF_FAIL */]: [7 /* AFTER_PATH */, 1 /* PUSH */]\r\n};\r\npathStateMachine[4 /* IN_SUB_PATH */] = {\r\n    [\"'\" /* SINGLE_QUOTE */]: [5 /* IN_SINGLE_QUOTE */, 0 /* APPEND */],\r\n    [\"\\\"\" /* DOUBLE_QUOTE */]: [6 /* IN_DOUBLE_QUOTE */, 0 /* APPEND */],\r\n    [\"[\" /* LEFT_BRACKET */]: [\r\n        4 /* IN_SUB_PATH */,\r\n        2 /* INC_SUB_PATH_DEPTH */\r\n    ],\r\n    [\"]\" /* RIGHT_BRACKET */]: [1 /* IN_PATH */, 3 /* PUSH_SUB_PATH */],\r\n    [\"o\" /* END_OF_FAIL */]: 8 /* ERROR */,\r\n    [\"l\" /* ELSE */]: [4 /* IN_SUB_PATH */, 0 /* APPEND */]\r\n};\r\npathStateMachine[5 /* IN_SINGLE_QUOTE */] = {\r\n    [\"'\" /* SINGLE_QUOTE */]: [4 /* IN_SUB_PATH */, 0 /* APPEND */],\r\n    [\"o\" /* END_OF_FAIL */]: 8 /* ERROR */,\r\n    [\"l\" /* ELSE */]: [5 /* IN_SINGLE_QUOTE */, 0 /* APPEND */]\r\n};\r\npathStateMachine[6 /* IN_DOUBLE_QUOTE */] = {\r\n    [\"\\\"\" /* DOUBLE_QUOTE */]: [4 /* IN_SUB_PATH */, 0 /* APPEND */],\r\n    [\"o\" /* END_OF_FAIL */]: 8 /* ERROR */,\r\n    [\"l\" /* ELSE */]: [6 /* IN_DOUBLE_QUOTE */, 0 /* APPEND */]\r\n};\r\n/**\r\n * Check if an expression is a literal value.\r\n */\r\nconst literalValueRE = /^\\s?(?:true|false|-?[\\d.]+|'[^']*'|\"[^\"]*\")\\s?$/;\r\nfunction isLiteral(exp) {\r\n    return literalValueRE.test(exp);\r\n}\r\n/**\r\n * Strip quotes from a string\r\n */\r\nfunction stripQuotes(str) {\r\n    const a = str.charCodeAt(0);\r\n    const b = str.charCodeAt(str.length - 1);\r\n    return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\r\n}\r\n/**\r\n * Determine the type of a character in a keypath.\r\n */\r\nfunction getPathCharType(ch) {\r\n    if (ch === undefined || ch === null) {\r\n        return \"o\" /* END_OF_FAIL */;\r\n    }\r\n    const code = ch.charCodeAt(0);\r\n    switch (code) {\r\n        case 0x5b: // [\r\n        case 0x5d: // ]\r\n        case 0x2e: // .\r\n        case 0x22: // \"\r\n        case 0x27: // '\r\n            return ch;\r\n        case 0x5f: // _\r\n        case 0x24: // $\r\n        case 0x2d: // -\r\n            return \"i\" /* IDENT */;\r\n        case 0x09: // Tab (HT)\r\n        case 0x0a: // Newline (LF)\r\n        case 0x0d: // Return (CR)\r\n        case 0xa0: // No-break space (NBSP)\r\n        case 0xfeff: // Byte Order Mark (BOM)\r\n        case 0x2028: // Line Separator (LS)\r\n        case 0x2029: // Paragraph Separator (PS)\r\n            return \"w\" /* WORKSPACE */;\r\n    }\r\n    return \"i\" /* IDENT */;\r\n}\r\n/**\r\n * Format a subPath, return its plain form if it is\r\n * a literal string or number. Otherwise prepend the\r\n * dynamic indicator (*).\r\n */\r\nfunction formatSubPath(path) {\r\n    const trimmed = path.trim();\r\n    // invalid leading 0\r\n    if (path.charAt(0) === '0' && isNaN(parseInt(path))) {\r\n        return false;\r\n    }\r\n    return isLiteral(trimmed)\r\n        ? stripQuotes(trimmed)\r\n        : \"*\" /* ASTARISK */ + trimmed;\r\n}\r\n/**\r\n * Parse a string path into an array of segments\r\n */\r\nfunction parse(path) {\r\n    const keys = [];\r\n    let index = -1;\r\n    let mode = 0 /* BEFORE_PATH */;\r\n    let subPathDepth = 0;\r\n    let c;\r\n    let key; // eslint-disable-line\r\n    let newChar;\r\n    let type;\r\n    let transition;\r\n    let action;\r\n    let typeMap;\r\n    const actions = [];\r\n    actions[0 /* APPEND */] = () => {\r\n        if (key === undefined) {\r\n            key = newChar;\r\n        }\r\n        else {\r\n            key += newChar;\r\n        }\r\n    };\r\n    actions[1 /* PUSH */] = () => {\r\n        if (key !== undefined) {\r\n            keys.push(key);\r\n            key = undefined;\r\n        }\r\n    };\r\n    actions[2 /* INC_SUB_PATH_DEPTH */] = () => {\r\n        actions[0 /* APPEND */]();\r\n        subPathDepth++;\r\n    };\r\n    actions[3 /* PUSH_SUB_PATH */] = () => {\r\n        if (subPathDepth > 0) {\r\n            subPathDepth--;\r\n            mode = 4 /* IN_SUB_PATH */;\r\n            actions[0 /* APPEND */]();\r\n        }\r\n        else {\r\n            subPathDepth = 0;\r\n            if (key === undefined) {\r\n                return false;\r\n            }\r\n            key = formatSubPath(key);\r\n            if (key === false) {\r\n                return false;\r\n            }\r\n            else {\r\n                actions[1 /* PUSH */]();\r\n            }\r\n        }\r\n    };\r\n    function maybeUnescapeQuote() {\r\n        const nextChar = path[index + 1];\r\n        if ((mode === 5 /* IN_SINGLE_QUOTE */ &&\r\n            nextChar === \"'\" /* SINGLE_QUOTE */) ||\r\n            (mode === 6 /* IN_DOUBLE_QUOTE */ &&\r\n                nextChar === \"\\\"\" /* DOUBLE_QUOTE */)) {\r\n            index++;\r\n            newChar = '\\\\' + nextChar;\r\n            actions[0 /* APPEND */]();\r\n            return true;\r\n        }\r\n    }\r\n    while (mode !== null) {\r\n        index++;\r\n        c = path[index];\r\n        if (c === '\\\\' && maybeUnescapeQuote()) {\r\n            continue;\r\n        }\r\n        type = getPathCharType(c);\r\n        typeMap = pathStateMachine[mode];\r\n        transition = typeMap[type] || typeMap[\"l\" /* ELSE */] || 8 /* ERROR */;\r\n        // check parse error\r\n        if (transition === 8 /* ERROR */) {\r\n            return;\r\n        }\r\n        mode = transition[0];\r\n        if (transition[1] !== undefined) {\r\n            action = actions[transition[1]];\r\n            if (action) {\r\n                newChar = c;\r\n                if (action() === false) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // check parse finish\r\n        if (mode === 7 /* AFTER_PATH */) {\r\n            return keys;\r\n        }\r\n    }\r\n}\r\n// path token cache\r\nconst cache = new Map();\r\n/**\r\n * key-value message resolver\r\n *\r\n * @remarks\r\n * Resolves messages with the key-value structure. Note that messages with a hierarchical structure such as objects cannot be resolved\r\n *\r\n * @param obj - A target object to be resolved with path\r\n * @param path - A {@link Path | path} to resolve the value of message\r\n *\r\n * @returns A resolved {@link PathValue | path value}\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction resolveWithKeyValue(obj, path) {\r\n    return isObject(obj) ? obj[path] : null;\r\n}\r\n/**\r\n * message resolver\r\n *\r\n * @remarks\r\n * Resolves messages. messages with a hierarchical structure such as objects can be resolved. This resolver is used in VueI18n as default.\r\n *\r\n * @param obj - A target object to be resolved with path\r\n * @param path - A {@link Path | path} to resolve the value of message\r\n *\r\n * @returns A resolved {@link PathValue | path value}\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction resolveValue(obj, path) {\r\n    // check object\r\n    if (!isObject(obj)) {\r\n        return null;\r\n    }\r\n    // parse path\r\n    let hit = cache.get(path);\r\n    if (!hit) {\r\n        hit = parse(path);\r\n        if (hit) {\r\n            cache.set(path, hit);\r\n        }\r\n    }\r\n    // check hit\r\n    if (!hit) {\r\n        return null;\r\n    }\r\n    // resolve path value\r\n    const len = hit.length;\r\n    let last = obj;\r\n    let i = 0;\r\n    while (i < len) {\r\n        const val = last[hit[i]];\r\n        if (val === undefined) {\r\n            return null;\r\n        }\r\n        last = val;\r\n        i++;\r\n    }\r\n    return last;\r\n}\n\nconst DEFAULT_MODIFIER = (str) => str;\r\nconst DEFAULT_MESSAGE = (ctx) => ''; // eslint-disable-line\r\nconst DEFAULT_MESSAGE_DATA_TYPE = 'text';\r\nconst DEFAULT_NORMALIZE = (values) => values.length === 0 ? '' : values.join('');\r\nconst DEFAULT_INTERPOLATE = toDisplayString;\r\nfunction pluralDefault(choice, choicesLength) {\r\n    choice = Math.abs(choice);\r\n    if (choicesLength === 2) {\r\n        // prettier-ignore\r\n        return choice\r\n            ? choice > 1\r\n                ? 1\r\n                : 0\r\n            : 1;\r\n    }\r\n    return choice ? Math.min(choice, 2) : 0;\r\n}\r\nfunction getPluralIndex(options) {\r\n    // prettier-ignore\r\n    const index = isNumber(options.pluralIndex)\r\n        ? options.pluralIndex\r\n        : -1;\r\n    // prettier-ignore\r\n    return options.named && (isNumber(options.named.count) || isNumber(options.named.n))\r\n        ? isNumber(options.named.count)\r\n            ? options.named.count\r\n            : isNumber(options.named.n)\r\n                ? options.named.n\r\n                : index\r\n        : index;\r\n}\r\nfunction normalizeNamed(pluralIndex, props) {\r\n    if (!props.count) {\r\n        props.count = pluralIndex;\r\n    }\r\n    if (!props.n) {\r\n        props.n = pluralIndex;\r\n    }\r\n}\r\nfunction createMessageContext(options = {}) {\r\n    const locale = options.locale;\r\n    const pluralIndex = getPluralIndex(options);\r\n    const pluralRule = isObject(options.pluralRules) &&\r\n        isString(locale) &&\r\n        isFunction(options.pluralRules[locale])\r\n        ? options.pluralRules[locale]\r\n        : pluralDefault;\r\n    const orgPluralRule = isObject(options.pluralRules) &&\r\n        isString(locale) &&\r\n        isFunction(options.pluralRules[locale])\r\n        ? pluralDefault\r\n        : undefined;\r\n    const plural = (messages) => {\r\n        return messages[pluralRule(pluralIndex, messages.length, orgPluralRule)];\r\n    };\r\n    const _list = options.list || [];\r\n    const list = (index) => _list[index];\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const _named = options.named || {};\r\n    isNumber(options.pluralIndex) && normalizeNamed(pluralIndex, _named);\r\n    const named = (key) => _named[key];\r\n    function message(key) {\r\n        // prettier-ignore\r\n        const msg = isFunction(options.messages)\r\n            ? options.messages(key)\r\n            : isObject(options.messages)\r\n                ? options.messages[key]\r\n                : false;\r\n        return !msg\r\n            ? options.parent\r\n                ? options.parent.message(key) // resolve from parent messages\r\n                : DEFAULT_MESSAGE\r\n            : msg;\r\n    }\r\n    const _modifier = (name) => options.modifiers\r\n        ? options.modifiers[name]\r\n        : DEFAULT_MODIFIER;\r\n    const normalize = isPlainObject(options.processor) && isFunction(options.processor.normalize)\r\n        ? options.processor.normalize\r\n        : DEFAULT_NORMALIZE;\r\n    const interpolate = isPlainObject(options.processor) &&\r\n        isFunction(options.processor.interpolate)\r\n        ? options.processor.interpolate\r\n        : DEFAULT_INTERPOLATE;\r\n    const type = isPlainObject(options.processor) && isString(options.processor.type)\r\n        ? options.processor.type\r\n        : DEFAULT_MESSAGE_DATA_TYPE;\r\n    const linked = (key, ...args) => {\r\n        const [arg1, arg2] = args;\r\n        let type = 'text';\r\n        let modifier = '';\r\n        if (args.length === 1) {\r\n            if (isObject(arg1)) {\r\n                modifier = arg1.modifier || modifier;\r\n                type = arg1.type || type;\r\n            }\r\n            else if (isString(arg1)) {\r\n                modifier = arg1 || modifier;\r\n            }\r\n        }\r\n        else if (args.length === 2) {\r\n            if (isString(arg1)) {\r\n                modifier = arg1 || modifier;\r\n            }\r\n            if (isString(arg2)) {\r\n                type = arg2 || type;\r\n            }\r\n        }\r\n        let msg = message(key)(ctx);\r\n        // The message in vnode resolved with linked are returned as an array by processor.nomalize\r\n        if (type === 'vnode' && isArray(msg) && modifier) {\r\n            msg = msg[0];\r\n        }\r\n        return modifier ? _modifier(modifier)(msg, type) : msg;\r\n    };\r\n    const ctx = {\r\n        [\"list\" /* LIST */]: list,\r\n        [\"named\" /* NAMED */]: named,\r\n        [\"plural\" /* PLURAL */]: plural,\r\n        [\"linked\" /* LINKED */]: linked,\r\n        [\"message\" /* MESSAGE */]: message,\r\n        [\"type\" /* TYPE */]: type,\r\n        [\"interpolate\" /* INTERPOLATE */]: interpolate,\r\n        [\"normalize\" /* NORMALIZE */]: normalize\r\n    };\r\n    return ctx;\r\n}\n\nlet devtools = null;\r\nfunction setDevToolsHook(hook) {\r\n    devtools = hook;\r\n}\r\nfunction getDevToolsHook() {\r\n    return devtools;\r\n}\r\nfunction initI18nDevTools(i18n, version, meta) {\r\n    // TODO: queue if devtools is undefined\r\n    devtools &&\r\n        devtools.emit(IntlifyDevToolsHooks.I18nInit, {\r\n            timestamp: Date.now(),\r\n            i18n,\r\n            version,\r\n            meta\r\n        });\r\n}\r\nconst translateDevTools = /* #__PURE__*/ createDevToolsHook(IntlifyDevToolsHooks.FunctionTranslate);\r\nfunction createDevToolsHook(hook) {\r\n    return (payloads) => devtools && devtools.emit(hook, payloads);\r\n}\n\nconst CoreWarnCodes = {\r\n    NOT_FOUND_KEY: 1,\r\n    FALLBACK_TO_TRANSLATE: 2,\r\n    CANNOT_FORMAT_NUMBER: 3,\r\n    FALLBACK_TO_NUMBER_FORMAT: 4,\r\n    CANNOT_FORMAT_DATE: 5,\r\n    FALLBACK_TO_DATE_FORMAT: 6,\r\n    __EXTEND_POINT__: 7\r\n};\r\n/** @internal */\r\nconst warnMessages = {\r\n    [CoreWarnCodes.NOT_FOUND_KEY]: `Not found '{key}' key in '{locale}' locale messages.`,\r\n    [CoreWarnCodes.FALLBACK_TO_TRANSLATE]: `Fall back to translate '{key}' key with '{target}' locale.`,\r\n    [CoreWarnCodes.CANNOT_FORMAT_NUMBER]: `Cannot format a number value due to not supported Intl.NumberFormat.`,\r\n    [CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT]: `Fall back to number format '{key}' key with '{target}' locale.`,\r\n    [CoreWarnCodes.CANNOT_FORMAT_DATE]: `Cannot format a date value due to not supported Intl.DateTimeFormat.`,\r\n    [CoreWarnCodes.FALLBACK_TO_DATE_FORMAT]: `Fall back to datetime format '{key}' key with '{target}' locale.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return format(warnMessages[code], ...args);\r\n}\n\n/**\r\n * Fallback with simple implemenation\r\n *\r\n * @remarks\r\n * A fallback locale function implemented with a simple fallback algorithm.\r\n *\r\n * Basically, it returns the value as specified in the `fallbackLocale` props, and is processed with the fallback inside intlify.\r\n *\r\n * @param ctx - A {@link CoreContext | context}\r\n * @param fallback - A {@link FallbackLocale | fallback locale}\r\n * @param start - A starting {@link Locale | locale}\r\n *\r\n * @returns Fallback locales\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction fallbackWithSimple(ctx, fallback, start // eslint-disable-line @typescript-eslint/no-unused-vars\r\n) {\r\n    // prettier-ignore\r\n    return [...new Set([\r\n            start,\r\n            ...(isArray(fallback)\r\n                ? fallback\r\n                : isObject(fallback)\r\n                    ? Object.keys(fallback)\r\n                    : isString(fallback)\r\n                        ? [fallback]\r\n                        : [start])\r\n        ])];\r\n}\r\n/**\r\n * Fallback with locale chain\r\n *\r\n * @remarks\r\n * A fallback locale function implemented with a fallback chain algorithm. It's used in VueI18n as default.\r\n *\r\n * @param ctx - A {@link CoreContext | context}\r\n * @param fallback - A {@link FallbackLocale | fallback locale}\r\n * @param start - A starting {@link Locale | locale}\r\n *\r\n * @returns Fallback locales\r\n *\r\n * @VueI18nSee [Fallbacking](../guide/essentials/fallback)\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction fallbackWithLocaleChain(ctx, fallback, start) {\r\n    const startLocale = isString(start) ? start : DEFAULT_LOCALE;\r\n    const context = ctx;\r\n    if (!context.__localeChainCache) {\r\n        context.__localeChainCache = new Map();\r\n    }\r\n    let chain = context.__localeChainCache.get(startLocale);\r\n    if (!chain) {\r\n        chain = [];\r\n        // first block defined by start\r\n        let block = [start];\r\n        // while any intervening block found\r\n        while (isArray(block)) {\r\n            block = appendBlockToChain(chain, block, fallback);\r\n        }\r\n        // prettier-ignore\r\n        // last block defined by default\r\n        const defaults = isArray(fallback) || !isPlainObject(fallback)\r\n            ? fallback\r\n            : fallback['default']\r\n                ? fallback['default']\r\n                : null;\r\n        // convert defaults to array\r\n        block = isString(defaults) ? [defaults] : defaults;\r\n        if (isArray(block)) {\r\n            appendBlockToChain(chain, block, false);\r\n        }\r\n        context.__localeChainCache.set(startLocale, chain);\r\n    }\r\n    return chain;\r\n}\r\nfunction appendBlockToChain(chain, block, blocks) {\r\n    let follow = true;\r\n    for (let i = 0; i < block.length && isBoolean(follow); i++) {\r\n        const locale = block[i];\r\n        if (isString(locale)) {\r\n            follow = appendLocaleToChain(chain, block[i], blocks);\r\n        }\r\n    }\r\n    return follow;\r\n}\r\nfunction appendLocaleToChain(chain, locale, blocks) {\r\n    let follow;\r\n    const tokens = locale.split('-');\r\n    do {\r\n        const target = tokens.join('-');\r\n        follow = appendItemToChain(chain, target, blocks);\r\n        tokens.splice(-1, 1);\r\n    } while (tokens.length && follow === true);\r\n    return follow;\r\n}\r\nfunction appendItemToChain(chain, target, blocks) {\r\n    let follow = false;\r\n    if (!chain.includes(target)) {\r\n        follow = true;\r\n        if (target) {\r\n            follow = target[target.length - 1] !== '!';\r\n            const locale = target.replace(/!/g, '');\r\n            chain.push(locale);\r\n            if ((isArray(blocks) || isPlainObject(blocks)) &&\r\n                blocks[locale] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            ) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                follow = blocks[locale];\r\n            }\r\n        }\r\n    }\r\n    return follow;\r\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Intlify core-base version\r\n * @internal\r\n */\r\nconst VERSION = '9.2.2';\r\nconst NOT_REOSLVED = -1;\r\nconst DEFAULT_LOCALE = 'en-US';\r\nconst MISSING_RESOLVE_VALUE = '';\r\nconst capitalize = (str) => `${str.charAt(0).toLocaleUpperCase()}${str.substr(1)}`;\r\nfunction getDefaultLinkedModifiers() {\r\n    return {\r\n        upper: (val, type) => {\r\n            // prettier-ignore\r\n            return type === 'text' && isString(val)\r\n                ? val.toUpperCase()\r\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\r\n                    ? val.children.toUpperCase()\r\n                    : val;\r\n        },\r\n        lower: (val, type) => {\r\n            // prettier-ignore\r\n            return type === 'text' && isString(val)\r\n                ? val.toLowerCase()\r\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\r\n                    ? val.children.toLowerCase()\r\n                    : val;\r\n        },\r\n        capitalize: (val, type) => {\r\n            // prettier-ignore\r\n            return (type === 'text' && isString(val)\r\n                ? capitalize(val)\r\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\r\n                    ? capitalize(val.children)\r\n                    : val);\r\n        }\r\n    };\r\n}\r\nlet _compiler;\r\nfunction registerMessageCompiler(compiler) {\r\n    _compiler = compiler;\r\n}\r\nlet _resolver;\r\n/**\r\n * Register the message resolver\r\n *\r\n * @param resolver - A {@link MessageResolver} function\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction registerMessageResolver(resolver) {\r\n    _resolver = resolver;\r\n}\r\nlet _fallbacker;\r\n/**\r\n * Register the locale fallbacker\r\n *\r\n * @param fallbacker - A {@link LocaleFallbacker} function\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction registerLocaleFallbacker(fallbacker) {\r\n    _fallbacker = fallbacker;\r\n}\r\n// Additional Meta for Intlify DevTools\r\nlet _additionalMeta = null;\r\nconst setAdditionalMeta =  (meta) => {\r\n    _additionalMeta = meta;\r\n};\r\nconst getAdditionalMeta =  () => _additionalMeta;\r\nlet _fallbackContext = null;\r\nconst setFallbackContext = (context) => {\r\n    _fallbackContext = context;\r\n};\r\nconst getFallbackContext = () => _fallbackContext;\r\n// ID for CoreContext\r\nlet _cid = 0;\r\nfunction createCoreContext(options = {}) {\r\n    // setup options\r\n    const version = isString(options.version) ? options.version : VERSION;\r\n    const locale = isString(options.locale) ? options.locale : DEFAULT_LOCALE;\r\n    const fallbackLocale = isArray(options.fallbackLocale) ||\r\n        isPlainObject(options.fallbackLocale) ||\r\n        isString(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const messages = isPlainObject(options.messages)\r\n        ? options.messages\r\n        : { [locale]: {} };\r\n    const datetimeFormats = isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [locale]: {} }\r\n        ;\r\n    const numberFormats = isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [locale]: {} }\r\n        ;\r\n    const modifiers = assign({}, options.modifiers || {}, getDefaultLinkedModifiers());\r\n    const pluralRules = options.pluralRules || {};\r\n    const missing = isFunction(options.missing) ? options.missing : null;\r\n    const missingWarn = isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n        ? options.missingWarn\r\n        : true;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : true;\r\n    const fallbackFormat = !!options.fallbackFormat;\r\n    const unresolving = !!options.unresolving;\r\n    const postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    const processor = isPlainObject(options.processor) ? options.processor : null;\r\n    const warnHtmlMessage = isBoolean(options.warnHtmlMessage)\r\n        ? options.warnHtmlMessage\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameter;\r\n    const messageCompiler = isFunction(options.messageCompiler)\r\n        ? options.messageCompiler\r\n        : _compiler;\r\n    const messageResolver = isFunction(options.messageResolver)\r\n        ? options.messageResolver\r\n        : _resolver || resolveWithKeyValue;\r\n    const localeFallbacker = isFunction(options.localeFallbacker)\r\n        ? options.localeFallbacker\r\n        : _fallbacker || fallbackWithSimple;\r\n    const fallbackContext = isObject(options.fallbackContext)\r\n        ? options.fallbackContext\r\n        : undefined;\r\n    const onWarn = isFunction(options.onWarn) ? options.onWarn : warn;\r\n    // setup internal options\r\n    const internalOptions = options;\r\n    const __datetimeFormatters = isObject(internalOptions.__datetimeFormatters)\r\n            ? internalOptions.__datetimeFormatters\r\n            : new Map()\r\n        ;\r\n    const __numberFormatters = isObject(internalOptions.__numberFormatters)\r\n            ? internalOptions.__numberFormatters\r\n            : new Map()\r\n        ;\r\n    const __meta = isObject(internalOptions.__meta) ? internalOptions.__meta : {};\r\n    _cid++;\r\n    const context = {\r\n        version,\r\n        cid: _cid,\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        modifiers,\r\n        pluralRules,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackFormat,\r\n        unresolving,\r\n        postTranslation,\r\n        processor,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageCompiler,\r\n        messageResolver,\r\n        localeFallbacker,\r\n        fallbackContext,\r\n        onWarn,\r\n        __meta\r\n    };\r\n    {\r\n        context.datetimeFormats = datetimeFormats;\r\n        context.numberFormats = numberFormats;\r\n        context.__datetimeFormatters = __datetimeFormatters;\r\n        context.__numberFormatters = __numberFormatters;\r\n    }\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        context.__v_emitter =\r\n            internalOptions.__v_emitter != null\r\n                ? internalOptions.__v_emitter\r\n                : undefined;\r\n    }\r\n    // NOTE: experimental !!\r\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n        initI18nDevTools(context, version, __meta);\r\n    }\r\n    return context;\r\n}\r\n/** @internal */\r\nfunction isTranslateFallbackWarn(fallback, key) {\r\n    return fallback instanceof RegExp ? fallback.test(key) : fallback;\r\n}\r\n/** @internal */\r\nfunction isTranslateMissingWarn(missing, key) {\r\n    return missing instanceof RegExp ? missing.test(key) : missing;\r\n}\r\n/** @internal */\r\nfunction handleMissing(context, key, locale, missingWarn, type) {\r\n    const { missing, onWarn } = context;\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const emitter = context.__v_emitter;\r\n        if (emitter) {\r\n            emitter.emit(\"missing\" /* MISSING */, {\r\n                locale,\r\n                key,\r\n                type,\r\n                groupId: `${type}:${key}`\r\n            });\r\n        }\r\n    }\r\n    if (missing !== null) {\r\n        const ret = missing(context, locale, key, type);\r\n        return isString(ret) ? ret : key;\r\n    }\r\n    else {\r\n        if ((process.env.NODE_ENV !== 'production') && isTranslateMissingWarn(missingWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.NOT_FOUND_KEY, { key, locale }));\r\n        }\r\n        return key;\r\n    }\r\n}\r\n/** @internal */\r\nfunction updateFallbackLocale(ctx, locale, fallback) {\r\n    const context = ctx;\r\n    context.__localeChainCache = new Map();\r\n    ctx.localeFallbacker(ctx, fallback, locale);\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst RE_HTML_TAG = /<\\/?[\\w\\s=\"/.':;#-\\/]+>/;\r\nconst WARN_MESSAGE = `Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.`;\r\nfunction checkHtmlMessage(source, options) {\r\n    const warnHtmlMessage = isBoolean(options.warnHtmlMessage)\r\n        ? options.warnHtmlMessage\r\n        : true;\r\n    if (warnHtmlMessage && RE_HTML_TAG.test(source)) {\r\n        warn(format(WARN_MESSAGE, { source }));\r\n    }\r\n}\r\nconst defaultOnCacheKey = (source) => source;\r\nlet compileCache = Object.create(null);\r\nfunction clearCompileCache() {\r\n    compileCache = Object.create(null);\r\n}\r\nfunction compileToFunction(source, options = {}) {\r\n    {\r\n        // check HTML message\r\n        (process.env.NODE_ENV !== 'production') && checkHtmlMessage(source, options);\r\n        // check caches\r\n        const onCacheKey = options.onCacheKey || defaultOnCacheKey;\r\n        const key = onCacheKey(source);\r\n        const cached = compileCache[key];\r\n        if (cached) {\r\n            return cached;\r\n        }\r\n        // compile error detecting\r\n        let occurred = false;\r\n        const onError = options.onError || defaultOnError;\r\n        options.onError = (err) => {\r\n            occurred = true;\r\n            onError(err);\r\n        };\r\n        // compile\r\n        const { code } = baseCompile(source, options);\r\n        // evaluate function\r\n        const msg = new Function(`return ${code}`)();\r\n        // if occurred compile error, don't cache\r\n        return !occurred ? (compileCache[key] = msg) : msg;\r\n    }\r\n}\n\nlet code = CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst CoreErrorCodes = {\r\n    INVALID_ARGUMENT: code,\r\n    INVALID_DATE_ARGUMENT: inc(),\r\n    INVALID_ISO_DATE_ARGUMENT: inc(),\r\n    __EXTEND_POINT__: inc() // 18\r\n};\r\nfunction createCoreError(code) {\r\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages } : undefined);\r\n}\r\n/** @internal */\r\nconst errorMessages = {\r\n    [CoreErrorCodes.INVALID_ARGUMENT]: 'Invalid arguments',\r\n    [CoreErrorCodes.INVALID_DATE_ARGUMENT]: 'The date provided is an invalid Date object.' +\r\n        'Make sure your Date represents a valid date.',\r\n    [CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT]: 'The argument provided is not a valid ISO date string'\r\n};\n\nconst NOOP_MESSAGE_FUNCTION = () => '';\r\nconst isMessageFunction = (val) => isFunction(val);\r\n// implementation of `translate` function\r\nfunction translate(context, ...args) {\r\n    const { fallbackFormat, postTranslation, unresolving, messageCompiler, fallbackLocale, messages } = context;\r\n    const [key, options] = parseTranslateArgs(...args);\r\n    const missingWarn = isBoolean(options.missingWarn)\r\n        ? options.missingWarn\r\n        : context.missingWarn;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : context.fallbackWarn;\r\n    const escapeParameter = isBoolean(options.escapeParameter)\r\n        ? options.escapeParameter\r\n        : context.escapeParameter;\r\n    const resolvedMessage = !!options.resolvedMessage;\r\n    // prettier-ignore\r\n    const defaultMsgOrKey = isString(options.default) || isBoolean(options.default) // default by function option\r\n        ? !isBoolean(options.default)\r\n            ? options.default\r\n            : (!messageCompiler ? () => key : key)\r\n        : fallbackFormat // default by `fallbackFormat` option\r\n            ? (!messageCompiler ? () => key : key)\r\n            : '';\r\n    const enableDefaultMsg = fallbackFormat || defaultMsgOrKey !== '';\r\n    const locale = isString(options.locale) ? options.locale : context.locale;\r\n    // escape params\r\n    escapeParameter && escapeParams(options);\r\n    // resolve message format\r\n    // eslint-disable-next-line prefer-const\r\n    let [formatScope, targetLocale, message] = !resolvedMessage\r\n        ? resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn)\r\n        : [\r\n            key,\r\n            locale,\r\n            messages[locale] || {}\r\n        ];\r\n    // NOTE:\r\n    //  Fix to work around `ssrTransfrom` bug in Vite.\r\n    //  https://github.com/vitejs/vite/issues/4306\r\n    //  To get around this, use temporary variables.\r\n    //  https://github.com/nuxt/framework/issues/1461#issuecomment-954606243\r\n    let format = formatScope;\r\n    // if you use default message, set it as message format!\r\n    let cacheBaseKey = key;\r\n    if (!resolvedMessage &&\r\n        !(isString(format) || isMessageFunction(format))) {\r\n        if (enableDefaultMsg) {\r\n            format = defaultMsgOrKey;\r\n            cacheBaseKey = format;\r\n        }\r\n    }\r\n    // checking message format and target locale\r\n    if (!resolvedMessage &&\r\n        (!(isString(format) || isMessageFunction(format)) ||\r\n            !isString(targetLocale))) {\r\n        return unresolving ? NOT_REOSLVED : key;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && isString(format) && context.messageCompiler == null) {\r\n        warn(`The message format compilation is not supported in this build. ` +\r\n            `Because message compiler isn't included. ` +\r\n            `You need to pre-compilation all message format. ` +\r\n            `So translate function return '${key}'.`);\r\n        return key;\r\n    }\r\n    // setup compile error detecting\r\n    let occurred = false;\r\n    const errorDetector = () => {\r\n        occurred = true;\r\n    };\r\n    // compile message format\r\n    const msg = !isMessageFunction(format)\r\n        ? compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, errorDetector)\r\n        : format;\r\n    // if occurred compile error, return the message format\r\n    if (occurred) {\r\n        return format;\r\n    }\r\n    // evaluate message with context\r\n    const ctxOptions = getMessageContextOptions(context, targetLocale, message, options);\r\n    const msgContext = createMessageContext(ctxOptions);\r\n    const messaged = evaluateMessage(context, msg, msgContext);\r\n    // if use post translation option, proceed it with handler\r\n    const ret = postTranslation\r\n        ? postTranslation(messaged, key)\r\n        : messaged;\r\n    // NOTE: experimental !!\r\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n        // prettier-ignore\r\n        const payloads = {\r\n            timestamp: Date.now(),\r\n            key: isString(key)\r\n                ? key\r\n                : isMessageFunction(format)\r\n                    ? format.key\r\n                    : '',\r\n            locale: targetLocale || (isMessageFunction(format)\r\n                ? format.locale\r\n                : ''),\r\n            format: isString(format)\r\n                ? format\r\n                : isMessageFunction(format)\r\n                    ? format.source\r\n                    : '',\r\n            message: ret\r\n        };\r\n        payloads.meta = assign({}, context.__meta, getAdditionalMeta() || {});\r\n        translateDevTools(payloads);\r\n    }\r\n    return ret;\r\n}\r\nfunction escapeParams(options) {\r\n    if (isArray(options.list)) {\r\n        options.list = options.list.map(item => isString(item) ? escapeHtml(item) : item);\r\n    }\r\n    else if (isObject(options.named)) {\r\n        Object.keys(options.named).forEach(key => {\r\n            if (isString(options.named[key])) {\r\n                options.named[key] = escapeHtml(options.named[key]);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn) {\r\n    const { messages, onWarn, messageResolver: resolveValue, localeFallbacker } = context;\r\n    const locales = localeFallbacker(context, fallbackLocale, locale); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    let message = {};\r\n    let targetLocale;\r\n    let format = null;\r\n    let from = locale;\r\n    let to = null;\r\n    const type = 'translate';\r\n    for (let i = 0; i < locales.length; i++) {\r\n        targetLocale = to = locales[i];\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            locale !== targetLocale &&\r\n            isTranslateFallbackWarn(fallbackWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_TRANSLATE, {\r\n                key,\r\n                target: targetLocale\r\n            }));\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\r\n            const emitter = context.__v_emitter;\r\n            if (emitter) {\r\n                emitter.emit(\"fallback\" /* FALBACK */, {\r\n                    type,\r\n                    key,\r\n                    from,\r\n                    to,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n        }\r\n        message =\r\n            messages[targetLocale] || {};\r\n        // for vue-devtools timeline event\r\n        let start = null;\r\n        let startTag;\r\n        let endTag;\r\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n            start = window.performance.now();\r\n            startTag = 'intlify-message-resolve-start';\r\n            endTag = 'intlify-message-resolve-end';\r\n            mark && mark(startTag);\r\n        }\r\n        if ((format = resolveValue(message, key)) === null) {\r\n            // if null, resolve with object key path\r\n            format = message[key]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n            const end = window.performance.now();\r\n            const emitter = context.__v_emitter;\r\n            if (emitter && start && format) {\r\n                emitter.emit(\"message-resolve\" /* MESSAGE_RESOLVE */, {\r\n                    type: \"message-resolve\" /* MESSAGE_RESOLVE */,\r\n                    key,\r\n                    message: format,\r\n                    time: end - start,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n            if (startTag && endTag && mark && measure) {\r\n                mark(endTag);\r\n                measure('intlify message resolve', startTag, endTag);\r\n            }\r\n        }\r\n        if (isString(format) || isFunction(format))\r\n            break;\r\n        const missingRet = handleMissing(context, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        key, targetLocale, missingWarn, type);\r\n        if (missingRet !== key) {\r\n            format = missingRet;\r\n        }\r\n        from = to;\r\n    }\r\n    return [format, targetLocale, message];\r\n}\r\nfunction compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, errorDetector) {\r\n    const { messageCompiler, warnHtmlMessage } = context;\r\n    if (isMessageFunction(format)) {\r\n        const msg = format;\r\n        msg.locale = msg.locale || targetLocale;\r\n        msg.key = msg.key || key;\r\n        return msg;\r\n    }\r\n    if (messageCompiler == null) {\r\n        const msg = (() => format);\r\n        msg.locale = targetLocale;\r\n        msg.key = key;\r\n        return msg;\r\n    }\r\n    // for vue-devtools timeline event\r\n    let start = null;\r\n    let startTag;\r\n    let endTag;\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        start = window.performance.now();\r\n        startTag = 'intlify-message-compilation-start';\r\n        endTag = 'intlify-message-compilation-end';\r\n        mark && mark(startTag);\r\n    }\r\n    const msg = messageCompiler(format, getCompileOptions(context, targetLocale, cacheBaseKey, format, warnHtmlMessage, errorDetector));\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        const end = window.performance.now();\r\n        const emitter = context.__v_emitter;\r\n        if (emitter && start) {\r\n            emitter.emit(\"message-compilation\" /* MESSAGE_COMPILATION */, {\r\n                type: \"message-compilation\" /* MESSAGE_COMPILATION */,\r\n                message: format,\r\n                time: end - start,\r\n                groupId: `${'translate'}:${key}`\r\n            });\r\n        }\r\n        if (startTag && endTag && mark && measure) {\r\n            mark(endTag);\r\n            measure('intlify message compilation', startTag, endTag);\r\n        }\r\n    }\r\n    msg.locale = targetLocale;\r\n    msg.key = key;\r\n    msg.source = format;\r\n    return msg;\r\n}\r\nfunction evaluateMessage(context, msg, msgCtx) {\r\n    // for vue-devtools timeline event\r\n    let start = null;\r\n    let startTag;\r\n    let endTag;\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        start = window.performance.now();\r\n        startTag = 'intlify-message-evaluation-start';\r\n        endTag = 'intlify-message-evaluation-end';\r\n        mark && mark(startTag);\r\n    }\r\n    const messaged = msg(msgCtx);\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        const end = window.performance.now();\r\n        const emitter = context.__v_emitter;\r\n        if (emitter && start) {\r\n            emitter.emit(\"message-evaluation\" /* MESSAGE_EVALUATION */, {\r\n                type: \"message-evaluation\" /* MESSAGE_EVALUATION */,\r\n                value: messaged,\r\n                time: end - start,\r\n                groupId: `${'translate'}:${msg.key}`\r\n            });\r\n        }\r\n        if (startTag && endTag && mark && measure) {\r\n            mark(endTag);\r\n            measure('intlify message evaluation', startTag, endTag);\r\n        }\r\n    }\r\n    return messaged;\r\n}\r\n/** @internal */\r\nfunction parseTranslateArgs(...args) {\r\n    const [arg1, arg2, arg3] = args;\r\n    const options = {};\r\n    if (!isString(arg1) && !isNumber(arg1) && !isMessageFunction(arg1)) {\r\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\r\n    }\r\n    // prettier-ignore\r\n    const key = isNumber(arg1)\r\n        ? String(arg1)\r\n        : isMessageFunction(arg1)\r\n            ? arg1\r\n            : arg1;\r\n    if (isNumber(arg2)) {\r\n        options.plural = arg2;\r\n    }\r\n    else if (isString(arg2)) {\r\n        options.default = arg2;\r\n    }\r\n    else if (isPlainObject(arg2) && !isEmptyObject(arg2)) {\r\n        options.named = arg2;\r\n    }\r\n    else if (isArray(arg2)) {\r\n        options.list = arg2;\r\n    }\r\n    if (isNumber(arg3)) {\r\n        options.plural = arg3;\r\n    }\r\n    else if (isString(arg3)) {\r\n        options.default = arg3;\r\n    }\r\n    else if (isPlainObject(arg3)) {\r\n        assign(options, arg3);\r\n    }\r\n    return [key, options];\r\n}\r\nfunction getCompileOptions(context, locale, key, source, warnHtmlMessage, errorDetector) {\r\n    return {\r\n        warnHtmlMessage,\r\n        onError: (err) => {\r\n            errorDetector && errorDetector(err);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                const message = `Message compilation error: ${err.message}`;\r\n                const codeFrame = err.location &&\r\n                    generateCodeFrame(source, err.location.start.offset, err.location.end.offset);\r\n                const emitter = context.__v_emitter;\r\n                if (emitter) {\r\n                    emitter.emit(\"compile-error\" /* COMPILE_ERROR */, {\r\n                        message: source,\r\n                        error: err.message,\r\n                        start: err.location && err.location.start.offset,\r\n                        end: err.location && err.location.end.offset,\r\n                        groupId: `${'translate'}:${key}`\r\n                    });\r\n                }\r\n                console.error(codeFrame ? `${message}\\n${codeFrame}` : message);\r\n            }\r\n            else {\r\n                throw err;\r\n            }\r\n        },\r\n        onCacheKey: (source) => generateFormatCacheKey(locale, key, source)\r\n    };\r\n}\r\nfunction getMessageContextOptions(context, locale, message, options) {\r\n    const { modifiers, pluralRules, messageResolver: resolveValue, fallbackLocale, fallbackWarn, missingWarn, fallbackContext } = context;\r\n    const resolveMessage = (key) => {\r\n        let val = resolveValue(message, key);\r\n        // fallback to root context\r\n        if (val == null && fallbackContext) {\r\n            const [, , message] = resolveMessageFormat(fallbackContext, key, locale, fallbackLocale, fallbackWarn, missingWarn);\r\n            val = resolveValue(message, key);\r\n        }\r\n        if (isString(val)) {\r\n            let occurred = false;\r\n            const errorDetector = () => {\r\n                occurred = true;\r\n            };\r\n            const msg = compileMessageFormat(context, key, locale, val, key, errorDetector);\r\n            return !occurred\r\n                ? msg\r\n                : NOOP_MESSAGE_FUNCTION;\r\n        }\r\n        else if (isMessageFunction(val)) {\r\n            return val;\r\n        }\r\n        else {\r\n            // TODO: should be implemented warning message\r\n            return NOOP_MESSAGE_FUNCTION;\r\n        }\r\n    };\r\n    const ctxOptions = {\r\n        locale,\r\n        modifiers,\r\n        pluralRules,\r\n        messages: resolveMessage\r\n    };\r\n    if (context.processor) {\r\n        ctxOptions.processor = context.processor;\r\n    }\r\n    if (options.list) {\r\n        ctxOptions.list = options.list;\r\n    }\r\n    if (options.named) {\r\n        ctxOptions.named = options.named;\r\n    }\r\n    if (isNumber(options.plural)) {\r\n        ctxOptions.pluralIndex = options.plural;\r\n    }\r\n    return ctxOptions;\r\n}\n\nconst intlDefined = typeof Intl !== 'undefined';\r\nconst Availabilities = {\r\n    dateTimeFormat: intlDefined && typeof Intl.DateTimeFormat !== 'undefined',\r\n    numberFormat: intlDefined && typeof Intl.NumberFormat !== 'undefined'\r\n};\n\n// implementation of `datetime` function\r\nfunction datetime(context, ...args) {\r\n    const { datetimeFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\r\n    const { __datetimeFormatters } = context;\r\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.dateTimeFormat) {\r\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_DATE));\r\n        return MISSING_RESOLVE_VALUE;\r\n    }\r\n    const [key, value, options, overrides] = parseDateTimeArgs(...args);\r\n    const missingWarn = isBoolean(options.missingWarn)\r\n        ? options.missingWarn\r\n        : context.missingWarn;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : context.fallbackWarn;\r\n    const part = !!options.part;\r\n    const locale = isString(options.locale) ? options.locale : context.locale;\r\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    fallbackLocale, locale);\r\n    if (!isString(key) || key === '') {\r\n        return new Intl.DateTimeFormat(locale, overrides).format(value);\r\n    }\r\n    // resolve format\r\n    let datetimeFormat = {};\r\n    let targetLocale;\r\n    let format = null;\r\n    let from = locale;\r\n    let to = null;\r\n    const type = 'datetime format';\r\n    for (let i = 0; i < locales.length; i++) {\r\n        targetLocale = to = locales[i];\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            locale !== targetLocale &&\r\n            isTranslateFallbackWarn(fallbackWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_DATE_FORMAT, {\r\n                key,\r\n                target: targetLocale\r\n            }));\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\r\n            const emitter = context.__v_emitter;\r\n            if (emitter) {\r\n                emitter.emit(\"fallback\" /* FALBACK */, {\r\n                    type,\r\n                    key,\r\n                    from,\r\n                    to,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n        }\r\n        datetimeFormat =\r\n            datetimeFormats[targetLocale] || {};\r\n        format = datetimeFormat[key];\r\n        if (isPlainObject(format))\r\n            break;\r\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        from = to;\r\n    }\r\n    // checking format and target locale\r\n    if (!isPlainObject(format) || !isString(targetLocale)) {\r\n        return unresolving ? NOT_REOSLVED : key;\r\n    }\r\n    let id = `${targetLocale}__${key}`;\r\n    if (!isEmptyObject(overrides)) {\r\n        id = `${id}__${JSON.stringify(overrides)}`;\r\n    }\r\n    let formatter = __datetimeFormatters.get(id);\r\n    if (!formatter) {\r\n        formatter = new Intl.DateTimeFormat(targetLocale, assign({}, format, overrides));\r\n        __datetimeFormatters.set(id, formatter);\r\n    }\r\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\r\n}\r\n/** @internal */\r\nconst DATETIME_FORMAT_OPTIONS_KEYS = [\r\n    'localeMatcher',\r\n    'weekday',\r\n    'era',\r\n    'year',\r\n    'month',\r\n    'day',\r\n    'hour',\r\n    'minute',\r\n    'second',\r\n    'timeZoneName',\r\n    'formatMatcher',\r\n    'hour12',\r\n    'timeZone',\r\n    'dateStyle',\r\n    'timeStyle',\r\n    'calendar',\r\n    'dayPeriod',\r\n    'numberingSystem',\r\n    'hourCycle',\r\n    'fractionalSecondDigits'\r\n];\r\n/** @internal */\r\nfunction parseDateTimeArgs(...args) {\r\n    const [arg1, arg2, arg3, arg4] = args;\r\n    const options = {};\r\n    let overrides = {};\r\n    let value;\r\n    if (isString(arg1)) {\r\n        // Only allow ISO strings - other date formats are often supported,\r\n        // but may cause different results in different browsers.\r\n        const matches = arg1.match(/(\\d{4}-\\d{2}-\\d{2})(T|\\s)?(.*)/);\r\n        if (!matches) {\r\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\r\n        }\r\n        // Some browsers can not parse the iso datetime separated by space,\r\n        // this is a compromise solution by replace the 'T'/' ' with 'T'\r\n        const dateTime = matches[3]\r\n            ? matches[3].trim().startsWith('T')\r\n                ? `${matches[1].trim()}${matches[3].trim()}`\r\n                : `${matches[1].trim()}T${matches[3].trim()}`\r\n            : matches[1].trim();\r\n        value = new Date(dateTime);\r\n        try {\r\n            // This will fail if the date is not valid\r\n            value.toISOString();\r\n        }\r\n        catch (e) {\r\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\r\n        }\r\n    }\r\n    else if (isDate(arg1)) {\r\n        if (isNaN(arg1.getTime())) {\r\n            throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);\r\n        }\r\n        value = arg1;\r\n    }\r\n    else if (isNumber(arg1)) {\r\n        value = arg1;\r\n    }\r\n    else {\r\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\r\n    }\r\n    if (isString(arg2)) {\r\n        options.key = arg2;\r\n    }\r\n    else if (isPlainObject(arg2)) {\r\n        Object.keys(arg2).forEach(key => {\r\n            if (DATETIME_FORMAT_OPTIONS_KEYS.includes(key)) {\r\n                overrides[key] = arg2[key];\r\n            }\r\n            else {\r\n                options[key] = arg2[key];\r\n            }\r\n        });\r\n    }\r\n    if (isString(arg3)) {\r\n        options.locale = arg3;\r\n    }\r\n    else if (isPlainObject(arg3)) {\r\n        overrides = arg3;\r\n    }\r\n    if (isPlainObject(arg4)) {\r\n        overrides = arg4;\r\n    }\r\n    return [options.key || '', value, options, overrides];\r\n}\r\n/** @internal */\r\nfunction clearDateTimeFormat(ctx, locale, format) {\r\n    const context = ctx;\r\n    for (const key in format) {\r\n        const id = `${locale}__${key}`;\r\n        if (!context.__datetimeFormatters.has(id)) {\r\n            continue;\r\n        }\r\n        context.__datetimeFormatters.delete(id);\r\n    }\r\n}\n\n// implementation of `number` function\r\nfunction number(context, ...args) {\r\n    const { numberFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\r\n    const { __numberFormatters } = context;\r\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.numberFormat) {\r\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_NUMBER));\r\n        return MISSING_RESOLVE_VALUE;\r\n    }\r\n    const [key, value, options, overrides] = parseNumberArgs(...args);\r\n    const missingWarn = isBoolean(options.missingWarn)\r\n        ? options.missingWarn\r\n        : context.missingWarn;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : context.fallbackWarn;\r\n    const part = !!options.part;\r\n    const locale = isString(options.locale) ? options.locale : context.locale;\r\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    fallbackLocale, locale);\r\n    if (!isString(key) || key === '') {\r\n        return new Intl.NumberFormat(locale, overrides).format(value);\r\n    }\r\n    // resolve format\r\n    let numberFormat = {};\r\n    let targetLocale;\r\n    let format = null;\r\n    let from = locale;\r\n    let to = null;\r\n    const type = 'number format';\r\n    for (let i = 0; i < locales.length; i++) {\r\n        targetLocale = to = locales[i];\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            locale !== targetLocale &&\r\n            isTranslateFallbackWarn(fallbackWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT, {\r\n                key,\r\n                target: targetLocale\r\n            }));\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\r\n            const emitter = context.__v_emitter;\r\n            if (emitter) {\r\n                emitter.emit(\"fallback\" /* FALBACK */, {\r\n                    type,\r\n                    key,\r\n                    from,\r\n                    to,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n        }\r\n        numberFormat =\r\n            numberFormats[targetLocale] || {};\r\n        format = numberFormat[key];\r\n        if (isPlainObject(format))\r\n            break;\r\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        from = to;\r\n    }\r\n    // checking format and target locale\r\n    if (!isPlainObject(format) || !isString(targetLocale)) {\r\n        return unresolving ? NOT_REOSLVED : key;\r\n    }\r\n    let id = `${targetLocale}__${key}`;\r\n    if (!isEmptyObject(overrides)) {\r\n        id = `${id}__${JSON.stringify(overrides)}`;\r\n    }\r\n    let formatter = __numberFormatters.get(id);\r\n    if (!formatter) {\r\n        formatter = new Intl.NumberFormat(targetLocale, assign({}, format, overrides));\r\n        __numberFormatters.set(id, formatter);\r\n    }\r\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\r\n}\r\n/** @internal */\r\nconst NUMBER_FORMAT_OPTIONS_KEYS = [\r\n    'localeMatcher',\r\n    'style',\r\n    'currency',\r\n    'currencyDisplay',\r\n    'currencySign',\r\n    'useGrouping',\r\n    'minimumIntegerDigits',\r\n    'minimumFractionDigits',\r\n    'maximumFractionDigits',\r\n    'minimumSignificantDigits',\r\n    'maximumSignificantDigits',\r\n    'compactDisplay',\r\n    'notation',\r\n    'signDisplay',\r\n    'unit',\r\n    'unitDisplay',\r\n    'roundingMode',\r\n    'roundingPriority',\r\n    'roundingIncrement',\r\n    'trailingZeroDisplay'\r\n];\r\n/** @internal */\r\nfunction parseNumberArgs(...args) {\r\n    const [arg1, arg2, arg3, arg4] = args;\r\n    const options = {};\r\n    let overrides = {};\r\n    if (!isNumber(arg1)) {\r\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\r\n    }\r\n    const value = arg1;\r\n    if (isString(arg2)) {\r\n        options.key = arg2;\r\n    }\r\n    else if (isPlainObject(arg2)) {\r\n        Object.keys(arg2).forEach(key => {\r\n            if (NUMBER_FORMAT_OPTIONS_KEYS.includes(key)) {\r\n                overrides[key] = arg2[key];\r\n            }\r\n            else {\r\n                options[key] = arg2[key];\r\n            }\r\n        });\r\n    }\r\n    if (isString(arg3)) {\r\n        options.locale = arg3;\r\n    }\r\n    else if (isPlainObject(arg3)) {\r\n        overrides = arg3;\r\n    }\r\n    if (isPlainObject(arg4)) {\r\n        overrides = arg4;\r\n    }\r\n    return [options.key || '', value, options, overrides];\r\n}\r\n/** @internal */\r\nfunction clearNumberFormat(ctx, locale, format) {\r\n    const context = ctx;\r\n    for (const key in format) {\r\n        const id = `${locale}__${key}`;\r\n        if (!context.__numberFormatters.has(id)) {\r\n            continue;\r\n        }\r\n        context.__numberFormatters.delete(id);\r\n    }\r\n}\n\n// TODO: we could not exports for Node native ES Moudles yet...\r\n{\r\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\r\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\r\n    }\r\n}\n\nexport { CoreErrorCodes, CoreWarnCodes, DATETIME_FORMAT_OPTIONS_KEYS, DEFAULT_LOCALE, DEFAULT_MESSAGE_DATA_TYPE, MISSING_RESOLVE_VALUE, NOT_REOSLVED, NUMBER_FORMAT_OPTIONS_KEYS, VERSION, clearCompileCache, clearDateTimeFormat, clearNumberFormat, compileToFunction, createCoreContext, createCoreError, createMessageContext, datetime, fallbackWithLocaleChain, fallbackWithSimple, getAdditionalMeta, getDevToolsHook, getFallbackContext, getWarnMessage, handleMissing, initI18nDevTools, isMessageFunction, isTranslateFallbackWarn, isTranslateMissingWarn, number, parse, parseDateTimeArgs, parseNumberArgs, parseTranslateArgs, registerLocaleFallbacker, registerMessageCompiler, registerMessageResolver, resolveValue, resolveWithKeyValue, setAdditionalMeta, setDevToolsHook, setFallbackContext, translate, translateDevTools, updateFallbackLocale };\n","/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, format, makeSymbol, isPlainObject, isArray, isString, hasOwn, isObject, isBoolean, isRegExp, isFunction, inBrowser, assign, isNumber, warn, createEmitter, isEmptyObject } from '@intlify/shared';\nimport { CoreWarnCodes, CompileErrorCodes, createCompileError, DEFAULT_LOCALE, updateFallbackLocale, setFallbackContext, createCoreContext, clearDateTimeFormat, clearNumberFormat, setAdditionalMeta, getFallbackContext, NOT_REOSLVED, isTranslateFallbackWarn, isTranslateMissingWarn, parseTranslateArgs, translate, MISSING_RESOLVE_VALUE, parseDateTimeArgs, datetime, parseNumberArgs, number, fallbackWithLocaleChain, NUMBER_FORMAT_OPTIONS_KEYS, DATETIME_FORMAT_OPTIONS_KEYS, registerMessageCompiler, compileToFunction, registerMessageResolver, resolveValue, registerLocaleFallbacker, setDevToolsHook } from '@intlify/core-base';\nimport { createVNode, Text, ref, computed, watch, getCurrentInstance, Fragment, h, effectScope, inject, onMounted, onUnmounted, shallowRef, onBeforeMount, isRef } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\nimport { VueDevToolsLabels, VueDevToolsPlaceholders, VueDevToolsTimelineColors } from '@intlify/vue-devtools';\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.2.2';\r\n/**\r\n * This is only called in esm-bundler builds.\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    let needWarn = false;\r\n    if (typeof __VUE_I18N_FULL_INSTALL__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_I18N_FULL_INSTALL__ = true;\r\n    }\r\n    if (typeof __VUE_I18N_LEGACY_API__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_I18N_LEGACY_API__ = true;\r\n    }\r\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\r\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn) {\r\n        console.warn(`You are running the esm-bundler build of vue-i18n. It is recommended to ` +\r\n            `configure your bundler to explicitly replace feature flag globals ` +\r\n            `with boolean literals to get proper tree-shaking in the final bundle.`);\r\n    }\r\n}\n\nlet code$1 = CoreWarnCodes.__EXTEND_POINT__;\r\nconst inc$1 = () => ++code$1;\r\nconst I18nWarnCodes = {\r\n    FALLBACK_TO_ROOT: code$1,\r\n    NOT_SUPPORTED_PRESERVE: inc$1(),\r\n    NOT_SUPPORTED_FORMATTER: inc$1(),\r\n    NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\r\n    NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\r\n    COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\r\n    NOT_FOUND_PARENT_SCOPE: inc$1() // 13\r\n};\r\nconst warnMessages = {\r\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\r\n    [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return format(warnMessages[code], ...args);\r\n}\n\nlet code = CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst I18nErrorCodes = {\r\n    // composer module errors\r\n    UNEXPECTED_RETURN_TYPE: code,\r\n    // legacy module errors\r\n    INVALID_ARGUMENT: inc(),\r\n    // i18n module errors\r\n    MUST_BE_CALL_SETUP_TOP: inc(),\r\n    NOT_INSLALLED: inc(),\r\n    NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\r\n    // directive module errors\r\n    REQUIRED_VALUE: inc(),\r\n    INVALID_VALUE: inc(),\r\n    // vue-devtools errors\r\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\r\n    NOT_INSLALLED_WITH_PROVIDE: inc(),\r\n    // unexpected error\r\n    UNEXPECTED_ERROR: inc(),\r\n    // not compatible legacy vue-i18n constructor\r\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\r\n    // bridge support vue 2.x only\r\n    BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\r\n    // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\r\n    MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\r\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\r\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\r\n    // for enhancement\r\n    __EXTEND_POINT__: inc() // 29\r\n};\r\nfunction createI18nError(code, ...args) {\r\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages, args } : undefined);\r\n}\r\nconst errorMessages = {\r\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\r\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\r\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\r\n    [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\r\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\r\n    [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\r\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\r\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\r\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\r\n    [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\r\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\r\n    [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\r\n    [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define i18n option or custom block in Composition API with using local scope in Legacy API mode',\r\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\r\n};\n\nconst TransrateVNodeSymbol = \r\n/* #__PURE__*/ makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = /* #__PURE__*/ makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = /* #__PURE__*/ makeSymbol('__numberParts');\r\nconst EnableEmitter = /* #__PURE__*/ makeSymbol('__enableEmitter');\r\nconst DisableEmitter = /* #__PURE__*/ makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = makeSymbol('__setPluralRules');\r\nmakeSymbol('__intlifyMeta');\r\nconst InejctWithOption = /* #__PURE__*/ makeSymbol('__injectWithOption');\r\nconst __VUE_I18N_BRIDGE__ =  '__VUE_I18N_BRIDGE__';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\r\nfunction handleFlatJson(obj) {\r\n    // check obj\r\n    if (!isObject(obj)) {\r\n        return obj;\r\n    }\r\n    for (const key in obj) {\r\n        // check key\r\n        if (!hasOwn(obj, key)) {\r\n            continue;\r\n        }\r\n        // handle for normal json\r\n        if (!key.includes('.')) {\r\n            // recursive process value if value is also a object\r\n            if (isObject(obj[key])) {\r\n                handleFlatJson(obj[key]);\r\n            }\r\n        }\r\n        // handle for flat json, transform to normal json\r\n        else {\r\n            // go to the last object\r\n            const subKeys = key.split('.');\r\n            const lastIndex = subKeys.length - 1;\r\n            let currentObj = obj;\r\n            for (let i = 0; i < lastIndex; i++) {\r\n                if (!(subKeys[i] in currentObj)) {\r\n                    currentObj[subKeys[i]] = {};\r\n                }\r\n                currentObj = currentObj[subKeys[i]];\r\n            }\r\n            // update last object value, delete old property\r\n            currentObj[subKeys[lastIndex]] = obj[key];\r\n            delete obj[key];\r\n            // recursive process value if value is also a object\r\n            if (isObject(currentObj[subKeys[lastIndex]])) {\r\n                handleFlatJson(currentObj[subKeys[lastIndex]]);\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n, messageResolver, flatJson } = options;\r\n    // prettier-ignore\r\n    const ret = isPlainObject(messages)\r\n        ? messages\r\n        : isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (isArray(__i18n)) {\r\n        __i18n.forEach(custom => {\r\n            if ('locale' in custom && 'resource' in custom) {\r\n                const { locale, resource } = custom;\r\n                if (locale) {\r\n                    ret[locale] = ret[locale] || {};\r\n                    deepCopy(resource, ret[locale]);\r\n                }\r\n                else {\r\n                    deepCopy(resource, ret);\r\n                }\r\n            }\r\n            else {\r\n                isString(custom) && deepCopy(JSON.parse(custom), ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (messageResolver == null && flatJson) {\r\n        for (const key in ret) {\r\n            if (hasOwn(ret, key)) {\r\n                handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !isObject(val) || isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n    for (const key in src) {\r\n        if (hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getComponentOptions(instance) {\r\n    return instance.type ;\r\n}\r\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    let messages = isObject(options.messages) ? options.messages : {};\r\n    if ('__i18nGlobal' in componentOptions) {\r\n        messages = getLocaleMessages(global.locale.value, {\r\n            messages,\r\n            __i18n: componentOptions.__i18nGlobal\r\n        });\r\n    }\r\n    // merge locale messages\r\n    const locales = Object.keys(messages);\r\n    if (locales.length) {\r\n        locales.forEach(locale => {\r\n            global.mergeLocaleMessage(locale, messages[locale]);\r\n        });\r\n    }\r\n    {\r\n        // merge datetime formats\r\n        if (isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction createTextNode(key) {\r\n    return createVNode(Text, null, key, 0)\r\n        ;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// extend VNode interface\r\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo =  () => {\r\n    const instance = getCurrentInstance();\r\n    let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\r\n        ? { [DEVTOOLS_META]: meta } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createComposer(options = {}, VueI18nLegacy) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : isString(options.locale)\r\n            ? options.locale\r\n            : DEFAULT_LOCALE);\r\n    const _fallbackLocale = ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : isString(options.fallbackLocale) ||\r\n            isArray(options.fallbackLocale) ||\r\n            isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = ref(isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // prettier-ignore\r\n    const _numberFormats = ref(isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    let _warnHtmlMessage = __root\r\n        ? __root.warnHtmlMessage\r\n        : isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    const getCoreContext = () => {\r\n        _isGlobal && setFallbackContext(null);\r\n        const ctxOptions = {\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            messageResolver: options.messageResolver,\r\n            __meta: { framework: 'vue' }\r\n        };\r\n        {\r\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\r\n            ctxOptions.numberFormats = _numberFormats.value;\r\n            ctxOptions.__datetimeFormatters = isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined;\r\n            ctxOptions.__numberFormatters = isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            ctxOptions.__v_emitter = isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined;\r\n        }\r\n        const ctx = createCoreContext(ctxOptions);\r\n        _isGlobal && setFallbackContext(ctx);\r\n        return ctx;\r\n    };\r\n    _context = getCoreContext();\r\n    updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n                _locale.value,\r\n                _fallbackLocale.value,\r\n                _messages.value,\r\n                _datetimeFormats.value,\r\n                _numberFormats.value\r\n            ]\r\n            ;\r\n    }\r\n    // locale\r\n    const locale = computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = /* #__PURE__*/ computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = /* #__PURE__*/ computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !arg.resolvedMessage;\r\n    }\r\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n            try {\r\n                setAdditionalMeta(getMetaInfo());\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = __root\r\n                        ? getFallbackContext()\r\n                        : undefined;\r\n                }\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                setAdditionalMeta(null);\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = undefined;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            ret = fn(_context);\r\n        }\r\n        if (isNumber(ret) && ret === NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                __root &&\r\n                isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        isTranslateMissingWarn(_missingWarn, key))) {\r\n                    warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\r\n        }\r\n    };\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(translate, null, [context, ...args]), () => parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !isObject(arg3)) {\r\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n        }\r\n        return t(...[arg1, arg2, assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => isString(val) || isNumber(val) || isBoolean(val)\r\n            ? createTextNode(String(val))\r\n            : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = Reflect.apply(translate, null, [_context, ...args]);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => isString(val) || isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => isString(val) || isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return _context.messageResolver(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root && inBrowser) {\r\n        watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define basic composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [SetPluralRulesSymbol]: setPluralRules\r\n    };\r\n    {\r\n        composer.datetimeFormats = datetimeFormats;\r\n        composer.numberFormats = numberFormats;\r\n        composer.rt = rt;\r\n        composer.te = te;\r\n        composer.tm = tm;\r\n        composer.d = d;\r\n        composer.n = n;\r\n        composer.getDateTimeFormat = getDateTimeFormat;\r\n        composer.setDateTimeFormat = setDateTimeFormat;\r\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\r\n        composer.getNumberFormat = getNumberFormat;\r\n        composer.setNumberFormat = setNumberFormat;\r\n        composer.mergeNumberFormat = mergeNumberFormat;\r\n        composer[InejctWithOption] = options.__injectWithOption;\r\n        composer[TransrateVNodeSymbol] = transrateVNode;\r\n        composer[DatetimePartsSymbol] = datetimeParts;\r\n        composer[NumberPartsSymbol] = numberParts;\r\n    }\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = isString(options.locale) ? options.locale : DEFAULT_LOCALE;\r\n    const fallbackLocale = isString(options.fallbackLocale) ||\r\n        isArray(options.fallbackLocale) ||\r\n        isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = isBoolean(options.silentTranslationWarn) ||\r\n        isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = isBoolean(options.silentFallbackWarn) ||\r\n        isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = isBoolean(options.sync) ? options.sync : true;\r\n    if ((process.env.NODE_ENV !== 'production') && options.formatter) {\r\n        warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && options.preserveDirectiveContent) {\r\n        warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n    }\r\n    let messages = options.messages;\r\n    if (isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageResolver: options.messageResolver,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createVueI18n(options = {}, VueI18nLegacy) {\r\n    {\r\n        const composer = createComposer(convertComposerOptions(options));\r\n        // defines VueI18n\r\n        const vueI18n = {\r\n            // id\r\n            id: composer.id,\r\n            // locale\r\n            get locale() {\r\n                return composer.locale.value;\r\n            },\r\n            set locale(val) {\r\n                composer.locale.value = val;\r\n            },\r\n            // fallbackLocale\r\n            get fallbackLocale() {\r\n                return composer.fallbackLocale.value;\r\n            },\r\n            set fallbackLocale(val) {\r\n                composer.fallbackLocale.value = val;\r\n            },\r\n            // messages\r\n            get messages() {\r\n                return composer.messages.value;\r\n            },\r\n            // datetimeFormats\r\n            get datetimeFormats() {\r\n                return composer.datetimeFormats.value;\r\n            },\r\n            // numberFormats\r\n            get numberFormats() {\r\n                return composer.numberFormats.value;\r\n            },\r\n            // availableLocales\r\n            get availableLocales() {\r\n                return composer.availableLocales;\r\n            },\r\n            // formatter\r\n            get formatter() {\r\n                (process.env.NODE_ENV !== 'production') && warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n                // dummy\r\n                return {\r\n                    interpolate() {\r\n                        return [];\r\n                    }\r\n                };\r\n            },\r\n            set formatter(val) {\r\n                (process.env.NODE_ENV !== 'production') && warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n            },\r\n            // missing\r\n            get missing() {\r\n                return composer.getMissingHandler();\r\n            },\r\n            set missing(handler) {\r\n                composer.setMissingHandler(handler);\r\n            },\r\n            // silentTranslationWarn\r\n            get silentTranslationWarn() {\r\n                return isBoolean(composer.missingWarn)\r\n                    ? !composer.missingWarn\r\n                    : composer.missingWarn;\r\n            },\r\n            set silentTranslationWarn(val) {\r\n                composer.missingWarn = isBoolean(val) ? !val : val;\r\n            },\r\n            // silentFallbackWarn\r\n            get silentFallbackWarn() {\r\n                return isBoolean(composer.fallbackWarn)\r\n                    ? !composer.fallbackWarn\r\n                    : composer.fallbackWarn;\r\n            },\r\n            set silentFallbackWarn(val) {\r\n                composer.fallbackWarn = isBoolean(val) ? !val : val;\r\n            },\r\n            // modifiers\r\n            get modifiers() {\r\n                return composer.modifiers;\r\n            },\r\n            // formatFallbackMessages\r\n            get formatFallbackMessages() {\r\n                return composer.fallbackFormat;\r\n            },\r\n            set formatFallbackMessages(val) {\r\n                composer.fallbackFormat = val;\r\n            },\r\n            // postTranslation\r\n            get postTranslation() {\r\n                return composer.getPostTranslationHandler();\r\n            },\r\n            set postTranslation(handler) {\r\n                composer.setPostTranslationHandler(handler);\r\n            },\r\n            // sync\r\n            get sync() {\r\n                return composer.inheritLocale;\r\n            },\r\n            set sync(val) {\r\n                composer.inheritLocale = val;\r\n            },\r\n            // warnInHtmlMessage\r\n            get warnHtmlInMessage() {\r\n                return composer.warnHtmlMessage ? 'warn' : 'off';\r\n            },\r\n            set warnHtmlInMessage(val) {\r\n                composer.warnHtmlMessage = val !== 'off';\r\n            },\r\n            // escapeParameterHtml\r\n            get escapeParameterHtml() {\r\n                return composer.escapeParameter;\r\n            },\r\n            set escapeParameterHtml(val) {\r\n                composer.escapeParameter = val;\r\n            },\r\n            // preserveDirectiveContent\r\n            get preserveDirectiveContent() {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n                return true;\r\n            },\r\n            set preserveDirectiveContent(val) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n            },\r\n            // pluralizationRules\r\n            get pluralizationRules() {\r\n                return composer.pluralRules || {};\r\n            },\r\n            // for internal\r\n            __composer: composer,\r\n            // t\r\n            t(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = {};\r\n                let list = null;\r\n                let named = null;\r\n                if (!isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            rt(...args) {\r\n                return Reflect.apply(composer.rt, composer, [...args]);\r\n            },\r\n            // tc\r\n            tc(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = { plural: 1 };\r\n                let list = null;\r\n                let named = null;\r\n                if (!isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (isNumber(arg2)) {\r\n                    options.plural = arg2;\r\n                }\r\n                else if (isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (isString(arg3)) {\r\n                    options.locale = arg3;\r\n                }\r\n                else if (isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            // te\r\n            te(key, locale) {\r\n                return composer.te(key, locale);\r\n            },\r\n            // tm\r\n            tm(key) {\r\n                return composer.tm(key);\r\n            },\r\n            // getLocaleMessage\r\n            getLocaleMessage(locale) {\r\n                return composer.getLocaleMessage(locale);\r\n            },\r\n            // setLocaleMessage\r\n            setLocaleMessage(locale, message) {\r\n                composer.setLocaleMessage(locale, message);\r\n            },\r\n            // mergeLocaleMessage\r\n            mergeLocaleMessage(locale, message) {\r\n                composer.mergeLocaleMessage(locale, message);\r\n            },\r\n            // d\r\n            d(...args) {\r\n                return Reflect.apply(composer.d, composer, [...args]);\r\n            },\r\n            // getDateTimeFormat\r\n            getDateTimeFormat(locale) {\r\n                return composer.getDateTimeFormat(locale);\r\n            },\r\n            // setDateTimeFormat\r\n            setDateTimeFormat(locale, format) {\r\n                composer.setDateTimeFormat(locale, format);\r\n            },\r\n            // mergeDateTimeFormat\r\n            mergeDateTimeFormat(locale, format) {\r\n                composer.mergeDateTimeFormat(locale, format);\r\n            },\r\n            // n\r\n            n(...args) {\r\n                return Reflect.apply(composer.n, composer, [...args]);\r\n            },\r\n            // getNumberFormat\r\n            getNumberFormat(locale) {\r\n                return composer.getNumberFormat(locale);\r\n            },\r\n            // setNumberFormat\r\n            setNumberFormat(locale, format) {\r\n                composer.setNumberFormat(locale, format);\r\n            },\r\n            // mergeNumberFormat\r\n            mergeNumberFormat(locale, format) {\r\n                composer.mergeNumberFormat(locale, format);\r\n            },\r\n            // getChoiceIndex\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            getChoiceIndex(choice, choicesLength) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\r\n                return -1;\r\n            },\r\n            // for internal\r\n            __onComponentInstanceCreated(target) {\r\n                const { componentInstanceCreatedListener } = options;\r\n                if (componentInstanceCreatedListener) {\r\n                    componentInstanceCreatedListener(target, vueI18n);\r\n                }\r\n            }\r\n        };\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            vueI18n.__enableEmitter = (emitter) => {\r\n                const __composer = composer;\r\n                __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n            };\r\n            vueI18n.__disableEmitter = () => {\r\n                const __composer = composer;\r\n                __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n            };\r\n        }\r\n        return vueI18n;\r\n    }\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        validator: (val /* ComponetI18nScope */) => val === 'parent' || val === 'global',\r\n        default: 'parent' /* ComponetI18nScope */\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\nfunction getInterpolateArg(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n{ slots }, // SetupContext,\r\nkeys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot with list\r\n        const ret = slots.default ? slots.default() : [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return ret.reduce((slot, current) => {\r\n            return (slot = [\r\n                ...slot,\r\n                ...(isArray(current.children) ? current.children : [current])\r\n            ]);\r\n        }, []);\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getFragmentableTag(tag) {\r\n    return Fragment ;\r\n}\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '',\r\n *     term: ' xxx {0}'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        return () => {\r\n            const keys = Object.keys(slots).filter(key => key !== '_');\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = assign({}, attrs);\r\n            const tag = isString(props.tag) || isObject(props.tag)\r\n                ? props.tag\r\n                : getFragmentableTag();\r\n            return h(tag, assignedAttrs, children);\r\n        };\r\n    }\r\n};\n\nfunction isVNode(target) {\r\n    return isArray(target) && !isString(target[0]);\r\n}\r\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                const node = slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n                if (isVNode(node)) {\r\n                    node[0].key = `${part.type}-${index}`;\r\n                }\r\n                return node;\r\n            });\r\n        }\r\n        else if (isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = assign({}, attrs);\r\n        const tag = isString(props.tag) || isObject(props.tag)\r\n            ? props.tag\r\n            : getFragmentableTag();\r\n        return h(tag, assignedAttrs, children);\r\n    };\r\n}\n\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat =  /*defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$2(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const _process = (binding) => {\r\n        const { instance, modifiers, value } = binding;\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const composer = getComposer$2(i18n, instance.$);\r\n        if ((process.env.NODE_ENV !== 'production') && modifiers.preserve) {\r\n            warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        return [\r\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\r\n            composer\r\n        ];\r\n    };\r\n    const register = (el, binding) => {\r\n        const [textContent, composer] = _process(binding);\r\n        if (inBrowser && i18n.global === composer) {\r\n            // global scope only\r\n            el.__i18nWatcher = watch(composer.locale, () => {\r\n                binding.instance && binding.instance.$forceUpdate();\r\n            });\r\n        }\r\n        el.__composer = composer;\r\n        el.textContent = textContent;\r\n    };\r\n    const unregister = (el) => {\r\n        if (inBrowser && el.__i18nWatcher) {\r\n            el.__i18nWatcher();\r\n            el.__i18nWatcher = undefined;\r\n            delete el.__i18nWatcher;\r\n        }\r\n        if (el.__composer) {\r\n            el.__composer = undefined;\r\n            delete el.__composer;\r\n        }\r\n    };\r\n    const update = (el, { value }) => {\r\n        if (el.__composer) {\r\n            const composer = el.__composer;\r\n            const parsedValue = parseValue(value);\r\n            el.textContent = Reflect.apply(composer.t, composer, [\r\n                ...makeParams(parsedValue)\r\n            ]);\r\n        }\r\n    };\r\n    const getSSRProps = (binding) => {\r\n        const [textContent] = _process(binding);\r\n        return { textContent };\r\n    };\r\n    return {\r\n        created: register,\r\n        unmounted: unregister,\r\n        beforeUpdate: update,\r\n        getSSRProps\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if ((process.env.NODE_ENV !== 'production') && globalInstall && useI18nComponentName) {\r\n        warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    {\r\n        app.directive('t', vTDirective(i18n));\r\n    }\r\n}\n\nconst VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';\r\nlet devtoolsApi;\r\nasync function enableDevTools(app, i18n) {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            setupDevtoolsPlugin({\r\n                id: \"vue-devtools-plugin-vue-i18n\" /* PLUGIN */,\r\n                label: VueDevToolsLabels[\"vue-devtools-plugin-vue-i18n\" /* PLUGIN */],\r\n                packageName: 'vue-i18n',\r\n                homepage: 'https://vue-i18n.intlify.dev',\r\n                logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',\r\n                componentStateTypes: [VUE_I18N_COMPONENT_TYPES],\r\n                app: app // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            }, api => {\r\n                devtoolsApi = api;\r\n                api.on.visitComponentTree(({ componentInstance, treeNode }) => {\r\n                    updateComponentTreeTags(componentInstance, treeNode, i18n);\r\n                });\r\n                api.on.inspectComponent(({ componentInstance, instanceData }) => {\r\n                    if (componentInstance.vnode.el &&\r\n                        componentInstance.vnode.el.__VUE_I18N__ &&\r\n                        instanceData) {\r\n                        if (i18n.mode === 'legacy') {\r\n                            // ignore global scope on legacy mode\r\n                            if (componentInstance.vnode.el.__VUE_I18N__ !==\r\n                                i18n.global.__composer) {\r\n                                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\r\n                            }\r\n                        }\r\n                        else {\r\n                            inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\r\n                        }\r\n                    }\r\n                });\r\n                api.addInspector({\r\n                    id: \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */,\r\n                    label: VueDevToolsLabels[\"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */],\r\n                    icon: 'language',\r\n                    treeFilterPlaceholder: VueDevToolsPlaceholders[\"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */]\r\n                });\r\n                api.on.getInspectorTree(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        registerScope(payload, i18n);\r\n                    }\r\n                });\r\n                const roots = new Map();\r\n                api.on.getInspectorState(async (payload) => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        api.unhighlightElement();\r\n                        inspectScope(payload, i18n);\r\n                        if (payload.nodeId === 'global') {\r\n                            if (!roots.has(payload.app)) {\r\n                                const [root] = await api.getComponentInstances(payload.app);\r\n                                roots.set(payload.app, root);\r\n                            }\r\n                            api.highlightElement(roots.get(payload.app));\r\n                        }\r\n                        else {\r\n                            const instance = getComponentInstance(payload.nodeId, i18n);\r\n                            instance && api.highlightElement(instance);\r\n                        }\r\n                    }\r\n                });\r\n                api.on.editInspectorState(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        editScope(payload, i18n);\r\n                    }\r\n                });\r\n                api.addTimelineLayer({\r\n                    id: \"vue-i18n-timeline\" /* TIMELINE */,\r\n                    label: VueDevToolsLabels[\"vue-i18n-timeline\" /* TIMELINE */],\r\n                    color: VueDevToolsTimelineColors[\"vue-i18n-timeline\" /* TIMELINE */]\r\n                });\r\n                resolve(true);\r\n            });\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            reject(false);\r\n        }\r\n    });\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getI18nScopeLable(instance) {\r\n    return (instance.type.name ||\r\n        instance.type.displayName ||\r\n        instance.type.__file ||\r\n        'Anonymous');\r\n}\r\nfunction updateComponentTreeTags(instance, // eslint-disable-line @typescript-eslint/no-explicit-any\r\ntreeNode, i18n) {\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    if (instance && instance.vnode.el && instance.vnode.el.__VUE_I18N__) {\r\n        // add custom tags local scope only\r\n        if (instance.vnode.el.__VUE_I18N__ !== global) {\r\n            const tag = {\r\n                label: `i18n (${getI18nScopeLable(instance)} Scope)`,\r\n                textColor: 0x000000,\r\n                backgroundColor: 0xffcd19\r\n            };\r\n            treeNode.tags.push(tag);\r\n        }\r\n    }\r\n}\r\nfunction inspectComposer(instanceData, composer) {\r\n    const type = VUE_I18N_COMPONENT_TYPES;\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'locale',\r\n        editable: true,\r\n        value: composer.locale.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'availableLocales',\r\n        editable: false,\r\n        value: composer.availableLocales\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'fallbackLocale',\r\n        editable: true,\r\n        value: composer.fallbackLocale.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'inheritLocale',\r\n        editable: true,\r\n        value: composer.inheritLocale\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'messages',\r\n        editable: false,\r\n        value: getLocaleMessageValue(composer.messages.value)\r\n    });\r\n    {\r\n        instanceData.state.push({\r\n            type,\r\n            key: 'datetimeFormats',\r\n            editable: false,\r\n            value: composer.datetimeFormats.value\r\n        });\r\n        instanceData.state.push({\r\n            type,\r\n            key: 'numberFormats',\r\n            editable: false,\r\n            value: composer.numberFormats.value\r\n        });\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getLocaleMessageValue(messages) {\r\n    const value = {};\r\n    Object.keys(messages).forEach((key) => {\r\n        const v = messages[key];\r\n        if (isFunction(v) && 'source' in v) {\r\n            value[key] = getMessageFunctionDetails(v);\r\n        }\r\n        else if (isObject(v)) {\r\n            value[key] = getLocaleMessageValue(v);\r\n        }\r\n        else {\r\n            value[key] = v;\r\n        }\r\n    });\r\n    return value;\r\n}\r\nconst ESC = {\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    '&': '&amp;'\r\n};\r\nfunction escape(s) {\r\n    return s.replace(/[<>\"&]/g, escapeChar);\r\n}\r\nfunction escapeChar(a) {\r\n    return ESC[a] || a;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getMessageFunctionDetails(func) {\r\n    const argString = func.source ? `(\"${escape(func.source)}\")` : `(?)`;\r\n    return {\r\n        _custom: {\r\n            type: 'function',\r\n            display: `<span></span> ${argString}`\r\n        }\r\n    };\r\n}\r\nfunction registerScope(payload, i18n) {\r\n    payload.rootNodes.push({\r\n        id: 'global',\r\n        label: 'Global Scope'\r\n    });\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    for (const [keyInstance, instance] of i18n.__instances) {\r\n        // prettier-ignore\r\n        const composer = i18n.mode === 'composition'\r\n            ? instance\r\n            : instance.__composer;\r\n        if (global === composer) {\r\n            continue;\r\n        }\r\n        payload.rootNodes.push({\r\n            id: composer.id.toString(),\r\n            label: `${getI18nScopeLable(keyInstance)} Scope`\r\n        });\r\n    }\r\n}\r\nfunction getComponentInstance(nodeId, i18n) {\r\n    let instance = null;\r\n    if (nodeId !== 'global') {\r\n        for (const [component, composer] of i18n.__instances.entries()) {\r\n            if (composer.id.toString() === nodeId) {\r\n                instance = component;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return instance;\r\n}\r\nfunction getComposer$1(nodeId, i18n) {\r\n    if (nodeId === 'global') {\r\n        return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer;\r\n    }\r\n    else {\r\n        const instance = Array.from(i18n.__instances.values()).find(item => item.id.toString() === nodeId);\r\n        if (instance) {\r\n            return i18n.mode === 'composition'\r\n                ? instance\r\n                : instance.__composer;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nfunction inspectScope(payload, i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const composer = getComposer$1(payload.nodeId, i18n);\r\n    if (composer) {\r\n        // TODO:\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        payload.state = makeScopeInspectState(composer);\r\n    }\r\n    return null;\r\n}\r\nfunction makeScopeInspectState(composer) {\r\n    const state = {};\r\n    const localeType = 'Locale related info';\r\n    const localeStates = [\r\n        {\r\n            type: localeType,\r\n            key: 'locale',\r\n            editable: true,\r\n            value: composer.locale.value\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'fallbackLocale',\r\n            editable: true,\r\n            value: composer.fallbackLocale.value\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'availableLocales',\r\n            editable: false,\r\n            value: composer.availableLocales\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'inheritLocale',\r\n            editable: true,\r\n            value: composer.inheritLocale\r\n        }\r\n    ];\r\n    state[localeType] = localeStates;\r\n    const localeMessagesType = 'Locale messages info';\r\n    const localeMessagesStates = [\r\n        {\r\n            type: localeMessagesType,\r\n            key: 'messages',\r\n            editable: false,\r\n            value: getLocaleMessageValue(composer.messages.value)\r\n        }\r\n    ];\r\n    state[localeMessagesType] = localeMessagesStates;\r\n    {\r\n        const datetimeFormatsType = 'Datetime formats info';\r\n        const datetimeFormatsStates = [\r\n            {\r\n                type: datetimeFormatsType,\r\n                key: 'datetimeFormats',\r\n                editable: false,\r\n                value: composer.datetimeFormats.value\r\n            }\r\n        ];\r\n        state[datetimeFormatsType] = datetimeFormatsStates;\r\n        const numberFormatsType = 'Datetime formats info';\r\n        const numberFormatsStates = [\r\n            {\r\n                type: numberFormatsType,\r\n                key: 'numberFormats',\r\n                editable: false,\r\n                value: composer.numberFormats.value\r\n            }\r\n        ];\r\n        state[numberFormatsType] = numberFormatsStates;\r\n    }\r\n    return state;\r\n}\r\nfunction addTimelineEvent(event, payload) {\r\n    if (devtoolsApi) {\r\n        let groupId;\r\n        if (payload && 'groupId' in payload) {\r\n            groupId = payload.groupId;\r\n            delete payload.groupId;\r\n        }\r\n        devtoolsApi.addTimelineEvent({\r\n            layerId: \"vue-i18n-timeline\" /* TIMELINE */,\r\n            event: {\r\n                title: event,\r\n                groupId,\r\n                time: Date.now(),\r\n                meta: {},\r\n                data: payload || {},\r\n                logType: event === \"compile-error\" /* COMPILE_ERROR */\r\n                    ? 'error'\r\n                    : event === \"fallback\" /* FALBACK */ ||\r\n                        event === \"missing\" /* MISSING */\r\n                        ? 'warning'\r\n                        : 'default'\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction editScope(payload, i18n) {\r\n    const composer = getComposer$1(payload.nodeId, i18n);\r\n    if (composer) {\r\n        const [field] = payload.path;\r\n        if (field === 'locale' && isString(payload.state.value)) {\r\n            composer.locale.value = payload.state.value;\r\n        }\r\n        else if (field === 'fallbackLocale' &&\r\n            (isString(payload.state.value) ||\r\n                isArray(payload.state.value) ||\r\n                isObject(payload.state.value))) {\r\n            composer.fallbackLocale.value = payload.state.value;\r\n        }\r\n        else if (field === 'inheritLocale' && isBoolean(payload.state.value)) {\r\n            composer.inheritLocale = payload.state.value;\r\n        }\r\n    }\r\n}\n\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            if (options.__i18nGlobal) {\r\n                adjustI18nResources(composer, options, options);\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n            /* istanbul ignore if */\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                this.$el &&\r\n                this.$i18n) {\r\n                this.$el.__VUE_I18N__ = this.$i18n.__composer;\r\n                const emitter = (this.__v_emitter =\r\n                    createEmitter());\r\n                const _vueI18n = this.$i18n;\r\n                _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\r\n                emitter.on('*', addTimelineEvent);\r\n            }\r\n        },\r\n        unmounted() {\r\n            const instance = getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            /* istanbul ignore if */\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                this.$el &&\r\n                this.$el.__VUE_I18N__) {\r\n                if (this.__v_emitter) {\r\n                    this.__v_emitter.off('*', addTimelineEvent);\r\n                    delete this.__v_emitter;\r\n                }\r\n                if (this.$i18n) {\r\n                    const _vueI18n = this.$i18n;\r\n                    _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();\r\n                    delete this.$el.__VUE_I18N__;\r\n                }\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst I18nInjectionKey = \r\n/* #__PURE__*/ makeSymbol('global-vue-i18n');\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction createI18n(options = {}, VueI18nLegacy) {\r\n    // prettier-ignore\r\n    const __legacyMode = __VUE_I18N_LEGACY_API__ && isBoolean(options.legacy)\r\n            ? options.legacy\r\n            : __VUE_I18N_LEGACY_API__;\r\n    // prettier-ignore\r\n    const __globalInjection = isBoolean(options.globalInjection)\r\n        ? options.globalInjection\r\n        : true;\r\n    // prettier-ignore\r\n    const __allowComposition = __VUE_I18N_LEGACY_API__ && __legacyMode\r\n            ? !!options.allowComposition\r\n            : true;\r\n    const __instances = new Map();\r\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\r\n    const symbol = makeSymbol((process.env.NODE_ENV !== 'production') ? 'vue-i18n' : '');\r\n    function __getInstance(component) {\r\n        return __instances.get(component) || null;\r\n    }\r\n    function __setInstance(component, instance) {\r\n        __instances.set(component, instance);\r\n    }\r\n    function __deleteInstance(component) {\r\n        __instances.delete(component);\r\n    }\r\n    {\r\n        const i18n = {\r\n            // mode\r\n            get mode() {\r\n                return __VUE_I18N_LEGACY_API__ && __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition';\r\n            },\r\n            // allowComposition\r\n            get allowComposition() {\r\n                return __allowComposition;\r\n            },\r\n            // install plugin\r\n            async install(app, ...options) {\r\n                if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                    !false) {\r\n                    app.__VUE_I18N__ = i18n;\r\n                }\r\n                // setup global provider\r\n                app.__VUE_I18N_SYMBOL__ = symbol;\r\n                app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n                // global method and properties injection for Composition API\r\n                if (!__legacyMode && __globalInjection) {\r\n                    injectGlobalFields(app, i18n.global);\r\n                }\r\n                // install built-in components and directive\r\n                if (__VUE_I18N_FULL_INSTALL__) {\r\n                    apply(app, i18n, ...options);\r\n                }\r\n                // setup mixin for Legacy API\r\n                if (__VUE_I18N_LEGACY_API__ && __legacyMode) {\r\n                    app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n                }\r\n                // release global scope\r\n                const unmountApp = app.unmount;\r\n                app.unmount = () => {\r\n                    i18n.dispose();\r\n                    unmountApp();\r\n                };\r\n                // setup vue-devtools plugin\r\n                if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\r\n                    const ret = await enableDevTools(app, i18n);\r\n                    if (!ret) {\r\n                        throw createI18nError(I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);\r\n                    }\r\n                    const emitter = createEmitter();\r\n                    if (__legacyMode) {\r\n                        const _vueI18n = __global;\r\n                        _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\r\n                    }\r\n                    else {\r\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                        const _composer = __global;\r\n                        _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\r\n                    }\r\n                    emitter.on('*', addTimelineEvent);\r\n                }\r\n            },\r\n            // global accessor\r\n            get global() {\r\n                return __global;\r\n            },\r\n            dispose() {\r\n                globalScope.stop();\r\n            },\r\n            // @internal\r\n            __instances,\r\n            // @internal\r\n            __getInstance,\r\n            // @internal\r\n            __setInstance,\r\n            // @internal\r\n            __deleteInstance\r\n        };\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction useI18n(options = {}) {\r\n    const instance = getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\r\n    }\r\n    if (!instance.isCE &&\r\n        instance.appContext.app != null &&\r\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\r\n    }\r\n    const i18n = getI18nInstance(instance);\r\n    const global = getGlobalComposer(i18n);\r\n    const componentOptions = getComponentOptions(instance);\r\n    const scope = getScope(options, componentOptions);\r\n    if (__VUE_I18N_LEGACY_API__) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (i18n.mode === 'legacy' && !options.__useComponent) {\r\n            if (!i18n.allowComposition) {\r\n                throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\r\n            }\r\n            return useI18nForLegacy(instance, scope, global, options);\r\n        }\r\n    }\r\n    if (scope === 'global') {\r\n        adjustI18nResources(global, options, componentOptions);\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const composerOptions = assign({}, options);\r\n        if ('__i18n' in componentOptions) {\r\n            composerOptions.__i18n = componentOptions.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance, composer);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst castToVueI18n =  (i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) => {\r\n    if (!(__VUE_I18N_BRIDGE__ in i18n)) {\r\n        throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\r\n    }\r\n    return i18n;\r\n};\r\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const scope = effectScope();\r\n    {\r\n        const obj = __VUE_I18N_LEGACY_API__ && legacyMode\r\n            ? scope.run(() => createVueI18n(options))\r\n            : scope.run(() => createComposer(options));\r\n        if (obj == null) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        return [scope, obj];\r\n    }\r\n}\r\nfunction getI18nInstance(instance) {\r\n    {\r\n        const i18n = inject(!instance.isCE\r\n            ? instance.appContext.app.__VUE_I18N_SYMBOL__\r\n            : I18nInjectionKey);\r\n        /* istanbul ignore if */\r\n        if (!i18n) {\r\n            throw createI18nError(!instance.isCE\r\n                ? I18nErrorCodes.UNEXPECTED_ERROR\r\n                : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\r\n        }\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getScope(options, componentOptions) {\r\n    // prettier-ignore\r\n    return isEmptyObject(options)\r\n        ? ('__i18n' in componentOptions)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n}\r\nfunction getGlobalComposer(i18n) {\r\n    // prettier-ignore\r\n    return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer\r\n        ;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            if (__VUE_I18N_LEGACY_API__) {\r\n                const vueI18n = i18nInternal.__getInstance(current);\r\n                if (vueI18n != null) {\r\n                    composer = vueI18n\r\n                        .__composer;\r\n                    if (useComponent &&\r\n                        composer &&\r\n                        !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) {\r\n                        composer = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    let emitter = null;\r\n    {\r\n        onMounted(() => {\r\n            // inject composer instance to DOM for intlify-devtools\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                target.vnode.el) {\r\n                target.vnode.el.__VUE_I18N__ = composer;\r\n                emitter = createEmitter();\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const _composer = composer;\r\n                _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\r\n                emitter.on('*', addTimelineEvent);\r\n            }\r\n        }, target);\r\n        onUnmounted(() => {\r\n            // remove composer instance from DOM for intlify-devtools\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                target.vnode.el &&\r\n                target.vnode.el.__VUE_I18N__) {\r\n                emitter && emitter.off('*', addTimelineEvent);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const _composer = composer;\r\n                _composer[DisableEmitter] && _composer[DisableEmitter]();\r\n                delete target.vnode.el.__VUE_I18N__;\r\n            }\r\n            i18n.__deleteInstance(target);\r\n        }, target);\r\n    }\r\n}\r\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const isLocale = scope === 'local';\r\n    const _composer = shallowRef(null);\r\n    if (isLocale &&\r\n        instance.proxy &&\r\n        !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\r\n        throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\r\n    }\r\n    const _inheritLocale = isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.locale.value\r\n        : isString(options.locale)\r\n            ? options.locale\r\n            : DEFAULT_LOCALE);\r\n    const _fallbackLocale = ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.fallbackLocale.value\r\n        : isString(options.fallbackLocale) ||\r\n            isArray(options.fallbackLocale) ||\r\n            isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = ref(isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _numberFormats = ref(isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _missingWarn = isLocale\r\n        ? root.missingWarn\r\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackWarn = isLocale\r\n        ? root.fallbackWarn\r\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackRoot = isLocale\r\n        ? root.fallbackRoot\r\n        : isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    const _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    const _missing = isFunction(options.missing) ? options.missing : null;\r\n    // postTranslation handler\r\n    const _postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    const _warnHtmlMessage = isLocale\r\n        ? root.warnHtmlMessage\r\n        : isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    const _escapeParameter = !!options.escapeParameter;\r\n    // prettier-ignore\r\n    const _modifiers = isLocale\r\n        ? root.modifiers\r\n        : isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    const _pluralRules = options.pluralRules || (isLocale && root.pluralRules);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = computed({\r\n        get: () => {\r\n            return _composer.value ? _composer.value.locale.value : _locale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.locale.value = val;\r\n            }\r\n            _locale.value = val;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = computed({\r\n        get: () => {\r\n            return _composer.value\r\n                ? _composer.value.fallbackLocale.value\r\n                : _fallbackLocale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackLocale.value = val;\r\n            }\r\n            _fallbackLocale.value = val;\r\n        }\r\n    });\r\n    // messages\r\n    const messages = computed(() => {\r\n        if (_composer.value) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _composer.value.messages.value;\r\n        }\r\n        else {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _messages.value;\r\n        }\r\n    });\r\n    const datetimeFormats = computed(() => _datetimeFormats.value);\r\n    const numberFormats = computed(() => _numberFormats.value);\r\n    function getPostTranslationHandler() {\r\n        return _composer.value\r\n            ? _composer.value.getPostTranslationHandler()\r\n            : _postTranslation;\r\n    }\r\n    function setPostTranslationHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setPostTranslationHandler(handler);\r\n        }\r\n    }\r\n    function getMissingHandler() {\r\n        return _composer.value ? _composer.value.getMissingHandler() : _missing;\r\n    }\r\n    function setMissingHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setMissingHandler(handler);\r\n        }\r\n    }\r\n    function warpWithDeps(fn) {\r\n        trackReactivityValues();\r\n        return fn();\r\n    }\r\n    function t(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function rt(...args) {\r\n        return _composer.value\r\n            ? Reflect.apply(_composer.value.rt, null, [...args])\r\n            : '';\r\n    }\r\n    function d(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function n(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function tm(key) {\r\n        return _composer.value ? _composer.value.tm(key) : {};\r\n    }\r\n    function te(key, locale) {\r\n        return _composer.value ? _composer.value.te(key, locale) : false;\r\n    }\r\n    function getLocaleMessage(locale) {\r\n        return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\r\n    }\r\n    function setLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.setLocaleMessage(locale, message);\r\n            _messages.value[locale] = message;\r\n        }\r\n    }\r\n    function mergeLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeLocaleMessage(locale, message);\r\n        }\r\n    }\r\n    function getDateTimeFormat(locale) {\r\n        return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\r\n    }\r\n    function setDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setDateTimeFormat(locale, format);\r\n            _datetimeFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeDateTimeFormat(locale, format);\r\n        }\r\n    }\r\n    function getNumberFormat(locale) {\r\n        return _composer.value ? _composer.value.getNumberFormat(locale) : {};\r\n    }\r\n    function setNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setNumberFormat(locale, format);\r\n            _numberFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeNumberFormat(locale, format);\r\n        }\r\n    }\r\n    const wrapper = {\r\n        get id() {\r\n            return _composer.value ? _composer.value.id : -1;\r\n        },\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get inheritLocale() {\r\n            return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            if (_composer.value) {\r\n                _composer.value.inheritLocale = val;\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return _composer.value\r\n                ? _composer.value.availableLocales\r\n                : Object.keys(_messages.value);\r\n        },\r\n        get modifiers() {\r\n            return (_composer.value ? _composer.value.modifiers : _modifiers);\r\n        },\r\n        get pluralRules() {\r\n            return (_composer.value ? _composer.value.pluralRules : _pluralRules);\r\n        },\r\n        get isGlobal() {\r\n            return _composer.value ? _composer.value.isGlobal : false;\r\n        },\r\n        get missingWarn() {\r\n            return _composer.value ? _composer.value.missingWarn : _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackWarn() {\r\n            return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackRoot() {\r\n            return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackRoot = val;\r\n            }\r\n        },\r\n        get fallbackFormat() {\r\n            return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackFormat = val;\r\n            }\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _composer.value\r\n                ? _composer.value.warnHtmlMessage\r\n                : _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            if (_composer.value) {\r\n                _composer.value.warnHtmlMessage = val;\r\n            }\r\n        },\r\n        get escapeParameter() {\r\n            return _composer.value\r\n                ? _composer.value.escapeParameter\r\n                : _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            if (_composer.value) {\r\n                _composer.value.escapeParameter = val;\r\n            }\r\n        },\r\n        t,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        rt,\r\n        d,\r\n        n,\r\n        tm,\r\n        te,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat\r\n    };\r\n    function sync(composer) {\r\n        composer.locale.value = _locale.value;\r\n        composer.fallbackLocale.value = _fallbackLocale.value;\r\n        Object.keys(_messages.value).forEach(locale => {\r\n            composer.mergeLocaleMessage(locale, _messages.value[locale]);\r\n        });\r\n        Object.keys(_datetimeFormats.value).forEach(locale => {\r\n            composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\r\n        });\r\n        Object.keys(_numberFormats.value).forEach(locale => {\r\n            composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\r\n        });\r\n        composer.escapeParameter = _escapeParameter;\r\n        composer.fallbackFormat = _fallbackFormat;\r\n        composer.fallbackRoot = _fallbackRoot;\r\n        composer.fallbackWarn = _fallbackWarn;\r\n        composer.missingWarn = _missingWarn;\r\n        composer.warnHtmlMessage = _warnHtmlMessage;\r\n    }\r\n    onBeforeMount(() => {\r\n        if (instance.proxy == null || instance.proxy.$i18n == null) {\r\n            throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const composer = (_composer.value = instance.proxy.$i18n\r\n            .__composer);\r\n        if (scope === 'global') {\r\n            _locale.value = composer.locale.value;\r\n            _fallbackLocale.value = composer.fallbackLocale.value;\r\n            _messages.value = composer.messages.value;\r\n            _datetimeFormats.value = composer.datetimeFormats.value;\r\n            _numberFormats.value = composer.numberFormats.value;\r\n        }\r\n        else if (isLocale) {\r\n            sync(composer);\r\n        }\r\n    });\r\n    return wrapper;\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'] ;\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const wrap = isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\nregisterMessageCompiler(compileToFunction);\r\n// register message resolver at vue-i18n\r\nregisterMessageResolver(resolveValue);\r\n// register fallback locale at vue-i18n\r\nregisterLocaleFallbacker(fallbackWithLocaleChain);\r\n{\r\n    initFeatureFlags();\r\n}\r\n// NOTE: experimental !!\r\nif ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n    const target = getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\r\nif ((process.env.NODE_ENV !== 'production')) ;\n\nexport { DatetimeFormat, I18nInjectionKey, NumberFormat, Translation, VERSION, castToVueI18n, createI18n, useI18n, vTDirective };\n"],"names":["resolvePageComponent","path","pages","page","root","factory","module","this","NProgress","Settings","options","key","value","n","started","clamp","progress","bar","speed","ease","queue","next","css","barPositionCSS","work","force","amount","initial","current","$promise","fromStart","addClass","perc","toBarPerc","parent","spinner","removeElement","removeClass","bodyStyle","vendorPrefix","min","max","barCSS","pending","fn","cssPrefixes","cssProps","camelCase","string","match","letter","getVendorProp","name","style","i","capName","vendorName","getStyleProp","applyCss","element","prop","properties","args","hasClass","list","classList","oldList","newList","e","require$$0","t","r","o","s","InertiaProgress","a","p","d","l","inBrowser","hasSymbol","makeSymbol","generateFormatCacheKey","locale","source","friendlyJSONstringify","json","isNumber","val","isDate","toTypeString","isRegExp","isEmptyObject","isPlainObject","warn","msg","err","assign","_globalThis","getGlobalThis","escapeHtml","rawText","hasOwnProperty","hasOwn","obj","isArray","isFunction","isString","isBoolean","isObject","objectToString","toDisplayString","CompileErrorCodes","createCompileError","code","loc","domain","messages","error","defaultOnError","createPosition","line","column","offset","createLocation","start","end","CHAR_SP","CHAR_CR","CHAR_LF","CHAR_LS","CHAR_PS","createScanner","str","_buf","_index","_line","_column","_peekOffset","isCRLF","index","isLF","isPS","isLS","isLineEnd","peekOffset","charAt","currentChar","currentPeek","peek","reset","resetPeek","skipToPeek","target","EOF","LITERAL_DELIMITER","ERROR_DOMAIN$1","createTokenizer","location","_scnr","currentOffset","currentPosition","_initLoc","_initOffset","_context","context","onError","emitError","pos","ctx","getToken","type","token","getEndToken","eat","scnr","ch","peekSpaces","buf","skipSpaces","isIdentifierStart","cc","isNumberStart","isNamedIdentifierStart","currentType","ret","isListIdentifierStart","isLiteralStart","isLinkedDotStart","isLinkedModifierStart","isLinkedDelimiterStart","isLinkedReferStart","isPluralStart","detectModuloStart","spaces","isTextStart","hasSpace","prev","detectModulo","takeChar","takeIdentifierChar","takeDigit","takeHexDigit","getDigits","num","readModulo","readText","readNamedIdentifier","readListIdentifier","readLiteral","literal","x","readEscapeSequence","readUnicodeEscapeSequence","unicode","digits","sequence","readInvalidIdentifier","identifiers","closure","readLinkedModifier","readLinkedRefer","detect","readPlural","plural","readTokenInPlaceholder","readTokenInLinked","validNamedIdentifier","validListIdentifier","validLiteral","readToken","isModulo","nextToken","startLoc","endLoc","ERROR_DOMAIN","KNOWN_ESCAPES","fromEscapeSequence","codePoint4","codePoint6","codePoint","createParser","tokenzer","startNode","node","endNode","parseText","tokenizer","parseList","parseNamed","parseLiteral","parseLinkedModifier","getTokenCaption","parseLinkedKey","parseLinked","linkedNode","parsed","nextContext","emptyLinkedKeyNode","parseMessage","startOffset","endOffset","parsePlural","msgNode","hasEmptyMessage","parseResource","parse","createTransformer","ast","traverseNodes","nodes","transformer","traverseNode","transform","createCodeGenerator","sourceMap","filename","breakLineCode","_needIndent","push","_newline","withBreakLine","_breakLineCode","indent","withNewLine","level","deindent","newline","generateLinkedNode","generator","helper","generateNode","generateMessageNode","needIndent","length","generatePluralNode","generateResource","generate","mode","helpers","map","baseCompile","assignedOptions","IntlifyDevToolsHooks","pathStateMachine","literalValueRE","isLiteral","exp","stripQuotes","b","getPathCharType","formatSubPath","trimmed","keys","subPathDepth","c","newChar","transition","action","typeMap","actions","maybeUnescapeQuote","nextChar","cache","resolveWithKeyValue","resolveValue","hit","len","last","DEFAULT_MODIFIER","DEFAULT_MESSAGE","DEFAULT_MESSAGE_DATA_TYPE","DEFAULT_NORMALIZE","values","DEFAULT_INTERPOLATE","pluralDefault","choice","choicesLength","getPluralIndex","normalizeNamed","pluralIndex","props","createMessageContext","pluralRule","orgPluralRule","_list","_named","named","message","_modifier","normalize","interpolate","arg1","arg2","modifier","devtools","setDevToolsHook","hook","initI18nDevTools","i18n","version","meta","translateDevTools","createDevToolsHook","payloads","fallbackWithSimple","fallback","fallbackWithLocaleChain","startLocale","DEFAULT_LOCALE","chain","block","appendBlockToChain","defaults","blocks","follow","appendLocaleToChain","tokens","appendItemToChain","VERSION","NOT_REOSLVED","MISSING_RESOLVE_VALUE","capitalize","getDefaultLinkedModifiers","_compiler","registerMessageCompiler","compiler","_resolver","registerMessageResolver","resolver","_fallbacker","registerLocaleFallbacker","fallbacker","_additionalMeta","setAdditionalMeta","getAdditionalMeta","_fallbackContext","setFallbackContext","getFallbackContext","_cid","createCoreContext","fallbackLocale","datetimeFormats","numberFormats","modifiers","pluralRules","missing","missingWarn","fallbackWarn","fallbackFormat","unresolving","postTranslation","processor","warnHtmlMessage","escapeParameter","messageCompiler","messageResolver","localeFallbacker","fallbackContext","onWarn","internalOptions","__datetimeFormatters","__numberFormatters","__meta","handleMissing","updateFallbackLocale","defaultOnCacheKey","compileCache","compileToFunction","cached","occurred","inc","CoreErrorCodes","createCoreError","NOOP_MESSAGE_FUNCTION","isMessageFunction","translate","parseTranslateArgs","resolvedMessage","defaultMsgOrKey","enableDefaultMsg","escapeParams","formatScope","targetLocale","resolveMessageFormat","format","cacheBaseKey","errorDetector","compileMessageFormat","ctxOptions","getMessageContextOptions","msgContext","messaged","evaluateMessage","item","locales","missingRet","getCompileOptions","msgCtx","arg3","datetime","overrides","parseDateTimeArgs","part","datetimeFormat","id","formatter","DATETIME_FORMAT_OPTIONS_KEYS","arg4","matches","dateTime","clearDateTimeFormat","number","parseNumberArgs","numberFormat","NUMBER_FORMAT_OPTIONS_KEYS","clearNumberFormat","initFeatureFlags","I18nErrorCodes","createI18nError","TransrateVNodeSymbol","DatetimePartsSymbol","NumberPartsSymbol","SetPluralRulesSymbol","InejctWithOption","handleFlatJson","subKeys","lastIndex","currentObj","getLocaleMessages","__i18n","flatJson","custom","resource","deepCopy","isNotObjectOrIsArray","src","des","getComponentOptions","instance","adjustI18nResources","global","componentOptions","createTextNode","createVNode","Text","DEVTOOLS_META","composerID","defineCoreMissingHandler","getCurrentInstance","getMetaInfo","createComposer","VueI18nLegacy","__root","_isGlobal","_inheritLocale","_locale","ref","_fallbackLocale","_messages","_datetimeFormats","_numberFormats","_missingWarn","_fallbackWarn","_fallbackRoot","_fallbackFormat","_missing","_runtimeMissing","_postTranslation","_warnHtmlMessage","_escapeParameter","_modifiers","_pluralRules","trackReactivityValues","computed","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","wrapWithDeps","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","rt","transrateVNode","numberParts","datetimeParts","setPluralRules","rules","te","getLocaleMessage","resolveMessages","targetLocaleMessages","messageValue","tm","setLocaleMessage","mergeLocaleMessage","getDateTimeFormat","setDateTimeFormat","mergeDateTimeFormat","getNumberFormat","setNumberFormat","mergeNumberFormat","watch","composer","baseFormatProps","getInterpolateArg","slots","slot","arg","getFragmentableTag","tag","Fragment","Translation","attrs","useI18n","children","assignedAttrs","h","isVNode","renderFormatter","slotKeys","partFormatter","parts","NumberFormat","DatetimeFormat","getComposer$2","i18nInternal","vueI18n","vTDirective","_process","binding","parsedValue","parseValue","makeParams","el","textContent","apply","app","pluginOptions","useI18nComponentName","I18nInjectionKey","createI18n","__globalInjection","__allowComposition","__instances","globalScope","__global","createGlobal","symbol","__getInstance","component","__setInstance","__deleteInstance","injectGlobalFields","unmountApp","getI18nInstance","getGlobalComposer","scope","getScope","getComposer","composerOptions","setupLifeCycle","legacyMode","effectScope","inject","useComponent","onMounted","onUnmounted","globalExportProps","globalExportMethods","desc","wrap","isRef","method"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}