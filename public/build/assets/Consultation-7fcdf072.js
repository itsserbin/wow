import c from"./Modal-4a985b91.js";import d from"./Input-f389d631.js";import{_ as p}from"./InputError-f28ae438.js";import{s as i}from"./swal-03cac797.js";import{U as f}from"./maska-224de96c.js";import{k as h,l as a,s as r,y as v,t as m,p as s,B as _,x,n as w,m as g,q as k,F as b}from"./index-a01126e2.js";import"./Loader-4079abec.js";import"./_plugin-vue_export-helper-c27b6911.js";const C=s("div",{class:"text-[24px] text-[#000] font-bold mb-5 text-center"},"Потрібна консультація?",-1),L=s("div",{class:"text-[20px] text-[#000] mb-5 text-center"}," Залиште свій номер телефону, і наш консультант вам зателефонує ",-1),V={class:"block"},z={__name:"Consultation",setup(y){const e=h({show:!1,isShow:!0,isLoading:!1,item:{name:null,phone:null,comment:null},errors:[]});setTimeout(()=>{e.value.isShow&&t()},6e4);function t(){e.value.show=!e.value.show}async function u(){e.value.isLoading=!0,await axios.post(route("api.v1.callback.create"),e.value.item).then(()=>{i({icon:"success",title:"Ваш запит надіслано!",text:"Наш оператор зателефонує Вам протягом 5 хвилин"}),e.value.item={phone:null},e.value.isLoading=!1,t()}).catch(({response:l})=>{i({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"}),e.value.errors=l.data,e.value.isLoading=!1})}return(l,n)=>e.value.show?(a(),r(c,{key:0,onCloseModal:t,size:"medium","submit-button-text":"Відправити",onSubmitForm:u,onClickCancel:t,"is-loading":e.value.isLoading},{content:v(()=>[C,L,s("div",V,[_(w(d,{"data-maska":"+38 (0##) ###-##-##",placeholder:"+380",modelValue:e.value.item.phone,"onUpdate:modelValue":n[0]||(n[0]=o=>e.value.item.phone=o),type:"tel"},null,8,["modelValue"]),[[x(f)]]),e.value.errors.phone?(a(!0),g(b,{key:0},k(e.value.errors.phone,o=>(a(),r(p,{message:o},null,8,["message"]))),256)):m("",!0)])]),_:1},8,["is-loading"])):m("",!0)}};export{z as default};
