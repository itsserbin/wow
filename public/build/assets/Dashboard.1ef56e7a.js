import B from"./Chart.9b20efa1.js";import D from"./LastParams.439b145e.js";import V from"./Indicators.a5cbceb3.js";import $ from"./Table.f84613b1.js";import{y as i,G as C,z as L,a0 as o,W as v,$ as r,S as l,M as _,L as N,Y as S,F as w,K as u,Z as d,X as F}from"./___vite-browser-external_commonjs-proxy.bd54111c.js";import"./index.66d5fbe0.js";import"./app.efa4ff03.js";const M=F(" Dashboard "),O={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},P={class:"block"},W={__name:"Dashboard",setup(T){const e=i({date:[],filter:null,last:"one-month",page:1}),a=i({table:null,indicators2:null,chart:null,indicators:null}),m=i({statistics:[]});C(()=>{n(),axios.get(route("api.dashboard")).then(({data:t})=>m.value.statistics=t.countOrders).catch(t=>console.log(t))});const s=L(()=>{const t={};return e.value.filter&&(t.filter=e.value.filter),e.value.date.length===2&&(t.date_start=e.value.date[0],t.date_end=e.value.date[1]),e.value.last&&e.value.last!=="range"&&(t.last=e.value.last),t.page=e.value.page,t});function h(t){t?e.value.last=t:e.value={date:[],filter:null,last:null,page:1},n()}function f(){e.value.last="range",n()}function n(){axios.get(route("api.statistics.orders.index",s.value)).then(({data:t})=>a.value.table=t.result.data).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",s.value)).then(({data:t})=>a.value.chart=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators",s.value)).then(({data:t})=>a.value.indicators=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators2",s.value)).then(({data:t})=>a.value.indicators2=t.result).catch(t=>console.log(t))}return(t,p)=>{const g=r("card-component"),b=r("label-component"),x=r("Datepicker"),k=r("auth-layout");return l(),o(k,{title:"Dashboard"},{header:v(()=>[M]),default:v(()=>[_("div",O,[(l(!0),N(w,null,S(m.value.statistics,(c,y)=>(l(),o(g,{class:"text-center",title:y,description:c},null,8,["title","description"]))),256))]),_("div",P,[u(b,{value:"\u0424\u0456\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0430\u0442\u0456"}),u(x,{modelValue:e.value.date,"onUpdate:modelValue":[p[0]||(p[0]=c=>e.value.date=c),f],class:"w-100",locale:"ru",placeholder:"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0434\u0430\u0442\u0443",autoApply:"",monthChangeOnScroll:!1,enableTimePicker:!1,range:"",utc:""},null,8,["modelValue"])]),u(D,{"active-item":e.value.last,onSortByLast:h},null,8,["active-item"]),a.value.chart?(l(),o(B,{key:0,chartData:a.value.chart},null,8,["chartData"])):d("",!0),a.value.indicators?(l(),o(V,{key:1,data:a.value.indicators},null,8,["data"])):d("",!0),a.value.table?(l(),o($,{key:2,data:a.value.table},null,8,["data"])):d("",!0)]),_:1})}}};export{W as default};
