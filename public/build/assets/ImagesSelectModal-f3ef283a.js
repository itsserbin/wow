import{r as x,o as M,D as n,p as s,s as u,v as c,k as m,z as g,P as w,g as r,i as l,F as C,x as U,A as V,af as I,j as p}from"./app-6b874a0d.js";import{_ as $}from"./UploadImagesModal-b122b21d.js";const F={key:1},L={class:"grid grid-cols-2 md:grid-cols-5 mt-3"},P={class:"block m-1"},B=["type","value","id"],j=["for"],N=["srcset"],D=["src"],z={key:0,class:"row flex justify-center my-5"},E={__name:"ImagesSelectModal",props:{multiple:{type:Boolean,default:!1}},emits:["closeModal","submitForm"],setup(v){const e=x({images:[],isLoading:!1,isImagesUploadModal:!1,selected:[],currentPage:1});M(()=>{d()});function f(){i(),d()}function i(){e.value.isImagesUploadModal=!e.value.isImagesUploadModal}function d(a){e.value.isLoading=!0,a&&(e.value.currentPage=a),axios.get(route("api.images.index",{page:e.value.currentPage})).then(({data:o})=>{e.value.images=o.result,e.value.isLoading=!1}).catch(o=>{console.log(o),e.value.isLoading=!1})}return(a,o)=>{const b=n("button-component"),_=n("loader-component"),y=n("pagination"),k=n("modal-component");return s(),u(k,{onCloseModal:o[2]||(o[2]=t=>a.$emit("closeModal")),"submit-button-text":"Зберегти","cancel-button-text":"Відмінити",onSubmitForm:o[3]||(o[3]=t=>a.$emit("submitForm",e.value.selected)),onClickCancel:o[4]||(o[4]=t=>a.$emit("closeModal")),size:"extralarge"},{title:c(()=>[m("Вибір зображення")]),content:c(()=>[g(b,{type:"btn",onClick:w(i,["prevent"])},{default:c(()=>[m(" Завантажити ")]),_:1},8,["onClick"]),e.value.isLoading?(s(),u(_,{key:0})):(s(),r("div",F,[l("div",L,[(s(!0),r(C,null,U(e.value.images.data,t=>(s(),r("div",P,[V(l("input",{type:v.multiple?"checkbox":"radio",name:"images","onUpdate:modelValue":o[0]||(o[0]=h=>e.value.selected=h),value:t,id:t.id,class:"hidden peer"},null,8,B),[[I,e.value.selected]]),l("label",{for:t.id,class:"inline-flex justify-between items-center p-5 w-full text-gray-500 bg-white rounded-lg border-2 border-gray-200 cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 peer-checked:border-blue-600 hover:text-gray-600 dark:peer-checked:text-gray-300 peer-checked:text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-900"},[l("picture",null,[l("source",{srcset:a.route("images.350",t.webp_src),type:"image/webp"},null,8,N),l("img",{src:a.route("images.350",t.src),class:"rounded-lg mx-auto h-full object-cover"},null,8,D)])],8,j)]))),256))]),e.value.images?(s(),r("div",z,[g(y,{"click-handler":d,pagination:e.value.images,modelValue:e.value.currentPage,"onUpdate:modelValue":o[1]||(o[1]=t=>e.value.currentPage=t)},null,8,["pagination","modelValue"])])):p("",!0)])),e.value.isImagesUploadModal?(s(),u($,{key:2,onCloseModal:i,onOnUpload:f})):p("",!0)]),_:1})}}};export{E as _};
