import{d as k,aj as c,r as v,o as A,g as V,z as m,i as F,s as i,j as l,u,F as B,p as s,a9 as g}from"./app-fdf95300.js";import L from"./ProductsList-02353849.js";import{_ as C}from"./MasterLayout-4caa512e.js";import I from"./Banners-74e9f8a3.js";import O from"./Categories-63b69e78.js";import R from"./Head-eb8ab54b.js";import{i as b}from"./load-4ae4aea6.js";import"./Heading-effe4898.js";import"./Button-23e99f91.js";import"./Loader-e0f0e8ca.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ProductCard-337e7962.js";import"./app-6f72ba94.js";import"./vue-i18n.esm-bundler-c23ff204.js";import"./swal-a58c37bb.js";import"./eventTracking-fa04030a.js";import"./Header-2cc0eda1.js";import"./CartIcon-4556cc2e.js";import"./Langs-749f1c93.js";import"./Logo-f7fc243e.js";import"./HeaderCategories-1222e5d4.js";import"./create-element-if-not-defined-cfc4b805.js";import"./pagination-93e47b88.js";import"./lazy-e32f6dbe.js";import"./autoplay-1fa09654.js";import"./swiper-slide-e11df471.js";import"./Footer-38269342.js";import"./FixedBanner-2218826b.js";import"./ScrollToTop-6f11a32b.js";const D={class:"grid grid-cols-1 gap-4"},N=k({layout:C}),pe=Object.assign(N,{__name:"Index",props:["lang","categories","options","banners","bestSellingProducts","newProducts","allProducts","pages","reviews","text","faqs","advantages"],setup(e){const a=e,_=c(()=>g(()=>import("./Content-09a11c0d.js"),["assets/Content-09a11c0d.js","assets/app-fdf95300.js"])),P=c(()=>g(()=>import("./Advantages-0ba57a03.js"),["assets/Advantages-0ba57a03.js","assets/app-fdf95300.js"])),M=c(()=>g(()=>import("./AllReviewsCarousel-6056b71e.js"),["assets/AllReviewsCarousel-6056b71e.js","assets/create-element-if-not-defined-cfc4b805.js","assets/pagination-93e47b88.js","assets/autoplay-1fa09654.js","assets/effect-coverflow-d8202d96.js","assets/swiper-slide-e11df471.js","assets/app-fdf95300.js","assets/Button-23e99f91.js","assets/AllReviewsCarousel-f247a4ef.css"])),w=c(()=>g(()=>import("./FaqComponent-534e37a0.js"),["assets/FaqComponent-534e37a0.js","assets/Accordion-175bb6f3.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/app-fdf95300.js","assets/AccordionItem-89731604.js","assets/index-10963069.js"])),S=c(()=>g(()=>import("./Support-6a2425ac.js"),["assets/Support-6a2425ac.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/app-fdf95300.js"])),f={title:a.lang==="ua"?a.options.meta_title_ua:a.options.meta_title_ru,description:a.lang==="ua"?a.options.meta_description_ua:a.options.meta_description_ru},r=v({data:[],isLoadMore:!1,isShowLoadMore:!1,currentPage:1,endpoint:"/api/v1/product/new-products?page="}),o=v({data:[],isLoadMore:!1,isShowLoadMore:!1,currentPage:1,endpoint:"/api/v1/product?page="}),n=v({data:[],isLoadMore:!1,isShowLoadMore:!1,currentPage:1,endpoint:"/api/v1/product/best-selling?page="});A(()=>{n.value.data=a.bestSellingProducts.data,r.value.data=a.newProducts.data,o.value.data=a.allProducts.data,a.bestSellingProducts.current_page!==a.bestSellingProducts.per_page&&p(n.value),a.newProducts.current_page!==a.newProducts.per_page&&p(r.value),a.allProducts.current_page!==a.allProducts.per_page&&p(o.value),console.log(a.bestSellingProducts)});const p=t=>{t.isShowLoadMore=!0},y=async()=>{o.value.isLoadMore=!0,await axios.get(o.value.endpoint+(o.value.currentPage+1)).then(({data:t})=>h(o.value,t)).catch(t=>console.error(t))},x=async()=>{n.value.isLoadMore=!0,await axios.get(n.value.endpoint+(n.value.currentPage+1)).then(({data:t})=>h(n.value,t)).catch(t=>console.error(t))},E=async()=>{await axios.get(r.value.endpoint+(r.value.currentPage+1)).then(({data:t})=>h(r.value,t)).catch(t=>console.error(t))},h=(t,d)=>{t.data=t.data.concat(d.result.data),t.total=d.result.total,t.currentPage=d.result.current_page,t.isShowLoadMore=d.result.to!==d.result.total,t.isLoadMore=!1};return(t,d)=>(s(),V(B,null,[m(R,{title:f.title,description:f.description},null,8,["title","description"]),F("div",D,[e.banners.length?(s(),i(I,{key:0,data:e.banners,lang:e.lang},null,8,["data","lang"])):l("",!0),e.categories.length?(s(),i(O,{key:1,data:e.categories,lang:e.lang},null,8,["data","lang"])):l("",!0),m(L,{slider:!0,lang:e.lang,data:n.value.data,isLoadMore:n.value.isLoadMore,isShowLoadMore:n.value.isShowLoadMore,onFetch:x,heading:"Найпопулярніші"},null,8,["lang","data","isLoadMore","isShowLoadMore"]),m(L,{slider:!0,lang:e.lang,data:r.value.data,isLoadMore:r.value.isLoadMore,isShowLoadMore:r.value.isShowLoadMore,onFetch:E,heading:"Останні надходження"},null,8,["lang","data","isLoadMore","isShowLoadMore"]),m(L,{slider:!0,lang:e.lang,data:o.value.data,isLoadMore:o.value.isLoadMore,isShowLoadMore:o.value.isShowLoadMore,onFetch:y,heading:"Усі товари"},null,8,["lang","data","isLoadMore","isShowLoadMore"]),e.advantages.length?(s(),i(u(P),{key:2,lang:e.lang,data:e.advantages},null,8,["lang","data"])):l("",!0),e.reviews.length?(s(),i(u(M),{key:3,data:e.reviews},null,8,["data"])):l("",!0),e.options.text_home_page_ua||e.options.text_home_page_ru?(s(),i(u(_),{key:4,data:e.lang==="ua"?e.options.text_home_page_ua:e.options.text_home_page_ru},null,8,["data"])):l("",!0),e.faqs.length?(s(),i(u(w),{key:5,lang:e.lang,data:e.faqs},null,8,["lang","data"])):l("",!0),u(b)?l("",!0):(s(),i(u(S),{key:6}))])],64))}});export{pe as default};
