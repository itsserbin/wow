import g from"./Chart.9bcc8513.js";import x from"./LastParams.6786c2ed.js";import b from"./Indicators.fb51e4e4.js";import y from"./Table.b038a005.js";import k from"./Table2.aae28950.js";import{y as i,G as B,z as D,W as o,U as u,Y as d,S as s,M as m,L as V,V as $,F as L,K as N,a0 as r,Z as C}from"./moment.325cf309.js";import"./index.39cb80a7.js";import"./app.7beab007.js";const F=C(" Dashboard "),M={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},S={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={__name:"Dashboard",setup(w){const e=i({date:[],filter:null,last:"one-month",page:1}),a=i({table:null,indicators2:null,chart:null,indicators:null}),c=i({statistics:[]});B(()=>{n(),axios.get(route("api.dashboard")).then(({data:t})=>c.value.statistics=t.countOrders).catch(t=>console.log(t))});const l=D(()=>{const t={};return e.value.filter&&(t.filter=e.value.filter),e.value.date.length===2&&(t.date_start=e.value.date[0],t.date_end=e.value.date[1]),e.value.last&&(t.last=e.value.last),t.page=e.value.page,t});function p(t){t?e.value.last=t:e.value={date:[],filter:null,last:null,page:1},n()}function n(){axios.get(route("api.statistics.orders.index",l.value)).then(({data:t})=>a.value.table=t.result.data).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",l.value)).then(({data:t})=>a.value.chart=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators",l.value)).then(({data:t})=>a.value.indicators=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators2",l.value)).then(({data:t})=>a.value.indicators2=t.result).catch(t=>console.log(t))}return(t,z)=>{const v=d("card-component"),_=d("auth-layout");return s(),o(_,{title:"Dashboard"},{header:u(()=>[F]),default:u(()=>[m("div",M,[(s(!0),V(L,null,$(c.value.statistics,(h,f)=>(s(),o(v,{class:"text-center",title:f,description:h},null,8,["title","description"]))),256))]),N(x,{"active-item":e.value.last,onSortByLast:p},null,8,["active-item"]),a.value.chart?(s(),o(g,{key:0,chartData:a.value.chart},null,8,["chartData"])):r("",!0),a.value.indicators?(s(),o(b,{key:1,data:a.value.indicators},null,8,["data"])):r("",!0),m("div",S,[a.value.table?(s(),o(y,{key:0,data:a.value.table},null,8,["data"])):r("",!0),a.value.table?(s(),o(k,{key:1,data:a.value.table},null,8,["data"])):r("",!0)])]),_:1})}}};export{Y as default};
