{"version":3,"file":"Form-721ea1b2.js","sources":["../../../resources/js/Pages/Admin/Crm/Orders/Form.vue"],"sourcesContent":["<script setup>\nimport {computed, onMounted, reactive, ref, inject} from \"vue\";\nimport {useI18n} from 'vue-i18n';\nimport {swal} from \"@/Includes/swal\";\n\nimport Telephone from '@/Components/Icons/Telephone.vue'\nimport Copy from '@/Components/Icons/Copy.vue'\nimport Card from '@/Components/Card.vue'\nimport Select from '@/Components/Form/Select.vue'\nimport Label from '@/Components/Form/Label.vue'\nimport Checkbox from '@/Components/Form/Checkbox.vue'\nimport Textarea from '@/Components/Form/Textarea.vue'\nimport Input from '@/Components/Form/Input.vue'\nimport Button from '@/Components/Button.vue'\nimport ModalAddItemToOrder from '@/Pages/Admin/Crm/Orders/Items/Modal.vue'\nimport ItemsTable from '@/Pages/Admin/Crm/Orders/Items/Table.vue'\nimport ClientOrders from '@/Pages/Admin/Crm/Orders/ClientOrders.vue'\nimport InvoicesTable from '@/Pages/Admin/Crm/Invoices/Table.vue';\nimport InvoiceModal from '@/Pages/Admin/Crm/Invoices/Modal.vue';\n\nconst {t} = useI18n();\n\nconst emits = defineEmits([\n    'submitItemForm',\n    'onEditClient'\n])\n\nconst can = inject('$can');\n\nconst props = defineProps([\n    'order',\n    'statuses',\n    'paymentMethods',\n    'clientStatuses',\n    'invoiceStatuses'\n]);\n\nconst priceForWaybill = computed(() => props.order.total_price - props.order.prepayment_sum);\n\nconst fullName = computed(() => {\n    const {name, last_name, middle_name} = props.order.client;\n    const fullNameParts = [last_name, name, middle_name].filter(Boolean);\n    return fullNameParts.length ? fullNameParts.join(' ') : 'Дані не вказані';\n});\n\nconst invoiceItem = reactive({\n    order_id: props.order.id,\n    sum: null,\n})\n\nconst state = ref({\n    showItemsModal: false,\n    showInvoicesModal: false,\n    itemsModalAction: '',\n    item: {\n        count: 1,\n        size: '',\n        color: '',\n        product_id: null\n    },\n    invoiceItem: {},\n    statuses: [],\n    managers: [],\n    paymentMethods: [],\n})\n\nonMounted(() => {\n    getManagersList();\n\n    for (const [key, value] of Object.entries(props.statuses)) {\n        state.value.statuses.push({\n            key: key,\n            value: value,\n        })\n    }\n\n    for (const [key, value] of Object.entries(props.paymentMethods)) {\n        state.value.paymentMethods.push({\n            key: key,\n            value: value,\n        })\n    }\n})\n\nconst itemsModal = computed(() => state.value.showItemsModal ? ModalAddItemToOrder : null);\nconst invoiceModal = computed(() => state.value.showInvoicesModal ? InvoiceModal : null);\n\nconst parcelReminderValues = reactive([\n    {\n        key: 0,\n        value: 'Ні',\n    },\n    {\n        key: 1,\n        value: 'Так',\n    }\n])\n\nfunction invoiceModalFunction() {\n    state.value.showInvoicesModal = !state.value.showInvoicesModal\n};\n\nconst copyPhone = () => {\n    navigator.clipboard.writeText(props.order.client.phone)\n        .then(() => {\n            swal({\n                icon: 'success',\n                title: t('swal.data_copied'),\n                timer: 1000,\n                showConfirmButton: false\n            })\n        })\n        .catch((error) => {\n            console.error('Виникла помилка під час копіювання тексту:', error);\n        });\n}\n\n\nfunction onDestroyInvoice(id) {\n    if (can('destroy-invoices')) {\n        swal({\n            title: 'Видалити?',\n            icon: 'warning',\n            showCancelButton: true,\n        }).then((result) => {\n            if (result.isConfirmed) {\n                axios.delete(route('api.invoices.destroy', id))\n                    .then(() => {\n                        emits('submitItemForm');\n                        swal({\n                            icon: 'success',\n                            title: 'Destroyed!',\n                        })\n                    })\n                    .catch(errors => {\n                        console.log(errors);\n                        swal({\n                            icon: 'error',\n                            title: 'Error!'\n                        })\n                    })\n            }\n        })\n\n    }\n}\n\nfunction addInvoice() {\n    if (can('create-invoices')) {\n        state.value.invoiceItem = invoiceItem;\n        invoiceModalFunction();\n    }\n}\n\nfunction onAddInvoice() {\n    axios.post(route('api.invoices.create'), state.value.invoiceItem)\n        .then(({data}) => {\n            state.value.invoiceItem = invoiceItem;\n            invoiceModalFunction();\n            navigator.clipboard.writeText(data.result.data.invoice_url);\n            swal({\n                title: 'Успішно!',\n                text: 'Рахунок був успішно створений, посилання на оплату скопійовано в буфер обміну',\n                icon: 'success'\n            });\n            emits('submitItemForm', data.result);\n        })\n        .catch((response) => {\n            console.log(response);\n            swal({\n                title: 'Error!',\n                icon: 'error'\n            })\n        })\n}\n\nfunction sendWaybill() {\n    if (props.order.waybill) {\n        axios.post(route('notify.waybill'), {\n            phone: props.order.client.phone,\n            waybill: props.order.waybill,\n            order_id: props.order.id\n        })\n            .then(({data}) => {\n                if (data.success === true) {\n                    swal({\n                        'icon': 'success',\n                        'title': 'Номер накладной успешно отправлен клиенту',\n                        'text': data.info,\n                    })\n                } else {\n                    swal({\n                        'icon': 'error',\n                        'title': 'Ошибка',\n                        'text': data.info,\n                    })\n                }\n                axios.put(route('api.orders.update', props.order.id), props.order)\n            })\n            .catch((response) => {\n                swal({\n                    'icon': 'error',\n                    'title': 'Ошибка',\n                    'text': 'Обратитесь к администратору',\n                })\n                console.log(response)\n            });\n    }\n}\n\n// function onEditClient() {\n//     window.open(\n//         route('admin.clients.index', {id: props.order.client.id}),\n//         '_blank'\n//     )\n// }\n\nfunction submitItemForm() {\n    if (state.value.itemsModalAction === 'create') {\n        axios.post(route('api.order-items.add', props.order.id), state.value.item)\n            .then(({data}) => {\n                itemsModalFunction();\n                emits('submitItemForm', data.result)\n            })\n            .catch((response) => console.log(response))\n    } else if (state.value.itemsModalAction === 'edit') {\n        axios.put(route('api.order-items.update', state.value.item.id), state.value.item)\n            .then(({data}) => {\n                itemsModalFunction();\n                emits('submitItemForm', data.result)\n            })\n            .catch((response) => console.log(response))\n    }\n\n}\n\nfunction addProductToOrder() {\n    itemsModalFunction();\n    state.value.itemsModalAction = 'create';\n}\n\nfunction itemsModalFunction() {\n    state.value.showItemsModal = !state.value.showItemsModal;\n}\n\nfunction getManagersList() {\n    axios.get(route('api.users.list.managers'))\n        .then(({data}) => {\n            if (data.result.length) {\n                data.result.forEach((item) => {\n                    state.value.managers.push({\n                        key: item.id,\n                        value: item.name\n                    })\n                })\n            }\n        })\n        .catch((response) => console.log(response))\n}\n\nfunction destroyOrderItem(id, i) {\n    swal({\n        title: 'Are you sure?',\n        icon: 'warning',\n        showCancelButton: true,\n    }).then((result) => {\n        if (result.isConfirmed) {\n            axios.delete(route('api.order-items.destroy', {\n                item_id: id,\n                order_id: props.order.id\n            }))\n                .then(() => {\n                    emits('submitItemForm');\n                    swal({\n                        title: 'Success',\n                        icon: 'success',\n                    });\n                })\n                .catch((response) => {\n                    console.log(response);\n                    swal({\n                        title: 'Error',\n                        icon: 'error',\n                    });\n                });\n        }\n    });\n}\n\nfunction editOrderItem(id) {\n    itemsModalFunction();\n    state.value.itemsModalAction = 'edit';\n    axios.get(route('api.order-items.edit', id))\n        .then(({data}) => state.value.item = data.result)\n        .catch((response) => console.log(response))\n}\n\nfunction onSendInvoiceSms() {\n    swal({\n        title: 'Успішно',\n        text: 'Посилання на оплату надіслано клієнту',\n        icon: 'success'\n    });\n    emits('submitItemForm');\n}\n</script>\n\n<template>\n    <form class=\"grid gap-4\">\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('clients.status')\"/>\n                <Input :value=\"clientStatuses[order.client.status]\" type=\"text\" disabled/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('clients.full_name')\"/>\n                <Input :value=\"fullName\"\n                       type=\"text\"\n                       disabled\n                />\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('clients.phone')\"/>\n                <div class=\"flex items-center gap-x-2\">\n                    <a :href=\"'tel:+' + order.client.phone\" class=\"border-lg rounded-lg border p-3\">\n                        <Telephone/>\n                    </a>\n                    <Input v-model=\"order.client.phone\"\n                           type=\"text\"\n                           disabled\n                    />\n                    <a :href=\"'javascript:'\" @click=\"copyPhone\" class=\"border-lg rounded-lg border p-3\">\n                        <Copy/>\n                    </a>\n                </div>\n\n            </div>\n            <div class=\"block\">\n                <Label value=\"&nbsp;\"/>\n                <Button class=\"w-full\" type=\"button\" @click=\"$emit('onEditClient')\">\n                    {{ $t('orders.client_card') }}\n                </Button>\n            </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n\n\n        </div>\n        <ClientOrders v-if=\"order.client.orders.length > 1\"\n                      :data=\"order.client.orders\"\n                      :statuses=\"statuses\"\n        />\n        <hr class=\"h-px my-8 bg-gray-200 border-0 dark:bg-gray-500\">\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('orders.status')\"/>\n                <Select v-model=\"order.status\" :options=\"state.statuses\"/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.manager_id')\"/>\n                <Select v-model=\"order.manager_id\" :options=\"state.managers\"/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.payment_method')\"/>\n                <Select v-model=\"order.payment_method\" :options=\"state.paymentMethods\"/>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.parcel_reminder')\"/>\n                <div class=\"block\">\n                    <div class=\"flex gap-x-2 items-center w-full\">\n                        <Checkbox v-model=\"order.parcel_reminder\"/>\n                        <Label :value=\"order.parcel_reminder ? 'Так' : 'Ні'\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <hr class=\"h-px my-8 bg-gray-200 border-0 dark:bg-gray-500\">\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"grid grid-cols-1 gap-4\">\n                <div class=\"block\">\n                    <Label :value=\"$t('orders.city')\"/>\n                    <Input v-model=\"order.city\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_city')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('orders.postal_office')\"/>\n                    <Input v-model=\"order.postal_office\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_postal_office')\"\n                    />\n                </div>\n                <div class=\"block\">\n                    <Label :value=\"$t('orders.waybill')\"/>\n                    <Input v-model=\"order.waybill\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_waybill')\"\n                    />\n                    <div v-if=\"!order.sms_waybill_status && order.waybill\">\n                        <a\n                            href=\"javascript:\"\n                            @click.prevent=\"sendWaybill(order.client.phone,order.waybill)\"\n                        >{{ $t('orders.send_waybill_for_client') }}</a>\n                    </div>\n                    <div v-if=\"order.sms_waybill_status\">\n                        {{ $t('orders.waybill_sent') }}\n                        (<a href=\"javascript:\"\n                            @click.prevent=\"sendWaybill(order.client.phone,order.waybill)\"\n                    >{{ $t('orders.waybill_resent') }}</a>)\n                    </div>\n                </div>\n\n                <div class=\"grid grid-cols-2 gap-x-2\" v-if=\"order.status === 'return'\">\n                    <div class=\"flex gap-x-2\">\n                        <Checkbox v-model=\"order.refund_other_waybill\" @change=\"test\"/>\n                        <Label :value=\"$t('orders.refund_other_waybill')\"/>\n                    </div>\n                    <Input v-if=\"order.refund_other_waybill\"\n                           v-model=\"order.other_waybill\"\n                           type=\"text\"\n                           :placeholder=\"$t('orders.enter_refund_other_waybill')\"\n                    />\n                </div>\n            </div>\n            <div class=\"block\">\n                <Label :value=\"$t('orders.comment')\"/>\n                <Textarea rows=\"12\"\n                          v-model=\"order.comment\"\n                          :placeholder=\"$t('orders.enter_comment')\"\n                />\n            </div>\n        </div>\n        <hr class=\"h-px my-8 bg-gray-200 border-0 dark:bg-gray-500\">\n        <div class=\"grid grid-cols-1 gap-y-4\">\n            <div class=\"block\">\n                <Label :value=\"$t('orders.sale_of_air')\"/>\n                <Input v-model=\"order.sale_of_air_price\"\n                       type=\"number\"\n                       :placeholder=\"$t('orders.enter_sale_of_air_price')\"\n                />\n            </div>\n\n            <div class=\"block\">\n                <Label :value=\"$t('orders.discount')\"/>\n                <Input v-model=\"order.discount_sum\"\n                       type=\"number\"\n                       :placeholder=\"$t('orders.enter_discount_sum')\"\n                />\n            </div>\n\n            <div class=\"block\">\n                <Label value=\"Загальна сума передоплати (грн.)\"/>\n                <Input v-model=\"order.prepayment_sum\" type=\"number\" disabled/>\n            </div>\n        </div>\n\n        <div class=\"block mb-5\">\n            <Button type=\"button\" @click=\"addProductToOrder\">Додати товар</Button>\n            <component :is=\"itemsModal\"\n                       :item=\"state.item\"\n                       size=\"medium\"\n                       @closeModal=\"itemsModalFunction\"\n                       @submitItemForm=\"submitItemForm\"\n            ></component>\n        </div>\n\n        <ItemsTable :data=\"order.items\"\n                    @editOrderItem=\"editOrderItem\"\n                    @destroyOrderItem=\"destroyOrderItem\"\n        />\n\n        <div class=\"grid grid-cols-2 md:grid-cols-4 mt-5\">\n            <Card title=\"Кількість товарів\"\n                  :description=\"order.total_count\"\n                  class=\"text-center\"\n            />\n\n            <Card title=\"Загальна ціна\"\n                  :description=\"$filters.formatMoney(order.total_price)\"\n                  class=\"text-center\"\n            />\n\n            <Card title=\"Ціна на посилку\"\n                  :description=\"$filters.formatMoney(priceForWaybill)\"\n                  class=\"text-center\"\n            />\n\n            <Card title=\"Промо-код\"\n                  :description=\"order.promo_code ? order.promo_code : 'Відсутній'\"\n                  class=\"text-center\"\n            />\n        </div>\n\n        <div class=\"block\" v-if=\"can('show-invoices')\">\n            <Button type=\"button\"\n                    @click=\"addInvoice\"\n                    class=\"my-4\"\n                    v-if=\"can('create-invoices')\"\n            >\n                Додати рахунок\n            </Button>\n            <InvoicesTable :data=\"order.invoices\"\n                           :statuses=\"invoiceStatuses\"\n                           :can-destroy=\"can('destroy-invoices')\"\n                           @onDestroy=\"onDestroyInvoice\"\n                           v-if=\"order.invoices.length\"\n                           @onSendInvoiceSms=\"onSendInvoiceSms\"\n            />\n            <component :is=\"invoiceModal\"\n                       :item=\"state.invoiceItem\"\n                       @closeModal=\"invoiceModalFunction\"\n                       @submitForm=\"onAddInvoice\"\n                       @declineForm=\"invoiceModalFunction\"\n            />\n        </div>\n    </form>\n</template>\n"],"names":["t","useI18n","can","inject","priceForWaybill","computed","props","fullName","name","last_name","middle_name","fullNameParts","invoiceItem","reactive","state","ref","onMounted","getManagersList","key","value","itemsModal","ModalAddItemToOrder","invoiceModal","InvoiceModal","invoiceModalFunction","copyPhone","swal","error","onDestroyInvoice","id","result","emits","errors","addInvoice","onAddInvoice","data","response","sendWaybill","submitItemForm","itemsModalFunction","addProductToOrder","item","destroyOrderItem","i","editOrderItem","onSendInvoiceSms"],"mappings":"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"}