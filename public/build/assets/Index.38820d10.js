import{j as k,p as x,k as $}from"./app.4d34edde.js";import w from"./Table.7c2eebe0.js";import P from"./StatisticLayout.cf0fee9a.js";import{s as y,e as B,_ as M}from"./Datepicker.6c1ec1fd.js";import{w as u,x as r,S as D,Q as d,O as c,U as m,F as n,G as g,B as N,y as v,M as i,z as f,H as O,I as S,P as U}from"./moment.791e2419.js";const j=U(" \u041F\u043E\u0432\u0435\u0440\u043D\u0435\u043D\u043D\u044F "),C={key:1,class:"grid grid-cols-1 gap-4"},F={class:"grid grid-cols-2 md:grid-cols-4"},I={class:"text-center"},R={__name:"Index",setup(b){m("$swal");const _=m("$can"),a=u({data:[],indicators:[],chart:null,isLoading:!0}),e=u({date:[],currentPage:1}),p=r(()=>{if(e.value.date.length===2)return{date_start:e.value.date[0].toLocaleDateString(),date_end:e.value.date[1].toLocaleDateString()}}),h=r(()=>e.value.last),L=r(()=>({...p.value,last:h.value,page:e.value.currentPage}));D(()=>{e.value.date[0]=y(new Date),e.value.date[1]=B(new Date),l()});const l=async()=>{a.value.isLoading=!0,axios.get(route("api.statistics.refunds.index",L.value)).then(({data:t})=>{a.value.data=t.result,a.value.isLoading=!1}).catch(t=>{console.log(t),a.value.isLoading=!1})};return(t,o)=>(n(),d(P,{title:"\u041F\u043E\u0432\u0435\u0440\u043D\u0435\u043D\u043D\u044F"},{header:c(()=>[j]),default:c(()=>[a.value.isLoading?(n(),d(k,{key:0})):g("",!0),!a.value.isLoading&&N(_)("show-bookkeeping-refunds")?(n(),v("div",C,[i(M,{modelValue:e.value.date,"onUpdate:modelValue":[o[0]||(o[0]=s=>e.value.date=s),l]},null,8,["modelValue"]),f("div",F,[(n(!0),v(O,null,S(a.value.indicatord,(s,V)=>(n(),d(x,{class:"text-center",title:V,description:t.$filters.formatMoney(s)},null,8,["title","description"]))),256))]),i(w,{data:a.value.data.data},null,8,["data"]),f("div",I,[i($,{pagination:a.value.data,"click-handler":l,modelValue:e.value.currentPage,"onUpdate:modelValue":o[1]||(o[1]=s=>e.value.currentPage=s)},null,8,["pagination","modelValue"])])])):g("",!0)]),_:1}))}};export{R as default};
