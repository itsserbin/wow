import l from"./OptionsLayout-f068739f.js";import d from"./Form-7c5373ad.js";import{L as f}from"./Loader-3f12bd2d.js";import{u as w}from"./vue-i18n.esm-bundler-39f45a4f.js";import{s as i}from"./swal-76588f7d.js";import{i as _,r as x,o as g,p as e,D as r,x as v,C as p,t as y}from"./app-6d1ec759.js";import"./AuthenticatedLayout-53775af0.js";import"./index.esm-09a1b1ab.js";import"./Logo-7b0b10d2.js";import"./SidebarItem-9941fa54.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Label-646a10b8.js";import"./Input-335d7e3d.js";import"./Textarea-8cacefaf.js";import"./Button-18e692de.js";import"./Logo-db8b8af4.js";import"./Editor-b0ed515a.js";const c={main(){return{async index(){try{return(await axios.get(route("api.options.main.index"))).data}catch(a){throw new Error(a.response.data)}},async update(a){try{return(await axios.put(route("api.options.main.update"),a)).data}catch(s){throw new Error(s.response.data)}}}}},V={__name:"Index",setup(a){const s=_("$can"),{t:n}=w(),o=x({isLoading:!1,options:{}});g(()=>u());const u=async()=>{o.value.isLoading=!0;const t=await c.main().index();t.success&&(o.value.options=t.result),o.value.isLoading=!1},m=async()=>{o.value.isLoading=!0;const t=await c.main().update(o.value.options);t.success?await i({title:n("swal.updated"),icon:"success"}):(console.log(t),await i({title:n("swal.error"),icon:"error"})),o.value.isLoading=!1};return(t,L)=>(e(),r(l,null,{default:v(()=>[o.value.isLoading?(e(),r(f,{key:0})):p("",!0),y(s)("show-main-options")&&!o.value.isLoading?(e(),r(d,{key:1,options:o.value.options,onSubmitForm:m},null,8,["options"])):p("",!0)]),_:1}))}};export{V as default};
