import m from"./Chart.1bd646c4.js";import f from"./LastParams.1a91c023.js";import h from"./Indicators.ea79b91c.js";import v from"./Table.9cc9fb26.js";import{A as n,G as _,B as p,V as l,S as i,X as g,R as o,K as x,$ as r,Y as b}from"./moment.e1708d83.js";import"./index.9a7eb522.js";import"./app.d65196cf.js";const y=b(" Dashboard "),w={__name:"Dashboard",setup(k){const t=n({date:[],filter:null,last:"one-month",page:1}),e=n({table:null,chart:null,indicators:null});_(()=>u());const s=p(()=>{const a={};return t.value.filter&&(a.filter=t.value.filter),t.value.date.length===2&&(a.date_start=t.value.date[0],a.date_end=t.value.date[1]),t.value.last&&(a.last=t.value.last),a.page=t.value.page,a});function c(a){a?t.value.last=a:t.value={date:[],filter:null,last:null,page:1},u()}function u(){axios.get(route("api.statistics.orders.index",s.value)).then(({data:a})=>e.value.table=a.result.data).catch(a=>console.log(a)),axios.get(route("api.statistics.orders.chart",s.value)).then(({data:a})=>e.value.chart=a.result).catch(a=>console.log(a)),axios.get(route("api.statistics.orders.indicators",s.value)).then(({data:a})=>e.value.indicators=a.result).catch(a=>console.log(a))}return(a,B)=>{const d=g("auth-layout");return o(),l(d,{title:"Dashboard"},{header:i(()=>[y]),default:i(()=>[x(f,{"active-item":t.value.last,onSortByLast:c},null,8,["active-item"]),e.value.chart?(o(),l(m,{key:0,chartData:e.value.chart},null,8,["chartData"])):r("",!0),e.value.indicators?(o(),l(h,{key:1,data:e.value.indicators},null,8,["data"])):r("",!0),e.value.table?(o(),l(v,{key:2,data:e.value.table},null,8,["data"])):r("",!0)]),_:1})}}};export{w as default};
