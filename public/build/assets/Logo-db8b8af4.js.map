{"version":3,"file":"Logo-db8b8af4.js","sources":["../../../resources/js/Pages/Admin/Options/Main/Logo.vue"],"sourcesContent":["<script setup>\nimport Input from '@/Components/Form/Input.vue';\nimport Label from '@/Components/Form/Label.vue';\nimport {useI18n} from 'vue-i18n';\nimport {ref} from 'vue';\nimport {swal} from \"@/Includes/swal\";\n\nconst image = ref(null);\nconst {t} = useI18n();\n\ndefineProps(['title']);\n\nconst onFileChange = async (file) => {\n    const formData = new FormData();\n    formData.append('logo', file);\n\n    await axios.post(route('api.images.logo.upload'), formData, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    })\n        .then(({data}) => {\n            image.value = data.result;\n            swal({\n                title: t('swal.logo.upload'),\n                icon: 'success',\n                confirmButtonText: 'Ok'\n            })\n        })\n        .catch(error => {\n            console.log(error);\n            swal({\n                text: t('swal.logo.error'),\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            });\n        });\n}\n\n//Удаление логотипа\nconst destroyImage = async () => {\n    await axios.delete(route('api.images.logo.delete'))\n        .then(() => {\n            image.value = null;\n            swal({\n                title: t('swal.logo.destroy.success'),\n                icon: 'success',\n                confirmButtonText: 'Ok'\n            });\n        })\n        .catch(error => {\n            console.log(error);\n            swal({\n                title: t('swal.logo.destroy.error'),\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            });\n        });\n};\n</script>\n\n<template>\n    <div class=\"mb-4\">\n        <Label :value=\"$t('options.text_label_logo')\"/>\n        <div class=\"mt-2\">\n            <div v-if=\"image\">\n                <picture>\n                    <source :srcset=\"'/storage/' + image + '.webp'\" type=\"image/webp\">\n                    <img :src=\"'/storage/' + image + '.jpeg'\" :alt=\"$t('options.text_label_logo')\">\n                </picture>\n                <button type=\"button\" class=\"text-sm font-medium text-red-500 hover:text-red-700\" @click=\"destroyImage\">\n                    {{ $t('options.text_destroyLabel') }}\n                </button>\n            </div>\n            <div v-else>\n                <Input type=\"file\" @change=\"onFileChange($event.target.files[0])\"/>\n                <p class=\"mt-2 text-sm text-gray-500\">{{ $t('options.instructions') }}</p>\n            </div>\n        </div>\n    </div>\n</template>\n"],"names":["image","ref","t","useI18n","onFileChange","file","formData","data","swal","error","destroyImage"],"mappings":"4ZAOA,MAAMA,EAAQC,EAAI,IAAI,EAChB,CAAC,EAAAC,CAAC,EAAIC,IAINC,EAAe,MAAOC,GAAS,CACjC,MAAMC,EAAW,IAAI,SACrBA,EAAS,OAAO,OAAQD,CAAI,EAE5B,MAAM,MAAM,KAAK,MAAM,wBAAwB,EAAGC,EAAU,CACxD,QAAS,CACL,eAAgB,qBACnB,CACT,CAAK,EACI,KAAK,CAAC,CAAC,KAAAC,CAAI,IAAM,CACdP,EAAM,MAAQO,EAAK,OACnBC,EAAK,CACD,MAAON,EAAE,kBAAkB,EAC3B,KAAM,UACN,kBAAmB,IACnC,CAAa,CACb,CAAS,EACA,MAAMO,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBD,EAAK,CACD,KAAMN,EAAE,iBAAiB,EACzB,KAAM,QACN,kBAAmB,IACnC,CAAa,CACb,CAAS,CACT,EAGMQ,EAAe,SAAY,CAC7B,MAAM,MAAM,OAAO,MAAM,wBAAwB,CAAC,EAC7C,KAAK,IAAM,CACRV,EAAM,MAAQ,KACdQ,EAAK,CACD,MAAON,EAAE,2BAA2B,EACpC,KAAM,UACN,kBAAmB,IACnC,CAAa,CACb,CAAS,EACA,MAAMO,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBD,EAAK,CACD,MAAON,EAAE,yBAAyB,EAClC,KAAM,QACN,kBAAmB,IACnC,CAAa,CACb,CAAS,CACT"}