import v from"./StatisticLayout-1a3bddff.js";import k from"./Chart-70d61bb8.js";import u from"./Chart-39c0ed54.js";import{s as f,e as x,_ as y}from"./Datepicker-e60c8a01.js";import{r as _,o as D,f as w,s as l,v as m,y as V,p as s,k as b,i as a,z as $,u as n,g as d,j as r}from"./app-85fc3642.js";import"./app-739a5adb.js";import"./vue-i18n.esm-bundler-b26da7fc.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Logo-39ed68e3.js";import"./index-f19e1f78.js";const B={class:"grid grid-cols-1 gap-4"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},L={key:0,class:"block"},M=a("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"Витрати",-1),j=a("hr",{class:"my-1"},null,-1),C={key:1,class:"div"},O=a("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"Прибуток",-1),S=a("hr",{class:"my-1"},null,-1),z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E={key:0,class:"div"},I=a("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"Заявки",-1),P=a("hr",{class:"my-1"},null,-1),T={key:1,class:"div"},U=a("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"Маркетинг",-1),q=a("hr",{class:"my-1"},null,-1),tt={__name:"Index",setup(A){const o=_({date:[],page:1}),i=V("$can"),e=_({costs:null,profits:null,orders:null,marketing:null});D(()=>{o.value.date[0]=f(new Date),o.value.date[1]=x(new Date),g()});const c=w(()=>{const t={};return o.value.date.length===2&&(t.date_start=o.value.date[0].toLocaleDateString(),t.date_end=o.value.date[1].toLocaleDateString()),t.page=o.value.page,t});function g(){e.value.isLoading=!0,axios.get(route("api.statistics.costs.chart",c.value)).then(({data:t})=>e.value.costs=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.profits.chart",c.value)).then(({data:t})=>e.value.profits=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",c.value)).then(({data:t})=>e.value.orders=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.marketing.chart",c.value)).then(({data:t})=>e.value.marketing=t.result).catch(t=>console.log(t))}return(t,h)=>(s(),l(v,{title:"Статистика"},{header:m(()=>[b(" Статистика ")]),default:m(()=>[a("div",B,[$(y,{modelValue:o.value.date,"onUpdate:modelValue":[h[0]||(h[0]=p=>o.value.date=p),g]},null,8,["modelValue"]),a("div",N,[n(i)("show-bookkeeping-costs")?(s(),d("div",L,[M,j,e.value.costs?(s(),l(k,{key:0,chartData:e.value.costs},null,8,["chartData"])):r("",!0)])):r("",!0),n(i)("show-bookkeeping-profits")?(s(),d("div",C,[O,S,e.value.profits?(s(),l(u,{key:0,chartData:e.value.profits},null,8,["chartData"])):r("",!0)])):r("",!0)]),a("div",z,[n(i)("show-bookkeeping-orders")?(s(),d("div",E,[I,P,e.value.orders?(s(),l(u,{key:0,chartData:e.value.orders},null,8,["chartData"])):r("",!0)])):r("",!0),n(i)("show-bookkeeping-marketing")?(s(),d("div",T,[U,q,e.value.marketing?(s(),l(u,{key:0,chartData:e.value.marketing},null,8,["chartData"])):r("",!0)])):r("",!0)])])]),_:1}))}};export{tt as default};
