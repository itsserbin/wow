{"version":3,"file":"autoplay-5b9d7d48.js","sources":["../../../node_modules/swiper/modules/autoplay/autoplay.js"],"sourcesContent":["/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}"],"names":["Autoplay","swiper","extendParams","on","emit","timeout","run","$activeSlideEl","delay","nextTick","autoplayResult","stop","start","pause","speed","event","onTransitionEnd","onVisibilityChange","document","getDocument","e","onMouseEnter","onMouseLeave","attachMouseEvents","detachMouseEvents","_s","internal"],"mappings":"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","x_google_ignoreList":[0]}