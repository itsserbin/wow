import m from"./Breadcrumbs-da1e9563.js";import p from"./Card-8aad2d3f.js";import d from"./Loader-ccbb56f4.js";import g from"./Button-5a7dd9cc.js";import _ from"./Head-b2b32293.js";import{_ as f}from"./MasterLayout-4217d740.js";import{m as v,r as x,o as h,p as t,q as o,l,F as u,K as y,D as s,C as a,x as L,v as w,A as M,B as k}from"./app-6d1ec759.js";import"./Breadcrumbs-cd40f922.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Header-ab15bc00.js";import"./CartIcon-7af6af61.js";import"./Langs-90c49031.js";import"./Logo-7b0b10d2.js";import"./HeaderCategories-e972571f.js";import"./swiper-slide-5d66ba81.js";import"./pagination-7c85a91c.js";import"./lazy-1a231b83.js";import"./autoplay-53c9f8a7.js";import"./Footer-72a9642e.js";import"./FixedBanner-77c8b9a7.js";import"./ScrollToTop-7a9e7f3e.js";const b={key:0},B=w("h1",{class:"font-bold text-black text-center text-[24px] mb-[15px]"}," Відгуки ",-1),C={key:0,class:"text-center"},$=v({layout:f}),Y=Object.assign($,{__name:"Index",props:{lang:String,categories:Array,options:Object,pages:Array,textLoadMore:{type:String,default:"Завантажити ще"}},setup(i){const e=x({reviews:[],isLoadingMore:!1,showLoadMore:!0,currentPage:0,endpoint:"/api/v1/reviews/paginate-list?page="});h(async()=>{await n()});const n=async()=>{e.value.isLoadingMore=!0,axios.get(e.value.endpoint+(e.value.currentPage+1)).then(({data:r})=>{e.value.isLoadingMore=!1,e.value.currentPage=r.result.current_page,e.value.reviews=e.value.reviews.concat(r.result.data),e.value.showLoadMore=r.result.to!==r.result.total})};return(r,N)=>(t(),o(u,null,[l(_,{title:"Відгуки"}),e.value.reviews.length?(t(),o("div",b,[l(m,{"current-url":r.route().current,options:i.options,lang:i.lang,title:"Відгуки"},null,8,["current-url","options","lang"]),B,(t(!0),o(u,null,y(e.value.reviews,c=>(t(),s(p,{item:c},null,8,["item"]))),256)),e.value.showLoadMore?(t(),o("div",C,[e.value.isLoadingMore?(t(),s(d,{key:0})):a("",!0),e.value.isLoadingMore?a("",!0):(t(),s(g,{key:1,onClick:n,type:"button"},{default:L(()=>[M(k(i.textLoadMore),1)]),_:1}))])):a("",!0)])):a("",!0)],64))}});export{Y as default};
