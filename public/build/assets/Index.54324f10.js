import m from"./StatisticLayout.ee69e03f.js";import p from"./LastParams.6786c2ed.js";import f from"./Chart.a0e0b3f2.js";import d from"./Chart.ead1963c.js";import{y as g,G as k,z as y,W as r,U as _,S as s,K as x,M as o,P as n,L as u,a0 as l,Z as D,D as B}from"./moment.325cf309.js";import"./index.97106de2.js";import"./app.7df5b4e5.js";const b=D(" \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 "),w={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$={key:0,class:"block"},L=o("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u0412\u0438\u0442\u0440\u0430\u0442\u0438",-1),N=o("hr",{class:"my-1"},null,-1),V={key:1,class:"div"},C=o("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u041F\u0440\u0438\u0431\u0443\u0442\u043E\u043A",-1),M=o("hr",{class:"my-1"},null,-1),P={key:2,class:"div"},S=o("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u0417\u0430\u044F\u0432\u043A\u0438",-1),j=o("hr",{class:"my-1"},null,-1),z={key:3,class:"div"},E=o("div",{class:"text-lg text-gray-800 leading-tight dark:text-gray-300"},"\u041C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433",-1),G=o("hr",{class:"my-1"},null,-1),H={__name:"Index",setup(I){const a=g({date:[],filter:null,last:"one-month",page:1}),i=B("$can"),e=g({costs:null,profits:null,orders:null,marketing:null});k(()=>h());const c=y(()=>{const t={};return a.value.filter&&(t.filter=a.value.filter),a.value.date.length===2&&(t.date_start=a.value.date[0],t.date_end=a.value.date[1]),a.value.last&&(t.last=a.value.last),t.page=a.value.page,t});function v(t){t?a.value.last=t:a.value={date:[],filter:null,last:null,page:1},h()}function h(){e.value.isLoading=!0,axios.get(route("api.statistics.costs.chart",c.value)).then(({data:t})=>e.value.costs=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.profits.chart",c.value)).then(({data:t})=>e.value.profits=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",c.value)).then(({data:t})=>e.value.orders=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.marketing.chart",c.value)).then(({data:t})=>e.value.marketing=t.result).catch(t=>console.log(t))}return(t,K)=>(s(),r(m,{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"},{header:_(()=>[b]),default:_(()=>[x(p,{"active-item":a.value.last,onSortByLast:v},null,8,["active-item"]),o("div",w,[n(i)("show-bookkeeping-costs")?(s(),u("div",$,[L,N,e.value.costs?(s(),r(f,{key:0,chartData:e.value.costs},null,8,["chartData"])):l("",!0)])):l("",!0),n(i)("show-bookkeeping-profits")?(s(),u("div",V,[C,M,e.value.profits?(s(),r(d,{key:0,chartData:e.value.profits},null,8,["chartData"])):l("",!0)])):l("",!0),n(i)("show-bookkeeping-orders")?(s(),u("div",P,[S,j,e.value.orders?(s(),r(d,{key:0,chartData:e.value.orders},null,8,["chartData"])):l("",!0)])):l("",!0),n(i)("show-bookkeeping-marketing")?(s(),u("div",z,[E,G,e.value.marketing?(s(),r(d,{key:0,chartData:e.value.marketing},null,8,["chartData"])):l("",!0)])):l("",!0)])]),_:1}))}};export{H as default};
