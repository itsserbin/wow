import f from"./Timer.a15e2795.js";import v from"./ProductCard.dcccd8a1.js";import{_ as h}from"./MasterLayout.6f1a6b83.js";import x from"./Head.3cf659a9.js";import{s as d}from"./swal.ca5633e8.js";import{q as g,s as k,p as u,w as y,o as r,y as m,j as a,t as o,i as l,k as S,F as _,v as I}from"./vendor.2c8aab53.js";import"./Header.cf94c1c9.js";import"./vue.m.132a23fc.js";import"./CartIcon.ff32efd7.js";import"./__commonjsHelpers__.4516dc8a.js";import"./Langs.b2eee5d4.js";import"./Logo.6090e12d.js";import"./HeaderCategories.74a08ba3.js";import"./create-element-if-not-defined.26147364.js";import"./pagination.44308c03.js";import"./lazy.2bfe2e68.js";import"./autoplay.88899761.js";import"./swiper-slide.b99d7d5f.js";import"./Footer.2a9c34b5.js";import"./FixedBanner.1550b3ab.js";import"./ScrollToTop.c0e18f9d.js";const T={class:"grid gap-4 grid-cols-1"},P={class:"grid grid-cols-1 gap-4"},w={class:"font-bold text-black text-center text-2xl font-heading"},O={class:"text-center text-xl font-subheading"},b={key:0,class:"text-center text-xl font-subheading"},V={key:0,class:"grid gap-4 mt-5"},D={class:"font-bold text-black text-center text-2xl font-subheading"},L={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},B={key:1,class:"order-page__text my-5"},ee={__name:"Index",props:{categories:Array,options:Object,pages:Array,lang:String,eventIdPageView:String,textThanksPageTitle:{type:String,default:"\u0414\u044F\u043A\u0443\u044E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F :)"},textThanksPageDescription:{type:String,default:"\u041D\u0430\u0439\u0431\u043B\u0438\u0436\u0447\u0438\u043C \u0447\u0430\u0441\u043E\u043C \u0437 \u0432\u0430\u043C\u0438 \u0437\u0432`\u044F\u0436\u0435\u0442\u044C\u0441\u044F \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F."},textThanksPageOrderId:{type:String,default:"\u041D\u043E\u043C\u0435\u0440 \u0432\u0430\u0448\u043E\u0433\u043E \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F:"},textThanksPageSpecials:{type:String,default:"\u0421\u043F\u0435\u0446\u0456\u0430\u043B\u044C\u043D\u0456 \u043F\u0440\u043E\u043F\u043E\u0437\u0438\u0446\u0456\u0457. \u0412\u0441\u0442\u0438\u0433\u043D\u0438 \u0434\u043E\u0434\u0430\u0442\u0438 \u0434\u043E \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"},textThanksPageSpecialsEnds:{type:String,default:"\u0427\u0430\u0441 \u0434\u0456\u0457 \u043F\u0440\u043E\u043F\u043E\u0437\u0438\u0446\u0456\u0457 \u043C\u0438\u043D\u0443\u0432. \u0421\u043F\u043E\u0434\u0456\u0432\u0430\u0454\u043C\u043E\u0441\u044C, \u0412\u0430\u0441 \u0437\u0430\u0446\u0456\u043A\u0430\u0432\u043B\u044F\u0442\u044C \u043D\u0430\u0448\u0456 \u0430\u043A\u0446\u0456\u0457 \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u043E\u0433\u043E \u0440\u0430\u0437\u0443. \u041F\u043E\u0447\u0438\u043D\u0430\u0454\u043C\u043E \u0433\u043E\u0442\u0443\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u043A\u0443 \u0456 \u043D\u0435\u0437\u0430\u0431\u0430\u0440\u043E\u043C \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u043C\u043E \u0412\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"}},setup(t){const n=g({hours:"",mins:"",secs:""}),e=g({orderId:null,isLoading:!0,products:[],activeSpecialOffer:!1});k(async()=>{e.value.orderId=route().params.id,await axios.get(route("api.v1.orders.special",e.value.orderId)).then(({data:i})=>{i.result?setInterval(function(){let s=new Date(i.result.end_time).getTime()-new Date().getTime();s>=0?(n.value.hours=("0"+Math.floor(s%(1e3*60*60*24)/(1e3*60*60))).slice(-2),n.value.mins=("0"+Math.floor(s%(1e3*60*60)/(1e3*60))).slice(-2),n.value.secs=("0"+Math.floor(s%(1e3*60)/1e3)).slice(-2),e.value.activeSpecialOffer=!0,e.value.products=i.result.products,e.value.isLoading=!1):(e.value.activeSpecialOffer=!1,e.value.isLoading=!1)},1e3):(e.value.isLoading=!1,e.value.activeSpecialOffer=!1)})});const p=async(i,s)=>{await axios.post("/api/v1/order/add-item/"+e.value.orderId,{id:i,price:s}).then(async()=>await d({icon:"success",title:"\u0414\u043E\u0434\u0430\u043D\u043E!",text:"\u0422\u043E\u0432\u0430\u0440 \u0443\u0441\u043F\u0456\u0448\u043D\u043E \u0434\u043E\u0434\u0430\u043D\u043E \u0434\u043E \u0432\u0430\u0448\u043E\u0433\u043E \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"})).catch(async c=>{console.error(c),await d({icon:"error",title:"\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430",text:"\u0417\u0432\u0435\u0440\u043D\u0456\u0442\u044C\u0441\u044F \u0434\u043E \u0430\u0434\u043C\u0456\u043D\u0456\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0430"})})};return(i,s)=>(r(),u(h,{categories:t.categories,options:t.options,lang:t.lang,pages:t.pages,eventIdPageView:t.eventIdPageView},{default:y(()=>[m(x,{title:"\u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"}),a("section",T,[a("div",P,[a("h1",w,o(t.textThanksPageTitle),1),a("div",O,[a("p",null,o(t.textThanksPageDescription),1)]),e.value.orderId?(r(),l("div",b,o(t.textThanksPageOrderId)+" "+o(e.value.orderId),1)):S("",!0)]),e.value.activeSpecialOffer?(r(),l("div",V,[a("div",D,o(t.textThanksPageSpecials),1),m(f,{timer:n.value},null,8,["timer"]),a("div",L,[(r(!0),l(_,null,I(e.value.products,c=>(r(),u(v,{product:c,onAddItemToOrder:p,lang:t.lang},null,8,["product","lang"]))),256))])])):(r(),l("div",B,[a("p",null,o(t.textThanksPageSpecialsEnds),1)]))])]),_:1},8,["categories","options","lang","pages","eventIdPageView"]))}};export{ee as default};
