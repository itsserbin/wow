import{g as v,m as s,p as e,v as a,q as n,E as _,B as f,F as p,C as x,A as B,u as V,S as M,ad as P,y as c,s as g,G as y,H as C,V as U}from"./index-bc3c132c.js";import z from"./BuyIn1ClickModal-7349a7ed.js";import{u as N}from"./app-bc4ce676.js";import b from"./Button-23fb6d1c.js";import{s as k}from"./swal-846883b6.js";import"./maska-224de96c.js";import"./Modal-dc1ea22b.js";import"./Loader-61360dbf.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input-5cbd62f6.js";import"./InputError-1757c692.js";import"./Label-20e9ebb4.js";const S={class:"pt-[5%]"},j=e("hr",{class:"mb-4"},null,-1),q={class:"grid grid-cols-1 md:grid-cols-2 font-subheading"},E={class:"mb-4 mb-md-0 flex items-center justify-evenly flex-col"},$={key:0,class:"text-center"},D={class:"text-lg font-medium text-[#A5A5A5] line-through"},F={class:"font-bold text-[#ff0000] text-4xl"},G={key:1,class:"text-center"},H={class:"text-lg font-bold font-medium text-[#A5A5A5] text-[2.5rem]"},L={class:"grid gap-4"},J=e("hr",{class:"mt-4"},null,-1),K={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5 font-subheading"},O={key:0},Q=e("div",{class:"w-full mb-2"},"Доступні розміри",-1),R={class:"flex pb-[20px]"},W={class:"mx-1"},X=["value","id","onUpdate:modelValue"],Y=["for"],Z={key:1},ee=e("div",{class:"w-100 mb-2"},"Доступні кольори",-1),te={class:"flex"},oe=["id","value","onUpdate:modelValue"],ce=["for"],fe={__name:"AddToCart",props:["product","eventIdAddToCard","eventIdPurchaseIn1Click"],setup(o){const t=o,A=N(),m=M(),{appContext:I}=P(),{$fbq:w}=I.config.globalProperties,d=v({count:1,size:[],color:[],item_id:t.product.id,src:typeof window<"u"?window.location.href:null,event_id:t.eventIdAddToCard}),r=v({product:{id:null,discount_price:null,price:null,h1:null,sizes:[],colors:[]},isActiveBuyIn1ClickModal:!1,isAddToCart:!1});function h(){r.value.isActiveBuyIn1ClickModal=!r.value.isActiveBuyIn1ClickModal}function T(){r.value.isAddToCart||axios.post(route("api.v1.cart.add",d.value)).then(()=>{r.value.isAddToCart=!0;try{w("AddToCart",{value:t.product.discount_price?t.product.discount_price:t.product.price,currency:"UAH",content_type:"product",content_ids:[d.value.item_id],content_name:t.product.h1},d.value.event_id),A.trackEvent({event:"add_product_to_cart",ecommerce:{items:[{item_name:t.product.h1,item_id:d.value.item_id,price:t.product.discount_price?t.product.discount_price:t.product.price,quantity:1}]}})}catch(l){console.log(l)}m.commit("loadCart"),k({icon:"success",title:"Товар додано до вашого кошика!",text:"Ви можете оформити замовлення або продовжити покупки :)",showCancelButton:!0,confirmButtonText:"Оформити замовлення",cancelButtonText:"Продовжити покупки"}).then(l=>{l.isConfirmed&&typeof window<"u"&&(window.location.href=route("checkout"))})}).catch(()=>{k({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"})})}return(l,de)=>(c(),s(p,null,[e("div",S,[j,e("div",q,[e("div",E,[o.product.discount_price?(c(),s("div",$,[e("div",D,a(o.product.price)+" грн. ",1),e("div",F,a(o.product.discount_price)+" грн.",1)])):n("",!0),o.product.discount_price?n("",!0):(c(),s("div",G,[e("div",H,a(o.product.price)+" грн. ",1)]))]),e("div",L,[_(b,{onClick:T,type:"button"},{default:f(()=>[g(" До кошика ")]),_:1}),_(b,{onClick:h,type:"button"},{default:f(()=>[g(" Купити в 1 клік ")]),_:1})])]),J]),e("div",K,[o.product.sizes.length?(c(),s("div",O,[Q,e("ul",R,[(c(!0),s(p,null,x(o.product.sizes,i=>(c(),s("li",W,[y(e("input",{type:"checkbox",value:i.title,id:i.title,class:"hidden peer","onUpdate:modelValue":u=>d.value.size=u},null,8,X),[[C,d.value.size]]),e("label",{for:i.title,class:"inline-flex justify-center items-center mx-auto text-gray-500 bg-white rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50 w-[40px] h-[40px]"},a(i.title),9,Y)]))),256))])])):n("",!0),o.product.colors.length?(c(),s("div",Z,[ee,e("div",te,[(c(!0),s(p,null,x(o.product.colors,i=>(c(),s("div",null,[y(e("input",{type:"checkbox",id:i.name,value:i.name,class:"hidden peer","onUpdate:modelValue":u=>d.value.color=u},null,8,oe),[[C,d.value.color]]),e("label",{for:i.name,style:U("background-color:"+i.hex),class:"inline-flex justify-center items-center mx-auto text-black-500 rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-black peer-checked:text-gray-600 hover:bg-black w-[40px] h-[40px]"},null,12,ce)]))),256))])])):n("",!0)]),r.value.isActiveBuyIn1ClickModal?(c(),B(z,{key:0,onCloseModal:h,item:d.value,product:o.product,cart:V(m).state.list,eventIdPurchaseIn1Click:t.eventIdPurchaseIn1Click,eventIdAddToCard:t.eventIdAddToCard,isAddToCart:r.value.isAddToCart},null,8,["item","product","cart","eventIdPurchaseIn1Click","eventIdAddToCard","isAddToCart"])):n("",!0)],64))}};export{fe as default};
