import f from"./Timer-b770e0e6.js";import v from"./ProductCard-48c12dd1.js";import{_ as h}from"./MasterLayout-cc5c73f7.js";import x from"./Head-e91aef5a.js";import{s as d}from"./swal-03cac797.js";import{j as _,k as u,o as k,l as r,m as n,n as p,p as t,v as o,t as y,F as m,q as S,s as T}from"./index-a01126e2.js";import"./Callback-e4d8a8f7.js";import"./Modal-4a985b91.js";import"./Loader-4079abec.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input-f389d631.js";import"./Label-106de98b.js";import"./InputError-f28ae438.js";import"./maska-224de96c.js";import"./Header-235a6c9d.js";import"./CartIcon-0074655f.js";import"./Logo-83ffc10f.js";import"./HeaderCategories-c773af65.js";import"./swiper-slide-9942daa4.js";import"./pagination-09fa0ae8.js";import"./lazy-e052734e.js";import"./autoplay-5b9d7d48.js";import"./Footer-9e10e39a.js";import"./ScrollToTop-e1a64eae.js";const I={class:"grid gap-4 grid-cols-1"},O={class:"grid grid-cols-1 gap-4"},P={class:"font-bold text-black text-center text-2xl font-heading"},b={class:"text-center text-xl font-subheading"},w={key:0,class:"text-center text-xl font-subheading"},D={key:0,class:"grid gap-4 mt-5"},L={class:"font-bold text-black text-center text-2xl font-subheading"},B={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},M={key:1,class:"order-page__text my-5"},V=_({layout:h}),ie=Object.assign(V,{__name:"Index",props:{categories:Array,options:Object,pages:Array,lang:String,eventIdPageView:String,textThanksPageTitle:{type:String,default:"Дякую за ваше замовлення :)"},textThanksPageDescription:{type:String,default:"Найближчим часом з вами зв`яжеться оператор для підтвердження замовлення."},textThanksPageOrderId:{type:String,default:"Номер вашого замовлення:"},textThanksPageSpecials:{type:String,default:"Спеціальні пропозиції. Встигни додати до замовлення"},textThanksPageSpecialsEnds:{type:String,default:"Час дії пропозиції минув. Сподіваємось, Вас зацікавлять наші акції наступного разу. Починаємо готувати посилку і незабаром відправимо Ваше замовлення"}},setup(s){const l=u({hours:"",mins:"",secs:""}),e=u({orderId:null,isLoading:!0,products:[],activeSpecialOffer:!1});k(async()=>{e.value.orderId=route().params.id,await axios.get(route("api.v1.orders.special",e.value.orderId)).then(({data:i})=>{i.result?setInterval(function(){let a=new Date(i.result.end_time).getTime()-new Date().getTime();a>=0?(l.value.hours=("0"+Math.floor(a%(1e3*60*60*24)/(1e3*60*60))).slice(-2),l.value.mins=("0"+Math.floor(a%(1e3*60*60)/(1e3*60))).slice(-2),l.value.secs=("0"+Math.floor(a%(1e3*60)/1e3)).slice(-2),e.value.activeSpecialOffer=!0,e.value.products=i.result.products,e.value.isLoading=!1):(e.value.activeSpecialOffer=!1,e.value.isLoading=!1)},1e3):(e.value.isLoading=!1,e.value.activeSpecialOffer=!1)})});const g=async(i,a)=>{await axios.post("/api/v1/order/add-item/"+e.value.orderId,{id:i,price:a}).then(async()=>await d({icon:"success",title:"Додано!",text:"Товар успішно додано до вашого замовлення"})).catch(async c=>{console.error(c),await d({icon:"error",title:"Виникла помилка",text:"Зверніться до адміністратора"})})};return(i,a)=>(r(),n(m,null,[p(x,{title:"Дякуємо за покупку!"}),t("section",I,[t("div",O,[t("h1",P,o(s.textThanksPageTitle),1),t("div",b,[t("p",null,o(s.textThanksPageDescription),1)]),e.value.orderId?(r(),n("div",w,o(s.textThanksPageOrderId)+" "+o(e.value.orderId),1)):y("",!0)]),e.value.activeSpecialOffer?(r(),n("div",D,[t("div",L,o(s.textThanksPageSpecials),1),p(f,{timer:l.value},null,8,["timer"]),t("div",B,[(r(!0),n(m,null,S(e.value.products,c=>(r(),T(v,{product:c,onAddItemToOrder:g,lang:s.lang},null,8,["product","lang"]))),256))])])):(r(),n("div",M,[t("p",null,o(s.textThanksPageSpecialsEnds),1)]))])],64))}});export{ie as default};
