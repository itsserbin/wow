import{i as g}from"./load-76a4947f.js";import w from"./Support-978afc6e.js";import S from"./Consultation-9a41e492.js";import k from"./Content-7934d874.js";import F from"./Banners-99fb6bbf.js";import L from"./Products-cc5b7663.js";import b from"./Sort-1f14bf67.js";import x from"./Filter-43a2ce15.js";import{P as M}from"./ProductsRepository-30e2f09f.js";import P from"./Button-5a7dd9cc.js";import{_ as $}from"./MasterLayout-4217d740.js";import V from"./Breadcrumbs-40bf01a3.js";import C from"./Head-9c7b1514.js";import{m as _,r as f,j,o as B,p as r,q as N,l as c,v as i,D as s,C as l,x as U,y as z,t as I,F as O,A as q}from"./app-6d1ec759.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-eeaa9687.js";import"./Loader-ccbb56f4.js";import"./Input-6345aa4b.js";import"./InputError-f9295872.js";import"./swal-76588f7d.js";import"./maska-224de96c.js";import"./swiper-slide-5d66ba81.js";import"./pagination-7c85a91c.js";import"./autoplay-53c9f8a7.js";import"./ProductCards-aefdff41.js";import"./ProductCard-df2db459.js";import"./app-65111db7.js";import"./vue-i18n.esm-bundler-39f45a4f.js";import"./eventTracking-2c28b7ec.js";import"./Accordion-a03c8a54.js";import"./AccordionItem-71503d37.js";import"./index-10963069.js";import"./Header-ab15bc00.js";import"./CartIcon-7af6af61.js";import"./Langs-90c49031.js";import"./Logo-7b0b10d2.js";import"./HeaderCategories-e972571f.js";import"./lazy-1a231b83.js";import"./Footer-72a9642e.js";import"./FixedBanner-77c8b9a7.js";import"./ScrollToTop-7a9e7f3e.js";import"./Breadcrumbs-cd40f922.js";import"./Head-b2b32293.js";const A={class:"grid grid-cols-1 gap-4"},D={class:"flex justify-between md:justify-end items-center"},E={class:"block md:hidden mr-2"},R={class:"grid grid-cols-12 gap-4"},T={class:"products col-span-12 md:col-span-9"},G=_({layout:$}),Ut=Object.assign(G,{__name:"Index",props:["banners","lang","title","characteristics","text","consultation","products","categories","category","options","pages","eventIdPageView"],setup(t){const p=t,e=f({products:[],isLoadingMore:!1,isShowLoadMore:!0,isShowFilter:!1}),o=f({currentPage:1,sort:null,filter:null}),v=j(()=>{const{currentPage:a,sort:n,filter:d}=o.value;return{page:a,sort:n,filter:d,slug:route().params.slug}});B(async()=>{e.value.products=p.products.data,g.value=!1});const h=async()=>{o.value.currentPage=0,e.value.products=[],await u()},y=async a=>{o.value.filter=a,o.value.currentPage=0,e.value.products=[],e.value.isShowFilter&&m(),await u()},u=async()=>{o.value.currentPage+=1;try{const a=await M.v1().category(v.value);a.success&&(o.value.currentPage=a.result.current_page,e.value.products=e.value.products.concat(a.result.data),e.value.isShowLoadMore=a.result.to!==a.result.total)}catch(a){console.error(a),e.value.isLoading=!1}},m=()=>{e.value.isShowFilter=!e.value.isShowFilter};return(a,n)=>(r(),N(O,null,[c(C,{category:t.category,lang:t.lang},null,8,["category","lang"]),c(V,{currentUrl:a.route().current,options:t.options,lang:t.lang,title:t.category.title[t.lang]},null,8,["currentUrl","options","lang","title"]),i("div",A,[t.banners.length?(r(),s(F,{key:0,lang:t.lang,data:t.banners},null,8,["lang","data"])):l("",!0),i("div",D,[i("div",E,[c(P,{type:"button",onClick:m},{default:U(()=>[q("Фільтрувати")]),_:1})]),c(b,{modelValue:o.value.sort,"onUpdate:modelValue":n[0]||(n[0]=d=>o.value.sort=d),onSort:h},null,8,["modelValue"])]),i("div",R,[i("div",{class:z([{"!block fixed h-full w-full z-50 overflow-y-scroll top-0 right-0":e.value.isShowFilter},"filter hidden md:col-span-3 md:block"])},[Object.keys(t.characteristics).length?(r(),s(x,{key:0,characteristics:t.characteristics,lang:t.lang,onFetch:y,onClose:m,isShow:e.value.isShowFilter},null,8,["characteristics","lang","isShow"])):l("",!0)],2),i("div",T,[e.value.products.length?(r(),s(L,{key:0,lang:t.lang,title:t.title,data:e.value.products,isLoadingMore:e.value.isLoadingMore,isShowLoadMore:e.value.isShowLoadMore,onFetch:u},null,8,["lang","title","data","isLoadingMore","isShowLoadMore"])):l("",!0)])]),t.text?(r(),s(k,{key:1,data:t.text},null,8,["data"])):l("",!0),t.consultation?(r(),s(S,{key:2})):l("",!0),I(g)?l("",!0):(r(),s(w,{key:3}))])],64))}});export{Ut as default};
