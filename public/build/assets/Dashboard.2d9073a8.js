import f from"./Chart.f7431e4c.js";import g from"./LastParams.6786c2ed.js";import b from"./Indicators.6bc4ebfd.js";import x from"./Table.b038a005.js";import y from"./Table2.aae28950.js";import{y as n,G as k,z as B,W as l,U as u,Y as d,S as s,M as D,L as V,V as $,F as L,K as N,a0 as o,Z as C}from"./moment.325cf309.js";import"./index.c8632c46.js";import"./app.d8b74f37.js";const F=C(" Dashboard "),M={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},W={__name:"Dashboard",setup(S){const a=n({date:[],filter:null,last:"one-month",page:1}),e=n({table:null,table2:null,chart:null,indicators:null}),c=n({statistics:[]});k(()=>{i(),axios.get(route("api.dashboard")).then(({data:t})=>c.value.statistics=t.countOrders).catch(t=>console.log(t))});const r=B(()=>{const t={};return a.value.filter&&(t.filter=a.value.filter),a.value.date.length===2&&(t.date_start=a.value.date[0],t.date_end=a.value.date[1]),a.value.last&&(t.last=a.value.last),t.page=a.value.page,t});function m(t){t?a.value.last=t:a.value={date:[],filter:null,last:null,page:1},i()}function i(){axios.get(route("api.statistics.orders.index",r.value)).then(({data:t})=>e.value.table=t.result.data).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.chart",r.value)).then(({data:t})=>e.value.chart=t.result).catch(t=>console.log(t)),axios.get(route("api.statistics.orders.indicators",r.value)).then(({data:t})=>e.value.indicators=t.result).catch(t=>console.log(t))}return(t,w)=>{const p=d("card-component"),_=d("auth-layout");return s(),l(_,{title:"Dashboard"},{header:u(()=>[F]),default:u(()=>[D("div",M,[(s(!0),V(L,null,$(c.value.statistics,(v,h)=>(s(),l(p,{class:"text-center",title:h,description:v},null,8,["title","description"]))),256))]),N(g,{"active-item":a.value.last,onSortByLast:m},null,8,["active-item"]),e.value.chart?(s(),l(f,{key:0,chartData:e.value.chart},null,8,["chartData"])):o("",!0),e.value.indicators?(s(),l(b,{key:1,data:e.value.indicators},null,8,["data"])):o("",!0),e.value.table?(s(),l(x,{key:2,data:e.value.table},null,8,["data"])):o("",!0),e.value.table2?(s(),l(y,{key:3,data:e.value.table},null,8,["data"])):o("",!0)]),_:1})}}};export{W as default};
