import{i as P,m as A,p as c,x as u,u as i,s as n,q as e,G as m,C as s,a5 as T,F as g,D as v,aa as H,P as N,E as V,z as o,H as w,L as f,B as D}from"./index.1726d409.js";import{u as $}from"./app.926875e9.js";import{v as x}from"./lazyload.6866379a.js";import{S as b,a as q}from"./swiper-slide.7de65c6d.js";import"./create-element-if-not-defined.26147364.js";import{N as E}from"./navigation.b481f07e.js";import{L as F}from"./lazy.2bfe2e68.js";const G={class:"items-stretch flex flex-col no-underline border-[1px] border-secondary rounded-lg relative hover:scale-105 transition-all duration-300 h-full"},M={key:0,class:"absolute rounded-xl bg-secondary p-1 top-1 left-1 text-[0.675rem] z-10"},U={class:"w-full mx-auto"},I={key:0},O=["data-src"],R=["data-src","alt"],Z={key:1},J=["srcset"],K=["src","alt"],Q=["data-src","data-srcset","alt"],W=e("div",{class:"swiper-lazy-preloader swiper-lazy-preloader-black"},null,-1),X={class:"flex flex-col items-center p-2 md:p-4 pt-0 justify-between"},Y={class:"text-black mb-[15px] overflow-hidden font-bold text-center h-18 md:h-12 font-subheading text-base"},tt={class:"text-sm text-gray-500 font-text w-full mb-3"},et={class:"card__price flex-col mr-auto font-subheading"},rt={key:0,class:"font-bold text-lg md:text-2xl text-black"},ot={key:1,class:"flex flex-col"},ct={class:"text-[1rem] font-medium text-xs md:text-base line-through text-[#A5A5A5]"},it={class:"font-bold text-lg md:text-2xl text-[#ff0000]"},at=e("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("ellipse",{cx:"12.459",cy:"22.2084",rx:"1.625",ry:"1.625",fill:"white"}),e("circle",{cx:"18.959",cy:"22.2084",r:"1.625",fill:"white"}),e("path",{d:"M7.32572 7.04167L9.60348 17.2435C9.75655 17.9291 10.3649 18.4167 11.0674 18.4167H20.0919C20.7944 18.4167 21.4028 17.9291 21.5559 17.2435L23.4258 8.86852C23.635 7.93136 22.9221 7.04167 21.9618 7.04167H7.32572ZM7.32572 7.04167L6.59497 4.35616C6.41728 3.70315 5.82435 3.25 5.1476 3.25H2.16699",stroke:"white","stroke-width":"1.5","stroke-linecap":"round"})],-1),dt=[at],pt={__name:"ProductCard",props:{product:Object,lang:String,textGoToProductCard:{type:String,default:"\u0414\u043E\u043A\u043B\u0430\u0434\u043D\u0456\u0448\u0435"},slider:{type:Boolean,default:!1}},setup(t){const a=t,{appContext:y}=H(),{$fbq:k}=y.config.globalProperties,C=[F,E],z={slidesPerView:1,lazy:!0,navigation:!0,loop:!0,style:{"--swiper-navigation-color":"rgba(255, 255, 255, 0.3)","--swiper-pagination-color":"rgba(255, 255, 255, 0.3)"}},B=N(),p=V("$swal"),_=$(),l=P({count:1,size:[],color:[],item_id:null,src:route(route().current(),route().params),event_id:""}),L=A(()=>(r,d)=>`- ${((r-d)*100/r).toFixed()}%`);function S(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r=>(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16))}function j(r){l.value.item_id=r,l.value.event_id=S()+"_AddToCard_"+new Date().getTime(),axios.post(route("api.v1.cart.add",l.value)).then(()=>{B.commit("loadCart");try{k("track","AddToCart",{value:a.product.discount_price?a.product.discount_price:a.product.price,currency:"UAH",content_type:"product",content_ids:[l.value.item_id],content_name:a.product.h1},{event_id:l.value.event_id}),_.trackEvent({event:"add_product_to_cart",ecommerce:{items:[{item_name:a.product.h1,item_id:l.value.item_id,price:a.product.discount_price?a.product.discount_price:a.product.price,quantity:1}]}})}catch(d){console.log(d)}p({icon:"success",title:"\u0422\u043E\u0432\u0430\u0440 \u0434\u043E\u0434\u0430\u043D\u043E \u0434\u043E \u0432\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u0448\u0438\u043A\u0430!",text:"\u0412\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u0430\u0431\u043E \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438 :)",showCancelButton:!0,confirmButtonText:"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F",cancelButtonText:"\u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"}).then(d=>{d.isConfirmed&&(window.location.href=route("checkout"))})}).catch(()=>{p({icon:"error",title:"\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430",text:"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0456\u0441\u0442\u044C \u0434\u0430\u043D\u043D\u0438\u0445"})})}return(r,d)=>(o(),c("div",G,[t.product.discount_price?(o(),c("div",M,u(i(L)(t.product.price,t.product.discount_price)),1)):n("",!0),e("div",null,[e("div",U,[t.slider?n("",!0):(o(),c("div",I,[m(i(f),{href:r.route("product",t.product.id)},{default:s(()=>[e("picture",null,[r.route("images.350",t.product.preview.webp_src)?w((o(),c("source",{key:0,"data-src":r.route("images.350",t.product.preview.webp_src),type:"image/webp"},null,8,O)),[[i(x)]]):n("",!0),w(e("img",{"data-src":r.route("images.350",t.product.preview.src),alt:t.lang==="ru"?t.product.h1.ru:t.lang==="ua"?t.product.h1.ua:null,class:"h-full object-cover w-full rounded-t-lg h-56 md:h-72"},null,8,R),[[i(x)]])])]),_:1},8,["href"])])),t.slider?(o(),c("div",Z,[m(i(q),T(z,{modules:C,class:"product-card-swiper"}),{default:s(()=>[m(i(b),null,{default:s(()=>[m(i(f),{href:r.route("product",t.product.id)},{default:s(()=>[e("picture",null,[e("source",{srcset:t.product.preview?r.route("images.350",t.product.preview.webp_src):null,type:"image/webp"},null,8,J),e("img",{src:t.product.preview?r.route("images.350",t.product.preview.src):null,class:"h-full object-cover w-full rounded-t-lg h-56 md:h-72 swiper-lazy",alt:t.product.h1[t.lang]},null,8,K)])]),_:1},8,["href"])]),_:1}),(o(!0),c(g,null,v(t.product.images,h=>(o(),D(i(b),null,{default:s(()=>[m(i(f),{href:r.route("product",t.product.id)},{default:s(()=>[e("img",{"data-src":r.route("images.350",h.src),"data-srcset":r.route("images.350",h.webp_src),alt:t.product.h1[t.lang],class:"h-full object-cover w-full rounded-t-lg h-56 md:h-72 swiper-lazy"},null,8,Q),W]),_:2},1032,["href"])]),_:2},1024))),256))]),_:1},16)])):n("",!0)])]),e("div",X,[m(i(f),{href:r.route("product",t.product.id)},{default:s(()=>[e("h5",Y,u(t.lang==="ru"?t.product.h1.ru:t.lang==="ua"?t.product.h1.ua:null),1)]),_:1},8,["href"]),e("div",tt,[(o(!0),c(g,null,v(t.product.sizes,h=>(o(),c("span",null,u(h.title)+"\xA0 ",1))),256))]),e("div",et,[t.product.discount_price?n("",!0):(o(),c("div",rt,u(t.product.price)+" \u0433\u0440\u043D. ",1)),t.product.discount_price?(o(),c("div",ot,[e("div",ct,u(t.product.price)+" \u0433\u0440\u043D. ",1),e("div",it,u(t.product.discount_price)+" \u0433\u0440\u043D. ",1)])):n("",!0),e("a",{href:"javascript:",onClick:d[0]||(d[0]=h=>j(t.product.id)),class:"w-12 h-12 md:w-14 md:h-14 rounded-full flex justify-center items-center col-span-1 absolute right-[-7px] bottom-[-7px] bg-button hover:bg-accent hover:scale-105 transition-all duration-500"},dt)])])]))}};export{pt as default};
