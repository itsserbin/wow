import{L as k,o as x,j as $}from"./app.95816afc.js";import w from"./Table.5a9e0ebf.js";import P from"./StatisticLayout.b3b862e8.js";import y from"./Datepicker.c8c8c334.js";import{p as u,f as r,q as B,ag as D,ah as M,m as i,w as c,v as m,o,j as g,u as N,g as p,x as d,i as v,F as j,s as C,k as F}from"./vendor.aefaaf5e.js";import"./vue.m.8e70aa70.js";import"./bootstrap.a62f1e2e.js";import"./__commonjsHelpers__.488ed5c2.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Logo.9cbb3071.js";const O=F(" \u041F\u043E\u0432\u0435\u0440\u043D\u0435\u043D\u043D\u044F "),S={key:1,class:"grid grid-cols-1 gap-4"},U={class:"grid grid-cols-2 md:grid-cols-4"},b={class:"text-center"},Q={__name:"Index",setup(q){m("$swal");const f=m("$can"),a=u({data:[],indicators:[],chart:null,isLoading:!0}),e=u({date:[],currentPage:1}),_=r(()=>{if(e.value.date.length===2)return{date_start:e.value.date[0].toLocaleDateString(),date_end:e.value.date[1].toLocaleDateString()}}),h=r(()=>e.value.last),L=r(()=>({..._.value,last:h.value,page:e.value.currentPage}));B(()=>{e.value.date[0]=D(new Date),e.value.date[1]=M(new Date),l()});const l=async()=>{a.value.isLoading=!0,axios.get(route("api.statistics.refunds.index",L.value)).then(({data:t})=>{a.value.data=t.result,a.value.isLoading=!1}).catch(t=>{console.log(t),a.value.isLoading=!1})};return(t,n)=>(o(),i(P,{title:"\u041F\u043E\u0432\u0435\u0440\u043D\u0435\u043D\u043D\u044F"},{header:c(()=>[O]),default:c(()=>[a.value.isLoading?(o(),i(k,{key:0})):g("",!0),!a.value.isLoading&&N(f)("show-bookkeeping-refunds")?(o(),p("div",S,[d(y,{modelValue:e.value.date,"onUpdate:modelValue":[n[0]||(n[0]=s=>e.value.date=s),l]},null,8,["modelValue"]),v("div",U,[(o(!0),p(j,null,C(a.value.indicatord,(s,V)=>(o(),i(x,{class:"text-center",title:V,description:t.$filters.formatMoney(s)},null,8,["title","description"]))),256))]),d(w,{data:a.value.data.data},null,8,["data"]),v("div",b,[d($,{pagination:a.value.data,"click-handler":l,modelValue:e.value.currentPage,"onUpdate:modelValue":n[1]||(n[1]=s=>e.value.currentPage=s)},null,8,["pagination","modelValue"])])])):g("",!0)]),_:1}))}};export{Q as default};
