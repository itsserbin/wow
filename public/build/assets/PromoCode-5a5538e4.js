import{r as _,g as X,u as o,s as r,j as s,v as d,i as y,M as v,p as a,k as m}from"./app-443dd386.js";import i from"./Button-8f72f0ce.js";import p from"./Input-95edb81d.js";import{s as l}from"./swal-950be8b9.js";const h={class:"items-center border-gray-300 flex rounded-[15px] shadow-lg box-border justify-between p-[1rem] mb-3 flex-col md:flex-row"},k=y("label",{class:"text-[#231f20] flex-row text-lg font-subheading font-[500] text-center"},"Промокод",-1),B={__name:"PromoCode",setup(b){const c=_(null),e=v();function u(){axios.post("/api/v1/cart/promo-code/activate",{promo_code:c.value}).then(({data:t})=>{t.result?(l({icon:"success",title:"Промо-код активирован"}),e.commit("loadCart")):l({icon:"error",title:"Произошла ошибка :(",text:"Возможно, промо-код введен некорректно, или же истек срок действия"})}).catch(t=>console.log(t))}function f(){axios.post("/api/v1/cart/promo-code/deactivate").then(()=>{l({title:"Промо-код деактивирован!",icon:"success"}),e.commit("loadCart")}).catch(t=>console.log(t))}return(t,n)=>(a(),X("div",h,[k,o(e).state.promo_code?s("",!0):(a(),r(p,{key:0,type:"text",placeholder:"XXX-XXX-XXX",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=x=>c.value=x),class:"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading"},null,8,["modelValue"])),o(e).state.promo_code?(a(),r(p,{key:1,type:"text",placeholder:"XXX-XXX-XXX",value:o(e).state.promo_code,class:"py-1 text-center w-[100%] rounded-[20px] mx-3 my-3 md:my-0 font-heading"},null,8,["value"])):s("",!0),o(e).state.promo_code?(a(),r(i,{key:2,type:"button",onClick:f},{default:d(()=>[m(" Деактивувати ")]),_:1})):s("",!0),o(e).state.promo_code?s("",!0):(a(),r(i,{key:3,onClick:u,type:"button"},{default:d(()=>[m(" Активувати ")]),_:1}))]))}};export{B as default};
