{"version":3,"file":"Filter-43a2ce15.js","sources":["../../../resources/js/Pages/Public/Category/Filter.vue"],"sourcesContent":["<script setup>\nimport {computed, ref} from \"vue\";\nimport Input from '@/Pages/Public/Components/Input.vue'\nimport Button from '@/Pages/Public/Components/Button.vue'\nimport Accordion from \"@/Pages/Public/Components/Accordion/Accordion.vue\";\nimport AccordionItem from \"@/Pages/Public/Components/Accordion/AccordionItem.vue\";\n// import Slider from '@vueform/slider/dist/slider'\n\nconst props = defineProps(['characteristics', 'lang','isShow']);\nconst emits = defineEmits(['fetch','close']);\n\nconst state = ref({\n    price: [\n        props.characteristics.price.min,\n        props.characteristics.price.max\n    ],\n    characteristics: {},\n    sizes: [],\n    colors: []\n});\n\nprops.characteristics.list.forEach((item) => {\n    state.value.characteristics[item.id] = [];\n});\n\nconst params = computed(() => {\n    let characteristics = [];\n    props.characteristics.list.forEach((item) => {\n        if (state.value.characteristics[item.id].length) {\n            state.value.characteristics[item.id].forEach((val) => {\n                characteristics.push(val);\n            })\n        }\n    });\n    return {\n        characteristics: characteristics,\n        price: state.value.price,\n        colors: state.value.colors,\n        sizes: state.value.sizes\n    }\n})\n\n\nfunction filter() {\n    emits('fetch', params.value);\n}\n</script>\n\n<template>\n    <div class=\"bg-secondary rounded-lg shadow-sm p-7\">\n        <button @click=\"$emit('close')\" type=\"button\"\n                v-if=\"isShow\"\n                class=\"absolute top-4 right-2\"\n        >\n            <svg aria-hidden=\"true\" class=\"w-5 h-5 test_x\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\n                 xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\"\n                      d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                      clip-rule=\"evenodd\"></path>\n            </svg>\n        </button>\n        <div class=\"grid grid-cols-1 gap-4\">\n<!--            <div class=\"block\">-->\n<!--                <label class=\"block mb-2 text-sm font-medium text-gray-900\">-->\n<!--                    Ціна-->\n<!--                </label>-->\n<!--                <div class=\"flex items-center\">-->\n<!--                    <Input type=\"nubmer\" v-model=\"state.price[0]\" placeholder=\"Від\" class=\"mt-0\"/>-->\n<!--                    <p class=\"text-2xl px-3\">-</p>-->\n<!--                    <Input type=\"nubmer\" v-model=\"state.price[1]\" placeholder=\"До\" class=\"mt-0\"/>-->\n<!--                </div>-->\n<!--              <div class=\"py-6\">-->\n<!--                  <Slider v-model=\"state.price\"-->\n<!--                          tooltipPosition=\"bottom\"-->\n<!--                          :min=\"characteristics.price.min\"-->\n<!--                          :max=\"characteristics.price.max\"-->\n<!--                          class=\"slider-red\"-->\n<!--                  />-->\n<!--              </div>-->\n<!--            </div>-->\n            <div class=\"block\">\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Розміри\n                </label>\n                <ul class=\"grid w-full gap-2 grid-cols-5\">\n                    <li v-for=\"size in characteristics.sizes\">\n                        <input type=\"checkbox\" :id=\"'size_' + size.id\" multiple v-model=\"state.sizes\" :value=\"size.id\"\n                               class=\"hidden peer\">\n                        <label :for=\"'size_' + size.id\"\n                               class=\"inline-flex text-sm items-center justify-center w-full p-3 text-text bg-white border-2 border-gray-200 rounded-lg cursor-pointer peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50\">\n                            {{ size.title }}\n                        </label>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"block\">\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Кольори\n                </label>\n                <ul class=\"grid w-full gap-3 grid-cols-6\">\n                    <li v-for=\"color in characteristics.colors\">\n                        <input type=\"checkbox\"\n                               :id=\"color.id\"\n                               :value=\"color.id\"\n                               class=\"hidden peer\"\n                               v-model=\"state.colors\"\n                        >\n                        <label :for=\"color.id\"\n                               :style=\"'background-color:' + color.hex\"\n                               class=\"\n                                inline-flex\n                                justify-center\n                                items-center\n                                mx-auto\n                                text-black-500\n                                rounded-lg\n                                border-2\n                                border-gray-200\n                                cursor-pointer\n                                peer-checked:border-blue-600\n                                hover:text-black\n                                peer-checked:text-gray-600\n                                hover:bg-black\n                                w-[40px]\n                                h-[40px]\n                            \"\n                        />\n                    </li>\n                </ul>\n            </div>\n            <Accordion>\n                <AccordionItem v-for=\"item in characteristics.list\">\n                    <template #accordion-trigger>\n                        {{ item.title[lang] }}\n                    </template>\n                    <template #accordion-content>\n                        <ul class=\"h-48 px-1 pb-3 overflow-y-auto text-sm text-gray-700\">\n                            <li v-for=\"value in item.values\">\n                                <div class=\"flex items-center p-1\">\n                                    <input type=\"checkbox\"\n                                           :value=\"value.id\"\n                                           v-model=\"state.characteristics[item.id]\"\n                                           multiple\n                                           class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\">\n                                    <label\n                                        class=\"w-full ml-2 text-sm font-medium rounded\">\n                                        {{ value.title[lang] }}\n                                    </label>\n                                </div>\n                            </li>\n                        </ul>\n                    </template>\n                </AccordionItem>\n            </Accordion>\n            <Button type=\"button\" @click=\"filter\">Фільтрувати</Button>\n        </div>\n    </div>\n</template>\n\n<style>\n.slider-red {\n    --slider-connect-bg: #EF4444;\n    --slider-tooltip-bg: #EF4444;\n    --slider-handle-ring-color: #EF444430;\n}\n</style>\n"],"names":["state","ref","props","item","params","computed","characteristics","val","filter","emits"],"mappings":"07CAWMA,EAAQC,EAAI,CACd,MAAO,CACHC,EAAM,gBAAgB,MAAM,IAC5BA,EAAM,gBAAgB,MAAM,GAC/B,EACD,gBAAiB,CAAE,EACnB,MAAO,CAAE,EACT,OAAQ,CAAE,CACd,CAAC,EAEDA,EAAM,gBAAgB,KAAK,QAASC,GAAS,CACzCH,EAAM,MAAM,gBAAgBG,EAAK,EAAE,EAAI,CAAA,CAC3C,CAAC,EAED,MAAMC,EAASC,EAAS,IAAM,CAC1B,IAAIC,EAAkB,CAAA,EACtB,OAAAJ,EAAM,gBAAgB,KAAK,QAASC,GAAS,CACrCH,EAAM,MAAM,gBAAgBG,EAAK,EAAE,EAAE,QACrCH,EAAM,MAAM,gBAAgBG,EAAK,EAAE,EAAE,QAASI,GAAQ,CAClDD,EAAgB,KAAKC,CAAG,CACxC,CAAa,CAEb,CAAK,EACM,CACH,gBAAiBD,EACjB,MAAON,EAAM,MAAM,MACnB,OAAQA,EAAM,MAAM,OACpB,MAAOA,EAAM,MAAM,KACtB,CACL,CAAC,EAGD,SAASQ,GAAS,CACdC,EAAM,QAASL,EAAO,KAAK,CAC/B"}