import S from"./ItemsTable.55a939f7.js";import{r as A,s as U,_ as u,e as b,a as m,g as C}from"./app.553ddd32.js";import{Y as $,F as i,y as v,J as f,K as y,z as o,Q as g,G as c,M as a,O as h,W as E,$ as B,T as j,L as D,w as M,S as O,A as r,P as N}from"./moment.791e2419.js";import{g as k}from"./index.02b5b7d6.js";const x={props:{},data(){return{Accordion:{count:0,active:null}}},provide(){return{Accordion:this.Accordion}}},L={class:"rounded-lg"};function P(e,n,d,t,l,s){return i(),v("div",L,[f(e.$slots,"default")])}const T=$(x,[["render",P]]),_={props:{},inject:["Accordion"],data(){return{index:null}},components:{ArrowUp:A,ArrowDown:U},computed:{visible(){return this.index===this.Accordion.active}},methods:{open(){this.visible?this.Accordion.active=null:this.Accordion.active=this.index},beforeEnter(e){e.style.opacity=0,e.style.height=0},enter(e,n){k.to(e,{duration:.5,opacity:1,height:e.scrollHeight,delay:e.dataset.index*.15,ease:"Power3.easeIn",onComplete:n})},leave(e,n){k.to(e,{duration:.5,opacity:0,height:0,delay:e.dataset.index*.15,ease:"Power3.easeOut",onComplete:n})}},created(){this.index=this.Accordion.count++}},z={class:"p-5 font-light border border-b-0 border-gray-200 dark:border-gray-800 dark:bg-gray-800"};function F(e,n,d,t,l,s){const p=y("ArrowUp"),V=y("ArrowDown");return i(),v("div",{class:D(["first:rounded-t-lg last:rounded-b-lg border border-gray-200 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all",{"dark:bg-gray-800":s.visible,"dark:bg-gray-600":!s.visible}])},[o("button",{onClick:n[0]||(n[0]=(...w)=>s.open&&s.open(...w)),type:"button",class:"flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 dark:text-gray-400"},[o("span",null,[f(e.$slots,"accordion-trigger")]),s.visible?c("",!0):(i(),g(p,{key:0})),s.visible?(i(),g(V,{key:1})):c("",!0)]),a(j,{name:"staggered-fade",tag:"ul",css:!1,onBeforeEnter:s.beforeEnter,onEnter:s.enter,onLeave:s.leave},{default:h(()=>[E(o("div",null,[o("div",z,[f(e.$slots,"accordion-content")])],512),[[B,s.visible]])]),_:3},8,["onBeforeEnter","onEnter","onLeave"])],2)}const I=$(_,[["render",F]]),W={class:"grid gap-4"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H={class:"block"},J={key:0,class:"block"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"grid gap-4"},Y={class:"block"},q={class:"block"},R={class:"block"},X={class:"block"},Z={class:"block"},ee={class:"siv"},te={key:1,class:"grid grid-cols-1 md:grid-cols-4 text-center gap-4"},se={class:"block"},le={class:"block"},ae={class:"block"},oe={class:"block"},ue={__name:"Form",props:["item","statuses","subStatuses","orderStatuses"],setup(e){const n=e,d=M({itemsModalAction:"",statuses:[],subStatuses:{experienced:[],return:[]}});return O(()=>{for(const[t,l]of Object.entries(n.subStatuses.experienced))d.value.subStatuses.experienced.push({value:l,key:t});for(const[t,l]of Object.entries(n.subStatuses.return))d.value.subStatuses.return.push({value:l,key:t});for(const[t,l]of Object.entries(n.statuses))d.value.statuses.push({value:l,key:t})}),(t,l)=>(i(),v("form",W,[o("div",G,[o("div",H,[a(u,{value:t.$t("clients.status")},null,8,["value"]),a(b,{modelValue:e.item.status,"onUpdate:modelValue":l[0]||(l[0]=s=>e.item.status=s),options:d.value.statuses},null,8,["modelValue","options"])]),e.item.status==="experienced"||e.item.status==="return"?(i(),v("div",J,[a(u,{value:t.$t("clients.sub_status")},null,8,["value"]),e.item.status==="experienced"?(i(),g(b,{key:0,modelValue:e.item.subStatuses,"onUpdate:modelValue":l[1]||(l[1]=s=>e.item.subStatuses=s),options:d.value.subStatuses.experienced},null,8,["modelValue","options"])):c("",!0),e.item.status==="return"?(i(),g(b,{key:1,modelValue:e.item.subStatuses,"onUpdate:modelValue":l[2]||(l[2]=s=>e.item.subStatuses=s),options:d.value.subStatuses.return},null,8,["modelValue","options"])):c("",!0)])):c("",!0)]),o("div",K,[o("div",Q,[o("div",Y,[a(u,{value:t.$t("clients.name")},null,8,["value"]),a(m,{modelValue:e.item.name,"onUpdate:modelValue":l[3]||(l[3]=s=>e.item.name=s),type:"text",placeholder:t.$t("clients.enter_name")},null,8,["modelValue","placeholder"])]),o("div",q,[a(u,{value:t.$t("clients.last_name")},null,8,["value"]),a(m,{modelValue:e.item.last_name,"onUpdate:modelValue":l[4]||(l[4]=s=>e.item.last_name=s),type:"text",placeholder:t.$t("clients.enter_last_name")},null,8,["modelValue","placeholder"])]),o("div",R,[a(u,{value:t.$t("clients.middle_name")},null,8,["value"]),a(m,{modelValue:e.item.middle_name,"onUpdate:modelValue":l[5]||(l[5]=s=>e.item.middle_name=s),type:"text",placeholder:t.$t("clients.enter_middle_name")},null,8,["modelValue","placeholder"])]),o("div",X,[a(u,{value:t.$t("clients.middle_name")},null,8,["value"]),a(m,{modelValue:e.item.phone,"onUpdate:modelValue":l[6]||(l[6]=s=>e.item.phone=s),type:"tel",placeholder:t.$t("clients.enter_phone")},null,8,["modelValue","placeholder"])]),o("div",Z,[a(u,{value:t.$t("clients.email")},null,8,["value"]),a(m,{modelValue:e.item.email,"onUpdate:modelValue":l[7]||(l[7]=s=>e.item.email=s),type:"email",placeholder:t.$t("clients.enter_email")},null,8,["modelValue","placeholder"])])]),o("div",ee,[a(u,{value:t.$t("clients.comment")},null,8,["value"]),a(C,{modelValue:e.item.comment,"onUpdate:modelValue":l[8]||(l[8]=s=>e.item.comment=s),rows:"18",placeholder:t.$t("clients.enter_comment")},null,8,["modelValue","placeholder"])])]),e.item.orders.length?(i(),g(T,{key:0},{default:h(()=>[a(I,null,{"accordion-trigger":h(()=>[N(r(t.$t("orders.page_title")),1)]),"accordion-content":h(()=>[a(S,{data:e.item.orders,"order-statuses":e.orderStatuses},null,8,["data","order-statuses"])]),_:1})]),_:1})):c("",!0),e.item.orders.length?(i(),v("div",te,[o("div",se,r(t.$t("clients.number_of_purchases"))+": "+r(e.item.number_of_purchases),1),o("div",le,r(t.$t("clients.purchased_goods"))+": "+r(e.item.purchased_goods),1),o("div",ae,r(t.$t("clients.average_check"))+": "+r(t.$filters.formatMoney(e.item.average_check)),1),o("div",oe,r(t.$t("clients.whole_check"))+": "+r(t.$filters.formatMoney(e.item.whole_check)),1)])):c("",!0)]))}};export{ue as default};
