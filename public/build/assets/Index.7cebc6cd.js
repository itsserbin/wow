import m from"./OptionsLayout.72de8c8a.js";import f from"./Form.e4bbd32b.js";import{j as w}from"./app.460df568.js";import{bT as _,w as g,S as v,Q as t,K as x,X as c,F as n,P as u,B as y}from"./___vite-browser-external_commonjs-proxy.4f2b06be.js";const p={main(){return{async index(){try{return(await axios.get(route("api.options.main.index"))).data}catch(e){throw new Error(e.response.data.message)}},async update(e){try{return(await axios.put(route("api.options.main.update"),e)).data}catch(o){throw new Error(o.response.data.message)}}}}},b={__name:"Index",setup(e){const o=c("$can"),r=c("$swal"),{t:i}=_(),a=g({isLoading:!1,options:{}});v(()=>l());const l=async()=>{a.value.isLoading=!0;const s=await p.main().index();s.success&&(a.value.options=s.result),a.value.isLoading=!1},d=async()=>{a.value.isLoading=!0;const s=await p.main().update(a.value.options);s.success?r({title:i("swal.updated"),icon:"success"}):(console.log(s),r({title:i("swal.error"),icon:"error"})),a.value.isLoading=!1};return(s,h)=>(n(),t(m,null,{default:x(()=>[a.value.isLoading?(n(),t(w,{key:0})):u("",!0),y(o)("show-main-options")&&!a.value.isLoading?(n(),t(f,{key:1,options:a.value.options,onSubmitForm:d},null,8,["options"])):u("",!0)]),_:1}))}};export{b as default};
