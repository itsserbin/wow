{"version":3,"file":"Index-9a536988.js","sources":["../../../resources/js/Pages/Public/Status/Index.vue"],"sourcesContent":["<script setup>\nimport Breadcrumbs from './Breadcrumbs.vue'\nimport MasterLayout from '@/Layouts/MasterLayout.vue'\nimport Form from '@/Pages/Public/Status/Form.vue';\nimport Status from '@/Pages/Public/Status/Status.vue';\nimport Head from \"@/Pages/Public/Components/Head.vue\";\n\nimport {swal} from '@/Includes/swal';\nimport {onMounted, ref} from \"vue\";\n\ndefineOptions({layout: MasterLayout})\n\nconst props = defineProps([\n    'statuses',\n    'categories',\n    'options',\n    'lang',\n    'pages',\n    'eventIdPageView',\n]);\n\nconst state = ref({\n    item: {\n        phone: null,\n        order_id: null,\n    },\n    isLoading: false,\n    statuses: [],\n    order: null\n});\n\nonMounted(async () => {\n    if (route().params.order_id && route().params.phone) {\n        state.value.item.phone = route().params.phone;\n        state.value.item.order_id = route().params.order_id;\n        await checkStatus();\n    }\n})\n\nconst checkStatus = async () => {\n    await axios.post(route('api.v1.orders.status'), state.value.item)\n        .then(({data}) => {\n            if (data.result) {\n                state.value.order = data.result;\n            } else {\n                swal({\n                    icon: 'error',\n                    title: 'Замовлення не знайдено',\n                    text: 'Перевірте введені дані або зверніться за допомогою до менеджера'\n                })\n            }\n        })\n}\n</script>\n\n<template>\n        <Head title=\"Статус замовлення\"/>\n\n        <div v-if=\"!state.isLoading\">\n            <Breadcrumbs :current-url=\"route().current\" :options=\"options\" :lang=\"lang\" title=\"Статус замовлення\"/>\n\n            <div class=\"max-w-xl mx-auto\">\n                <Form :item=\"state.item\"\n                      @submitForm=\"checkStatus\"\n                      v-if=\"!state.order\"\n                />\n\n                <Status :order=\"state.order\"\n                        v-if=\"state.order\"\n                        :statuses=\"state.statuses\"\n                />\n            </div>\n        </div>\n</template>\n"],"names":["__default__","__MACROS_defineComponent","MasterLayout","state","ref","onMounted","checkStatus","data","swal"],"mappings":"khCAUcA,EAAAC,EAAA,CAAC,OAAQC,CAAY,CAAA,wHAWnC,MAAMC,EAAQC,EAAI,CACd,KAAM,CACF,MAAO,KACP,SAAU,IACb,EACD,UAAW,GACX,SAAU,CAAE,EACZ,MAAO,IACX,CAAC,EAEDC,EAAU,SAAY,CACd,MAAO,EAAC,OAAO,UAAY,MAAO,EAAC,OAAO,QAC1CF,EAAM,MAAM,KAAK,MAAQ,MAAO,EAAC,OAAO,MACxCA,EAAM,MAAM,KAAK,SAAW,MAAO,EAAC,OAAO,SAC3C,MAAMG,EAAW,EAEzB,CAAC,EAED,MAAMA,EAAc,SAAY,CAC5B,MAAM,MAAM,KAAK,MAAM,sBAAsB,EAAGH,EAAM,MAAM,IAAI,EAC3D,KAAK,CAAC,CAAC,KAAAI,CAAI,IAAM,CACVA,EAAK,OACLJ,EAAM,MAAM,MAAQI,EAAK,OAEzBC,EAAK,CACD,KAAM,QACN,MAAO,yBACP,KAAM,iEAC1B,CAAiB,CAEjB,CAAS,CACT"}