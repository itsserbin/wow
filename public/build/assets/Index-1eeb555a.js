import v from"./Timer-b6ebf093.js";import h from"./ProductCard-2187ec79.js";import{_ as x}from"./MasterLayout-0d698ba0.js";import _ from"./Head-48caacdc.js";import{s as d}from"./swal-02b4eb44.js";import{e as k}from"./eventTracking-9927e521.js";import{d as y,r as u,o as S,g as n,z as g,i as t,l as r,j as T,F as p,x as I,p as o,s as P}from"./app-0cccff29.js";import"./Header-0b1686ff.js";import"./CartIcon-643e95ce.js";import"./Langs-e9b5a188.js";import"./Logo-857fc5bc.js";import"./HeaderCategories-b94fb6dd.js";import"./create-element-if-not-defined-cfc4b805.js";import"./pagination-93e47b88.js";import"./lazy-e32f6dbe.js";import"./autoplay-1fa09654.js";import"./swiper-slide-4e0eb96b.js";import"./Footer-9d325fb2.js";import"./FixedBanner-0cc7ba7c.js";import"./ScrollToTop-5e8e72bb.js";const O={class:"grid gap-4 grid-cols-1"},w={class:"grid grid-cols-1 gap-4"},b={class:"font-bold text-black text-center text-2xl font-heading"},V={class:"text-center text-xl font-subheading"},D={key:0,class:"text-center text-xl font-subheading"},L={key:0,class:"grid gap-4 mt-5"},B={class:"font-bold text-black text-center text-2xl font-subheading"},M={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},$={key:1,class:"order-page__text my-5"},j=y({layout:x}),ae=Object.assign(j,{__name:"Index",props:{categories:Array,options:Object,pages:Array,lang:String,eventIdPageView:String,textThanksPageTitle:{type:String,default:"Дякую за ваше замовлення :)"},textThanksPageDescription:{type:String,default:"Найближчим часом з вами зв`яжеться оператор для підтвердження замовлення."},textThanksPageOrderId:{type:String,default:"Номер вашого замовлення:"},textThanksPageSpecials:{type:String,default:"Спеціальні пропозиції. Встигни додати до замовлення"},textThanksPageSpecialsEnds:{type:String,default:"Час дії пропозиції минув. Сподіваємось, Вас зацікавлять наші акції наступного разу. Починаємо готувати посилку і незабаром відправимо Ваше замовлення"}},setup(a){const m=a,l=u({hours:"",mins:"",secs:""}),e=u({orderId:null,isLoading:!0,products:[],activeSpecialOffer:!1});S(async()=>{e.value.orderId=route().params.id,await axios.get(route("api.v1.orders.special",e.value.orderId)).then(({data:i})=>{i.result?setInterval(function(){let s=new Date(i.result.end_time).getTime()-new Date().getTime();s>=0?(l.value.hours=("0"+Math.floor(s%(1e3*60*60*24)/(1e3*60*60))).slice(-2),l.value.mins=("0"+Math.floor(s%(1e3*60*60)/(1e3*60))).slice(-2),l.value.secs=("0"+Math.floor(s%(1e3*60)/1e3)).slice(-2),e.value.activeSpecialOffer=!0,e.value.products=i.result.products,e.value.isLoading=!1):(e.value.activeSpecialOffer=!1,e.value.isLoading=!1)},1e3):(e.value.isLoading=!1,e.value.activeSpecialOffer=!1)}),k("PageView",{},m.eventIdPageView)});const f=async(i,s)=>{await axios.post("/api/v1/order/add-item/"+e.value.orderId,{id:i,price:s}).then(async()=>await d({icon:"success",title:"Додано!",text:"Товар успішно додано до вашого замовлення"})).catch(async c=>{console.error(c),await d({icon:"error",title:"Виникла помилка",text:"Зверніться до адміністратора"})})};return(i,s)=>(o(),n(p,null,[g(_,{title:"Дякуємо за покупку!"}),t("section",O,[t("div",w,[t("h1",b,r(a.textThanksPageTitle),1),t("div",V,[t("p",null,r(a.textThanksPageDescription),1)]),e.value.orderId?(o(),n("div",D,r(a.textThanksPageOrderId)+" "+r(e.value.orderId),1)):T("",!0)]),e.value.activeSpecialOffer?(o(),n("div",L,[t("div",B,r(a.textThanksPageSpecials),1),g(v,{timer:l.value},null,8,["timer"]),t("div",M,[(o(!0),n(p,null,I(e.value.products,c=>(o(),P(h,{product:c,onAddItemToOrder:f,lang:a.lang},null,8,["product","lang"]))),256))])])):(o(),n("div",$,[t("p",null,r(a.textThanksPageSpecialsEnds),1)]))])],64))}});export{ae as default};
