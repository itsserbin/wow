import{r as v,q as r,s as e,y as a,v as n,H as f,D as x,F as m,E as g,C as B,u as V,G as M,Q as P,g as U,A as c,J as C,K as b,S as j,x as k}from"./index.a7093408.js";import z from"./BuyIn1ClickModal.2e9404c2.js";import{u as N}from"./app.7945d265.js";import y from"./Button.682eb9eb.js";import"./Modal.00caec7b.js";import"./Loader.e91ab242.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Input.c1220fec.js";import"./InputError.8b0e6a3f.js";import"./Label.5729b150.js";const S={class:"pt-[5%]"},$=e("hr",{class:"mb-4"},null,-1),q={class:"grid grid-cols-1 md:grid-cols-2 font-subheading"},D={class:"mb-4 mb-md-0 flex items-center justify-evenly flex-col"},E={key:0,class:"text-center"},F={class:"text-lg font-medium text-[#A5A5A5] line-through"},G={class:"font-bold text-[#ff0000] text-4xl"},H={key:1,class:"text-center"},J={class:"text-lg font-bold font-medium text-[#A5A5A5] text-[2.5rem]"},K={class:"grid gap-4"},L=k(" \u0414\u043E \u043A\u043E\u0448\u0438\u043A\u0430 "),Q=k(" \u041A\u0443\u043F\u0438\u0442\u0438 \u0432 1 \u043A\u043B\u0456\u043A "),O=e("hr",{class:"mt-4"},null,-1),R={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5 font-subheading"},W={key:0},X=e("div",{class:"w-full mb-2"},"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438",-1),Y={class:"flex pb-[20px]"},Z={class:"mx-1"},ee=["value","id","onUpdate:modelValue"],te=["for"],oe={key:1},ce=e("div",{class:"w-100 mb-2"},"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u043A\u043E\u043B\u044C\u043E\u0440\u0438",-1),se={class:"flex"},de=["id","value","onUpdate:modelValue"],re=["for"],xe={__name:"AddToCart",props:["product","eventIdAddToCard","eventIdPurchaseIn1Click"],setup(o){const t=o,p=M("$swal"),A=N(),h=P(),{appContext:I}=U(),{$fbq:T}=I.config.globalProperties,s=v({count:1,size:[],color:[],item_id:t.product.id,src:route(route().current(),route().params),event_id:t.eventIdAddToCard}),i=v({product:{id:null,discount_price:null,price:null,h1:null,sizes:[],colors:[]},isActiveBuyIn1ClickModal:!1,isAddToCart:!1});function _(){i.value.isActiveBuyIn1ClickModal=!i.value.isActiveBuyIn1ClickModal}function w(){i.value.isAddToCart||axios.post(route("api.v1.cart.add",s.value)).then(()=>{i.value.isAddToCart=!0;try{T("AddToCart",{value:t.product.discount_price?t.product.discount_price:t.product.price,currency:"UAH",content_type:"product",content_ids:[s.value.item_id],content_name:t.product.h1},s.value.event_id),A.trackEvent({event:"add_product_to_cart",ecommerce:{items:[{item_name:t.product.h1,item_id:s.value.item_id,price:t.product.discount_price?t.product.discount_price:t.product.price,quantity:1}]}})}catch(l){console.log(l)}h.commit("loadCart"),p({icon:"success",title:"\u0422\u043E\u0432\u0430\u0440 \u0434\u043E\u0434\u0430\u043D\u043E \u0434\u043E \u0432\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u0448\u0438\u043A\u0430!",text:"\u0412\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u0430\u0431\u043E \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438 :)",showCancelButton:!0,confirmButtonText:"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F",cancelButtonText:"\u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"}).then(l=>{l.isConfirmed&&(window.location.href=route("checkout"))})}).catch(()=>{p({icon:"error",title:"\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430",text:"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0456\u0441\u0442\u044C \u0434\u0430\u043D\u043D\u0438\u0445"})})}return(l,ie)=>(c(),r(m,null,[e("div",S,[$,e("div",q,[e("div",D,[o.product.discount_price?(c(),r("div",E,[e("div",F,a(o.product.price)+" \u0433\u0440\u043D. ",1),e("div",G,a(o.product.discount_price)+" \u0433\u0440\u043D.",1)])):n("",!0),o.product.discount_price?n("",!0):(c(),r("div",H,[e("div",J,a(o.product.price)+" \u0433\u0440\u043D. ",1)]))]),e("div",K,[f(y,{onClick:w,type:"button"},{default:x(()=>[L]),_:1}),f(y,{onClick:_,type:"button"},{default:x(()=>[Q]),_:1})])]),O]),e("div",R,[o.product.sizes.length?(c(),r("div",W,[X,e("ul",Y,[(c(!0),r(m,null,g(o.product.sizes,d=>(c(),r("li",Z,[C(e("input",{type:"checkbox",value:d.title,id:d.title,class:"hidden peer","onUpdate:modelValue":u=>s.value.size=u},null,8,ee),[[b,s.value.size]]),e("label",{for:d.title,class:"inline-flex justify-center items-center mx-auto text-gray-500 bg-white rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50 w-[40px] h-[40px]"},a(d.title),9,te)]))),256))])])):n("",!0),o.product.colors.length?(c(),r("div",oe,[ce,e("div",se,[(c(!0),r(m,null,g(o.product.colors,d=>(c(),r("div",null,[C(e("input",{type:"checkbox",id:d.name,value:d.name,class:"hidden peer","onUpdate:modelValue":u=>s.value.color=u},null,8,de),[[b,s.value.color]]),e("label",{for:d.name,style:j("background-color:"+d.hex),class:"inline-flex justify-center items-center mx-auto text-black-500 rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-black peer-checked:text-gray-600 hover:bg-black w-[40px] h-[40px]"},null,12,re)]))),256))])])):n("",!0)]),i.value.isActiveBuyIn1ClickModal?(c(),B(z,{key:0,onCloseModal:_,item:s.value,product:o.product,cart:V(h).state.list,eventIdPurchaseIn1Click:t.eventIdPurchaseIn1Click,eventIdAddToCard:t.eventIdAddToCard,isAddToCart:i.value.isAddToCart},null,8,["item","product","cart","eventIdPurchaseIn1Click","eventIdAddToCard","isAddToCart"])):n("",!0)],64))}};export{xe as default};
