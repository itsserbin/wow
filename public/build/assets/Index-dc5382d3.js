import f from"./Timer-08a6a4a0.js";import v from"./ProductCard-00cca755.js";import{_ as h}from"./MasterLayout-5dc9e578.js";import x from"./Head-7fb5c9df.js";import{s as d}from"./swal-846883b6.js";import{f as _,g as u,o as k,m as n,E as p,p as t,v as r,q as y,F as g,C as S,y as o,A as T}from"./index-bc3c132c.js";import"./Header-4e8300ae.js";import"./CartIcon-0dd2aeff.js";import"./Langs-d061ad53.js";import"./Logo-3d23fa23.js";import"./HeaderCategories-9ccd6cd7.js";import"./create-element-if-not-defined-cfc4b805.js";import"./pagination-93e47b88.js";import"./lazy-e32f6dbe.js";import"./autoplay-1fa09654.js";import"./swiper-slide-df8ae9a2.js";import"./Footer-ac622e64.js";import"./FixedBanner-2bf1409b.js";import"./ScrollToTop-28cf97b5.js";const I={class:"grid gap-4 grid-cols-1"},O={class:"grid grid-cols-1 gap-4"},P={class:"font-bold text-black text-center text-2xl font-heading"},b={class:"text-center text-xl font-subheading"},w={key:0,class:"text-center text-xl font-subheading"},D={key:0,class:"grid gap-4 mt-5"},L={class:"font-bold text-black text-center text-2xl font-subheading"},A={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},B={key:1,class:"order-page__text my-5"},E=_({layout:h}),Z=Object.assign(E,{__name:"Index",props:{categories:Array,options:Object,pages:Array,lang:String,eventIdPageView:String,textThanksPageTitle:{type:String,default:"Дякую за ваше замовлення :)"},textThanksPageDescription:{type:String,default:"Найближчим часом з вами зв`яжеться оператор для підтвердження замовлення."},textThanksPageOrderId:{type:String,default:"Номер вашого замовлення:"},textThanksPageSpecials:{type:String,default:"Спеціальні пропозиції. Встигни додати до замовлення"},textThanksPageSpecialsEnds:{type:String,default:"Час дії пропозиції минув. Сподіваємось, Вас зацікавлять наші акції наступного разу. Починаємо готувати посилку і незабаром відправимо Ваше замовлення"}},setup(s){const l=u({hours:"",mins:"",secs:""}),e=u({orderId:null,isLoading:!0,products:[],activeSpecialOffer:!1});k(async()=>{e.value.orderId=route().params.id,await axios.get(route("api.v1.orders.special",e.value.orderId)).then(({data:i})=>{i.result?setInterval(function(){let a=new Date(i.result.end_time).getTime()-new Date().getTime();a>=0?(l.value.hours=("0"+Math.floor(a%(1e3*60*60*24)/(1e3*60*60))).slice(-2),l.value.mins=("0"+Math.floor(a%(1e3*60*60)/(1e3*60))).slice(-2),l.value.secs=("0"+Math.floor(a%(1e3*60)/1e3)).slice(-2),e.value.activeSpecialOffer=!0,e.value.products=i.result.products,e.value.isLoading=!1):(e.value.activeSpecialOffer=!1,e.value.isLoading=!1)},1e3):(e.value.isLoading=!1,e.value.activeSpecialOffer=!1)})});const m=async(i,a)=>{await axios.post("/api/v1/order/add-item/"+e.value.orderId,{id:i,price:a}).then(async()=>await d({icon:"success",title:"Додано!",text:"Товар успішно додано до вашого замовлення"})).catch(async c=>{console.error(c),await d({icon:"error",title:"Виникла помилка",text:"Зверніться до адміністратора"})})};return(i,a)=>(o(),n(g,null,[p(x,{title:"Дякуємо за покупку!"}),t("section",I,[t("div",O,[t("h1",P,r(s.textThanksPageTitle),1),t("div",b,[t("p",null,r(s.textThanksPageDescription),1)]),e.value.orderId?(o(),n("div",w,r(s.textThanksPageOrderId)+" "+r(e.value.orderId),1)):y("",!0)]),e.value.activeSpecialOffer?(o(),n("div",D,[t("div",L,r(s.textThanksPageSpecials),1),p(f,{timer:l.value},null,8,["timer"]),t("div",A,[(o(!0),n(g,null,S(e.value.products,c=>(o(),T(v,{product:c,onAddItemToOrder:m,lang:s.lang},null,8,["product","lang"]))),256))])])):(o(),n("div",B,[t("p",null,r(s.textThanksPageSpecialsEnds),1)]))])],64))}});export{Z as default};
