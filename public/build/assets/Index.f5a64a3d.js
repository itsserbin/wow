import m from"./OptionsLayout.8dda99b2.js";import f from"./Form.27333349.js";import{L as w}from"./app.1edad9f2.js";import{af as _,q as x,s as g,p as e,w as v,x as c,o as n,k as p,u as y}from"./vendor.2c8aab53.js";import"./__commonjsHelpers__.4516dc8a.js";import"./vue.m.132a23fc.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Logo.6090e12d.js";import"./Logo.0ae58f4d.js";const u={main(){return{async index(){try{return(await axios.get(route("api.options.main.index"))).data}catch(t){throw new Error(t.response.data)}},async update(t){try{return(await axios.put(route("api.options.main.update"),t)).data}catch(s){throw new Error(s.response.data)}}}}},q={__name:"Index",setup(t){const s=c("$can"),r=c("$swal"),{t:i}=_(),o=x({isLoading:!1,options:{}});g(()=>l());const l=async()=>{o.value.isLoading=!0;const a=await u.main().index();a.success&&(o.value.options=a.result),o.value.isLoading=!1},d=async()=>{o.value.isLoading=!0;const a=await u.main().update(o.value.options);a.success?r({title:i("swal.updated"),icon:"success"}):(console.log(a),r({title:i("swal.error"),icon:"error"})),o.value.isLoading=!1};return(a,L)=>(n(),e(m,null,{default:v(()=>[o.value.isLoading?(n(),e(w,{key:0})):p("",!0),y(s)("show-main-options")&&!o.value.isLoading?(n(),e(f,{key:1,options:o.value.options,onSubmitForm:d},null,8,["options"])):p("",!0)]),_:1}))}};export{q as default};
