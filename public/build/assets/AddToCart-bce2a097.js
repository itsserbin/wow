import{r as v,g as r,i as e,l as a,j as n,z as _,v as f,F as p,x,s as B,u as M,M as V,ac as z,p as c,k as g,A as b,B as y,O as P}from"./app-da11968c.js";import U from"./BuyIn1ClickModal-5539d928.js";import{u as j}from"./app-7e80f983.js";import C from"./Button-32e5d6b0.js";import{s as k}from"./swal-dd8503f8.js";import"./maska-224de96c.js";import"./Modal-c600e495.js";import"./Loader-2f5cca2d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input-aacbae22.js";import"./InputError-98f1dafe.js";import"./Label-040fda4f.js";import"./vue-i18n.esm-bundler-7f92347f.js";const N={class:"pt-[5%]"},S=e("hr",{class:"mb-4"},null,-1),$={class:"grid grid-cols-1 md:grid-cols-2 font-subheading"},q={class:"mb-4 mb-md-0 flex items-center justify-evenly flex-col"},D={key:0,class:"text-center"},E={class:"text-lg font-medium text-[#A5A5A5] line-through"},F={class:"font-bold text-[#ff0000] text-4xl"},G={key:1,class:"text-center"},H={class:"text-lg font-bold font-medium text-[#A5A5A5] text-[2.5rem]"},L={class:"grid gap-4"},O=e("hr",{class:"mt-4"},null,-1),J={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5 font-subheading"},K={key:0},Q=e("div",{class:"w-full mb-2"},"Доступні розміри",-1),R={class:"flex pb-[20px]"},W={class:"mx-1"},X=["value","id","onUpdate:modelValue"],Y=["for"],Z={key:1},ee=e("div",{class:"w-100 mb-2"},"Доступні кольори",-1),te={class:"flex"},oe=["id","value","onUpdate:modelValue"],ce=["for"],xe={__name:"AddToCart",props:["product","eventIdAddToCard","eventIdPurchaseIn1Click"],setup(o){const t=o,A=j(),m=V(),{appContext:I}=z(),{$fbq:w}=I.config.globalProperties,d=v({count:1,size:[],color:[],item_id:t.product.id,src:typeof window<"u"?window.location.href:null,event_id:t.eventIdAddToCard}),s=v({product:{id:null,discount_price:null,price:null,h1:null,sizes:[],colors:[]},isActiveBuyIn1ClickModal:!1,isAddToCart:!1});function h(){s.value.isActiveBuyIn1ClickModal=!s.value.isActiveBuyIn1ClickModal}function T(){s.value.isAddToCart||axios.post(route("api.v1.cart.add",d.value)).then(()=>{s.value.isAddToCart=!0;try{w("AddToCart",{value:t.product.discount_price?t.product.discount_price:t.product.price,currency:"UAH",content_type:"product",content_ids:[d.value.item_id],content_name:t.product.h1},d.value.event_id),A.trackEvent({event:"add_product_to_cart",ecommerce:{items:[{item_name:t.product.h1,item_id:d.value.item_id,price:t.product.discount_price?t.product.discount_price:t.product.price,quantity:1}]}})}catch(l){console.log(l)}m.commit("loadCart"),k({icon:"success",title:"Товар додано до вашого кошика!",text:"Ви можете оформити замовлення або продовжити покупки :)",showCancelButton:!0,confirmButtonText:"Оформити замовлення",cancelButtonText:"Продовжити покупки"}).then(l=>{l.isConfirmed&&typeof window<"u"&&(window.location.href=route("checkout"))})}).catch(()=>{k({icon:"error",title:"Виникла помилка",text:"Перевірте корректність данних"})})}return(l,de)=>(c(),r(p,null,[e("div",N,[S,e("div",$,[e("div",q,[o.product.discount_price?(c(),r("div",D,[e("div",E,a(o.product.price)+" грн. ",1),e("div",F,a(o.product.discount_price)+" грн.",1)])):n("",!0),o.product.discount_price?n("",!0):(c(),r("div",G,[e("div",H,a(o.product.price)+" грн. ",1)]))]),e("div",L,[_(C,{onClick:T,type:"button"},{default:f(()=>[g(" До кошика ")]),_:1}),_(C,{onClick:h,type:"button"},{default:f(()=>[g(" Купити в 1 клік ")]),_:1})])]),O]),e("div",J,[o.product.sizes.length?(c(),r("div",K,[Q,e("ul",R,[(c(!0),r(p,null,x(o.product.sizes,i=>(c(),r("li",W,[b(e("input",{type:"checkbox",value:i.title,id:i.title,class:"hidden peer","onUpdate:modelValue":u=>d.value.size=u},null,8,X),[[y,d.value.size]]),e("label",{for:i.title,class:"inline-flex justify-center items-center mx-auto text-gray-500 bg-white rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50 w-[40px] h-[40px]"},a(i.title),9,Y)]))),256))])])):n("",!0),o.product.colors.length?(c(),r("div",Z,[ee,e("div",te,[(c(!0),r(p,null,x(o.product.colors,i=>(c(),r("div",null,[b(e("input",{type:"checkbox",id:i.name,value:i.name,class:"hidden peer","onUpdate:modelValue":u=>d.value.color=u},null,8,oe),[[y,d.value.color]]),e("label",{for:i.name,style:P("background-color:"+i.hex),class:"inline-flex justify-center items-center mx-auto text-black-500 rounded-lg border-2 border-gray-200 cursor-pointer peer-checked:border-blue-600 hover:text-black peer-checked:text-gray-600 hover:bg-black w-[40px] h-[40px]"},null,12,ce)]))),256))])])):n("",!0)]),s.value.isActiveBuyIn1ClickModal?(c(),B(U,{key:0,onCloseModal:h,item:d.value,product:o.product,cart:M(m).state.list,eventIdPurchaseIn1Click:t.eventIdPurchaseIn1Click,eventIdAddToCard:t.eventIdAddToCard,isAddToCart:s.value.isAddToCart},null,8,["item","product","cart","eventIdPurchaseIn1Click","eventIdAddToCard","isAddToCart"])):n("",!0)],64))}};export{xe as default};
