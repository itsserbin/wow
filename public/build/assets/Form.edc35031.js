import{y as U,C as P,L as C,M as i,K as o,P as c,ac as E,B as v,V as u,S as M}from"./___vite-browser-external_commonjs-proxy.af1999bf.js";const S={class:"grid grid-cols-3 mb-5 gap-4"},T={class:"block col-span-2"},$={class:"block"},A={class:"grid grid-cols-2 gap-4 mb-5"},B={class:"block"},D={class:"block"},F=i("hr",{class:"mb-5"},null,-1),I={class:"grid grid-cols-1 rounded"},K={class:"block mb-5"},N={class:"block mb-5"},O={class:"block mb-5"},j={class:"block mb-5"},q={class:"block mb-5"},G={__name:"Form",props:["item"],setup(t){const m=t,r=v("$tiny"),V=v("$defaultLang"),f=v("$publishedStatuses"),l=U({categories:[],categoryPreview:[],activeLang:V});P(()=>{k(),m.item.preview&&g(m.item.preview)});function g(s){l.value.categoryPreview.push({src:route("images.55",s)})}function y(s){l.value.activeLang=s}function L(){m.item.preview=null,l.value.categoryPreview=[]}function k(){axios.get(route("api.categories.list")).then(({data:s})=>{s.result.forEach(e=>{l.value.categories.push({key:e.id,value:e.title.ua?e.title.ua:e.title.ru})})}).catch(s=>console.log(s))}function w(s){let e=new FormData;e.append("image",s),axios.post(route("api.images.upload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{m.item.preview=n.result,g(n.result)}).catch(n=>console.log(n))}return(s,e)=>{const n=u("label-component"),d=u("input-component"),p=u("select-component"),x=u("upload-input-component"),h=u("lang-tabs"),b=u("textarea-component"),_=u("editor");return M(),C("form",{onSubmit:e[8]||(e[8]=E(a=>s.$emit("submit",t.item),["prevent"])),class:"flex flex-col"},[i("div",S,[i("div",T,[o(n,{value:"\u0427\u041F\u0423"}),o(d,{modelValue:t.item.slug,"onUpdate:modelValue":e[0]||(e[0]=a=>t.item.slug=a),type:"text"},null,8,["modelValue"])]),i("div",$,[o(n,{value:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u0443\u0431\u043B\u0456\u043A\u0430\u0446\u0456\u0457"}),o(p,{modelValue:t.item.published,"onUpdate:modelValue":e[1]||(e[1]=a=>t.item.published=a),options:c(f)},null,8,["modelValue","options"])])]),i("div",A,[i("div",B,[o(n,{value:"\u0411\u0430\u0442\u044C\u043A\u0456\u0432\u0441\u044C\u043A\u0430 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F"}),o(p,{modelValue:t.item.parent_id,"onUpdate:modelValue":e[2]||(e[2]=a=>t.item.parent_id=a),options:l.value.categories},null,8,["modelValue","options"])]),i("div",D,[o(x,{multiple:!1,id:"uploadCategoryPreview",label:"\u0413\u043E\u043B\u043E\u0432\u043D\u0435 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F",onUpload:w,images:l.value.categoryPreview,onOnDestroyImage:L},null,8,["images"])])]),o(h,{onClickLang:y}),F,i("div",I,[i("div",K,[o(n,{value:"\u041D\u0430\u0437\u0432\u0430 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u0457"}),o(d,{modelValue:t.item.title[l.value.activeLang],"onUpdate:modelValue":e[3]||(e[3]=a=>t.item.title[l.value.activeLang]=a),type:"text"},null,8,["modelValue"])]),i("div",N,[o(n,{value:"META Title"}),o(d,{modelValue:t.item.meta_title[l.value.activeLang],"onUpdate:modelValue":e[4]||(e[4]=a=>t.item.meta_title[l.value.activeLang]=a),type:"text"},null,8,["modelValue"])]),i("div",O,[o(n,{value:"META Description"}),o(b,{modelValue:t.item.meta_description[l.value.activeLang],"onUpdate:modelValue":e[5]||(e[5]=a=>t.item.meta_description[l.value.activeLang]=a)},null,8,["modelValue"])]),i("div",j,[o(n,{value:"META Keywords"}),o(b,{modelValue:t.item.meta_keyword[l.value.activeLang],"onUpdate:modelValue":e[6]||(e[6]=a=>t.item.meta_keyword[l.value.activeLang]=a)},null,8,["modelValue"])]),i("div",q,[o(n,{value:"SEO \u0422\u0435\u043A\u0441\u0442"}),o(_,{"api-key":c(r).api,modelValue:t.item.seo_text[l.value.activeLang],"onUpdate:modelValue":e[7]||(e[7]=a=>t.item.seo_text[l.value.activeLang]=a),init:c(r).settings},null,8,["api-key","modelValue","init"])])])],32)}}};export{G as default};
