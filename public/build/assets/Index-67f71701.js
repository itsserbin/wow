import p from"./Breadcrumbs-bbf4f517.js";import d from"./Card-42e4718b.js";import g from"./Loader-a754efea.js";import v from"./Button-89dd0099.js";import f from"./Head-bd008beb.js";import{_}from"./MasterLayout-fe1d6019.js";import{e as w}from"./eventTracking-2bfdf7f8.js";import{d as x,r as h,o as y,g as a,z as l,F as u,x as L,s as n,j as i,v as k,i as M,p as t,k as V,l as b}from"./app-6b874a0d.js";import"./Breadcrumbs-26d854df.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Header-12e25b69.js";import"./CartIcon-73990756.js";import"./Langs-2bfda478.js";import"./Logo-28208bf3.js";import"./HeaderCategories-9caaf3ea.js";import"./create-element-if-not-defined-cfc4b805.js";import"./pagination-93e47b88.js";import"./lazy-e32f6dbe.js";import"./autoplay-1fa09654.js";import"./swiper-slide-a5bb9402.js";import"./Footer-b0cd30c0.js";import"./FixedBanner-06c744fc.js";import"./ScrollToTop-8a88df8b.js";const P={key:0},$=M("h1",{class:"font-bold text-black text-center text-[24px] mb-[15px]"}," Відгуки ",-1),B={key:0,class:"text-center"},C=x({layout:_}),re=Object.assign(C,{__name:"Index",props:{lang:String,categories:Array,options:Object,pages:Array,textLoadMore:{type:String,default:"Завантажити ще"},eventIdPageView:String},setup(o){const c=o,e=h({reviews:[],isLoadingMore:!1,showLoadMore:!0,currentPage:0,endpoint:"/api/v1/reviews/paginate-list?page="});y(async()=>{await s(),w("PageView",{},c.eventIdPageView)});const s=async()=>{e.value.isLoadingMore=!0,axios.get(e.value.endpoint+(e.value.currentPage+1)).then(({data:r})=>{e.value.isLoadingMore=!1,e.value.currentPage=r.result.current_page,e.value.reviews=e.value.reviews.concat(r.result.data),e.value.showLoadMore=r.result.to!==r.result.total})};return(r,N)=>(t(),a(u,null,[l(f,{title:"Відгуки"}),e.value.reviews.length?(t(),a("div",P,[l(p,{"current-url":r.route().current,options:o.options,lang:o.lang,title:"Відгуки"},null,8,["current-url","options","lang"]),$,(t(!0),a(u,null,L(e.value.reviews,m=>(t(),n(d,{item:m},null,8,["item"]))),256)),e.value.showLoadMore?(t(),a("div",B,[e.value.isLoadingMore?(t(),n(g,{key:0})):i("",!0),e.value.isLoadingMore?i("",!0):(t(),n(v,{key:1,onClick:s,type:"button"},{default:k(()=>[V(b(o.textLoadMore),1)]),_:1}))])):i("",!0)])):i("",!0)],64))}});export{re as default};
