import m from"./Breadcrumbs-39e59a49.js";import p from"./Card-e4a5bd27.js";import d from"./Loader-2f5cca2d.js";import g from"./Button-32e5d6b0.js";import v from"./Head-de796659.js";import{_}from"./MasterLayout-010f9124.js";import{d as f,r as x,o as h,g as o,z as l,F as u,x as w,s as n,j as a,v as y,i as L,p as t,k as M,l as k}from"./app-da11968c.js";import"./Breadcrumbs-a78075e9.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Header-4c1f7986.js";import"./CartIcon-d0aaf1a7.js";import"./Langs-2265ce9f.js";import"./Logo-9fe22fca.js";import"./HeaderCategories-033e77a6.js";import"./create-element-if-not-defined-cfc4b805.js";import"./pagination-93e47b88.js";import"./lazy-e32f6dbe.js";import"./autoplay-1fa09654.js";import"./swiper-slide-d2fd35cc.js";import"./Footer-78de8f84.js";import"./FixedBanner-a8dfca4a.js";import"./ScrollToTop-c9ea5f34.js";const b={key:0},V=L("h1",{class:"font-bold text-black text-center text-[24px] mb-[15px]"}," Відгуки ",-1),$={key:0,class:"text-center"},B=f({layout:_}),Z=Object.assign(B,{__name:"Index",props:{lang:String,categories:Array,options:Object,pages:Array,textLoadMore:{type:String,default:"Завантажити ще"},eventIdPageView:String},setup(i){const e=x({reviews:[],isLoadingMore:!1,showLoadMore:!0,currentPage:0,endpoint:"/api/v1/reviews/paginate-list?page="});h(async()=>{await s()});const s=async()=>{e.value.isLoadingMore=!0,axios.get(e.value.endpoint+(e.value.currentPage+1)).then(({data:r})=>{e.value.isLoadingMore=!1,e.value.currentPage=r.result.current_page,e.value.reviews=e.value.reviews.concat(r.result.data),e.value.showLoadMore=r.result.to!==r.result.total})};return(r,C)=>(t(),o(u,null,[l(v,{title:"Відгуки"}),e.value.reviews.length?(t(),o("div",b,[l(m,{"current-url":r.route().current,options:i.options,lang:i.lang,title:"Відгуки"},null,8,["current-url","options","lang"]),V,(t(!0),o(u,null,w(e.value.reviews,c=>(t(),n(p,{item:c},null,8,["item"]))),256)),e.value.showLoadMore?(t(),o("div",$,[e.value.isLoadingMore?(t(),n(d,{key:0})):a("",!0),e.value.isLoadingMore?a("",!0):(t(),n(g,{key:1,onClick:s,type:"button"},{default:y(()=>[M(k(i.textLoadMore),1)]),_:1}))])):a("",!0)])):a("",!0)],64))}});export{Z as default};
